(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
(function (process,global){
(function() {
var define, requireModule, require, requirejs;

(function() {
  var registry = {}, seen = {};

  define = function(name, deps, callback) {
    registry[name] = { deps: deps, callback: callback };
  };

  requirejs = require = requireModule = function(name) {
  requirejs._eak_seen = registry;

    if (seen[name]) { return seen[name]; }
    seen[name] = {};

    if (!registry[name]) {
      throw new Error("Could not find module " + name);
    }

    var mod = registry[name],
        deps = mod.deps,
        callback = mod.callback,
        reified = [],
        exports;

    for (var i=0, l=deps.length; i<l; i++) {
      if (deps[i] === 'exports') {
        reified.push(exports = {});
      } else {
        reified.push(requireModule(resolve(deps[i])));
      }
    }

    var value = callback.apply(this, reified);
    return seen[name] = exports || value;

    function resolve(child) {
      if (child.charAt(0) !== '.') { return child; }
      var parts = child.split("/");
      var parentBase = name.split("/").slice(0, -1);

      for (var i=0, l=parts.length; i<l; i++) {
        var part = parts[i];

        if (part === '..') { parentBase.pop(); }
        else if (part === '.') { continue; }
        else { parentBase.push(part); }
      }

      return parentBase.join("/");
    }
  };
})();

define("promise/all", 
  ["./utils","exports"],
  function(__dependency1__, __exports__) {
    "use strict";
    /* global toString */

    var isArray = __dependency1__.isArray;
    var isFunction = __dependency1__.isFunction;

    /**
      Returns a promise that is fulfilled when all the given promises have been
      fulfilled, or rejected if any of them become rejected. The return promise
      is fulfilled with an array that gives all the values in the order they were
      passed in the `promises` array argument.

      Example:

      ```javascript
      var promise1 = RSVP.resolve(1);
      var promise2 = RSVP.resolve(2);
      var promise3 = RSVP.resolve(3);
      var promises = [ promise1, promise2, promise3 ];

      RSVP.all(promises).then(function(array){
        // The array here would be [ 1, 2, 3 ];
      });
      ```

      If any of the `promises` given to `RSVP.all` are rejected, the first promise
      that is rejected will be given as an argument to the returned promises's
      rejection handler. For example:

      Example:

      ```javascript
      var promise1 = RSVP.resolve(1);
      var promise2 = RSVP.reject(new Error("2"));
      var promise3 = RSVP.reject(new Error("3"));
      var promises = [ promise1, promise2, promise3 ];

      RSVP.all(promises).then(function(array){
        // Code here never runs because there are rejected promises!
      }, function(error) {
        // error.message === "2"
      });
      ```

      @method all
      @for RSVP
      @param {Array} promises
      @param {String} label
      @return {Promise} promise that is fulfilled when all `promises` have been
      fulfilled, or rejected if any of them become rejected.
    */
    function all(promises) {
      /*jshint validthis:true */
      var Promise = this;

      if (!isArray(promises)) {
        throw new TypeError('You must pass an array to all.');
      }

      return new Promise(function(resolve, reject) {
        var results = [], remaining = promises.length,
        promise;

        if (remaining === 0) {
          resolve([]);
        }

        function resolver(index) {
          return function(value) {
            resolveAll(index, value);
          };
        }

        function resolveAll(index, value) {
          results[index] = value;
          if (--remaining === 0) {
            resolve(results);
          }
        }

        for (var i = 0; i < promises.length; i++) {
          promise = promises[i];

          if (promise && isFunction(promise.then)) {
            promise.then(resolver(i), reject);
          } else {
            resolveAll(i, promise);
          }
        }
      });
    }

    __exports__.all = all;
  });
define("promise/asap", 
  ["exports"],
  function(__exports__) {
    "use strict";
    var browserGlobal = (typeof window !== 'undefined') ? window : {};
    var BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;
    var local = (typeof global !== 'undefined') ? global : (this === undefined? window:this);

    // node
    function useNextTick() {
      return function() {
        process.nextTick(flush);
      };
    }

    function useMutationObserver() {
      var iterations = 0;
      var observer = new BrowserMutationObserver(flush);
      var node = document.createTextNode('');
      observer.observe(node, { characterData: true });

      return function() {
        node.data = (iterations = ++iterations % 2);
      };
    }

    function useSetTimeout() {
      return function() {
        local.setTimeout(flush, 1);
      };
    }

    var queue = [];
    function flush() {
      for (var i = 0; i < queue.length; i++) {
        var tuple = queue[i];
        var callback = tuple[0], arg = tuple[1];
        callback(arg);
      }
      queue = [];
    }

    var scheduleFlush;

    // Decide what async method to use to triggering processing of queued callbacks:
    if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {
      scheduleFlush = useNextTick();
    } else if (BrowserMutationObserver) {
      scheduleFlush = useMutationObserver();
    } else {
      scheduleFlush = useSetTimeout();
    }

    function asap(callback, arg) {
      var length = queue.push([callback, arg]);
      if (length === 1) {
        // If length is 1, that means that we need to schedule an async flush.
        // If additional callbacks are queued before the queue is flushed, they
        // will be processed by this flush that we are scheduling.
        scheduleFlush();
      }
    }

    __exports__.asap = asap;
  });
define("promise/config", 
  ["exports"],
  function(__exports__) {
    "use strict";
    var config = {
      instrument: false
    };

    function configure(name, value) {
      if (arguments.length === 2) {
        config[name] = value;
      } else {
        return config[name];
      }
    }

    __exports__.config = config;
    __exports__.configure = configure;
  });
define("promise/polyfill", 
  ["./promise","./utils","exports"],
  function(__dependency1__, __dependency2__, __exports__) {
    "use strict";
    /*global self*/
    var RSVPPromise = __dependency1__.Promise;
    var isFunction = __dependency2__.isFunction;

    function polyfill() {
      var local;

      if (typeof global !== 'undefined') {
        local = global;
      } else if (typeof window !== 'undefined' && window.document) {
        local = window;
      } else {
        local = self;
      }

      var es6PromiseSupport = 
        "Promise" in local &&
        // Some of these methods are missing from
        // Firefox/Chrome experimental implementations
        "resolve" in local.Promise &&
        "reject" in local.Promise &&
        "all" in local.Promise &&
        "race" in local.Promise &&
        // Older version of the spec had a resolver object
        // as the arg rather than a function
        (function() {
          var resolve;
          new local.Promise(function(r) { resolve = r; });
          return isFunction(resolve);
        }());

      if (!es6PromiseSupport) {
        local.Promise = RSVPPromise;
      }
    }

    __exports__.polyfill = polyfill;
  });
define("promise/promise", 
  ["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],
  function(__dependency1__, __dependency2__, __dependency3__, __dependency4__, __dependency5__, __dependency6__, __dependency7__, __exports__) {
    "use strict";
    var config = __dependency1__.config;
    var configure = __dependency1__.configure;
    var objectOrFunction = __dependency2__.objectOrFunction;
    var isFunction = __dependency2__.isFunction;
    var now = __dependency2__.now;
    var all = __dependency3__.all;
    var race = __dependency4__.race;
    var staticResolve = __dependency5__.resolve;
    var staticReject = __dependency6__.reject;
    var asap = __dependency7__.asap;

    var counter = 0;

    config.async = asap; // default async is asap;

    function Promise(resolver) {
      if (!isFunction(resolver)) {
        throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
      }

      if (!(this instanceof Promise)) {
        throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
      }

      this._subscribers = [];

      invokeResolver(resolver, this);
    }

    function invokeResolver(resolver, promise) {
      function resolvePromise(value) {
        resolve(promise, value);
      }

      function rejectPromise(reason) {
        reject(promise, reason);
      }

      try {
        resolver(resolvePromise, rejectPromise);
      } catch(e) {
        rejectPromise(e);
      }
    }

    function invokeCallback(settled, promise, callback, detail) {
      var hasCallback = isFunction(callback),
          value, error, succeeded, failed;

      if (hasCallback) {
        try {
          value = callback(detail);
          succeeded = true;
        } catch(e) {
          failed = true;
          error = e;
        }
      } else {
        value = detail;
        succeeded = true;
      }

      if (handleThenable(promise, value)) {
        return;
      } else if (hasCallback && succeeded) {
        resolve(promise, value);
      } else if (failed) {
        reject(promise, error);
      } else if (settled === FULFILLED) {
        resolve(promise, value);
      } else if (settled === REJECTED) {
        reject(promise, value);
      }
    }

    var PENDING   = void 0;
    var SEALED    = 0;
    var FULFILLED = 1;
    var REJECTED  = 2;

    function subscribe(parent, child, onFulfillment, onRejection) {
      var subscribers = parent._subscribers;
      var length = subscribers.length;

      subscribers[length] = child;
      subscribers[length + FULFILLED] = onFulfillment;
      subscribers[length + REJECTED]  = onRejection;
    }

    function publish(promise, settled) {
      var child, callback, subscribers = promise._subscribers, detail = promise._detail;

      for (var i = 0; i < subscribers.length; i += 3) {
        child = subscribers[i];
        callback = subscribers[i + settled];

        invokeCallback(settled, child, callback, detail);
      }

      promise._subscribers = null;
    }

    Promise.prototype = {
      constructor: Promise,

      _state: undefined,
      _detail: undefined,
      _subscribers: undefined,

      then: function(onFulfillment, onRejection) {
        var promise = this;

        var thenPromise = new this.constructor(function() {});

        if (this._state) {
          var callbacks = arguments;
          config.async(function invokePromiseCallback() {
            invokeCallback(promise._state, thenPromise, callbacks[promise._state - 1], promise._detail);
          });
        } else {
          subscribe(this, thenPromise, onFulfillment, onRejection);
        }

        return thenPromise;
      },

      'catch': function(onRejection) {
        return this.then(null, onRejection);
      }
    };

    Promise.all = all;
    Promise.race = race;
    Promise.resolve = staticResolve;
    Promise.reject = staticReject;

    function handleThenable(promise, value) {
      var then = null,
      resolved;

      try {
        if (promise === value) {
          throw new TypeError("A promises callback cannot return that same promise.");
        }

        if (objectOrFunction(value)) {
          then = value.then;

          if (isFunction(then)) {
            then.call(value, function(val) {
              if (resolved) { return true; }
              resolved = true;

              if (value !== val) {
                resolve(promise, val);
              } else {
                fulfill(promise, val);
              }
            }, function(val) {
              if (resolved) { return true; }
              resolved = true;

              reject(promise, val);
            });

            return true;
          }
        }
      } catch (error) {
        if (resolved) { return true; }
        reject(promise, error);
        return true;
      }

      return false;
    }

    function resolve(promise, value) {
      if (promise === value) {
        fulfill(promise, value);
      } else if (!handleThenable(promise, value)) {
        fulfill(promise, value);
      }
    }

    function fulfill(promise, value) {
      if (promise._state !== PENDING) { return; }
      promise._state = SEALED;
      promise._detail = value;

      config.async(publishFulfillment, promise);
    }

    function reject(promise, reason) {
      if (promise._state !== PENDING) { return; }
      promise._state = SEALED;
      promise._detail = reason;

      config.async(publishRejection, promise);
    }

    function publishFulfillment(promise) {
      publish(promise, promise._state = FULFILLED);
    }

    function publishRejection(promise) {
      publish(promise, promise._state = REJECTED);
    }

    __exports__.Promise = Promise;
  });
define("promise/race", 
  ["./utils","exports"],
  function(__dependency1__, __exports__) {
    "use strict";
    /* global toString */
    var isArray = __dependency1__.isArray;

    /**
      `RSVP.race` allows you to watch a series of promises and act as soon as the
      first promise given to the `promises` argument fulfills or rejects.

      Example:

      ```javascript
      var promise1 = new RSVP.Promise(function(resolve, reject){
        setTimeout(function(){
          resolve("promise 1");
        }, 200);
      });

      var promise2 = new RSVP.Promise(function(resolve, reject){
        setTimeout(function(){
          resolve("promise 2");
        }, 100);
      });

      RSVP.race([promise1, promise2]).then(function(result){
        // result === "promise 2" because it was resolved before promise1
        // was resolved.
      });
      ```

      `RSVP.race` is deterministic in that only the state of the first completed
      promise matters. For example, even if other promises given to the `promises`
      array argument are resolved, but the first completed promise has become
      rejected before the other promises became fulfilled, the returned promise
      will become rejected:

      ```javascript
      var promise1 = new RSVP.Promise(function(resolve, reject){
        setTimeout(function(){
          resolve("promise 1");
        }, 200);
      });

      var promise2 = new RSVP.Promise(function(resolve, reject){
        setTimeout(function(){
          reject(new Error("promise 2"));
        }, 100);
      });

      RSVP.race([promise1, promise2]).then(function(result){
        // Code here never runs because there are rejected promises!
      }, function(reason){
        // reason.message === "promise2" because promise 2 became rejected before
        // promise 1 became fulfilled
      });
      ```

      @method race
      @for RSVP
      @param {Array} promises array of promises to observe
      @param {String} label optional string for describing the promise returned.
      Useful for tooling.
      @return {Promise} a promise that becomes fulfilled with the value the first
      completed promises is resolved with if the first completed promise was
      fulfilled, or rejected with the reason that the first completed promise
      was rejected with.
    */
    function race(promises) {
      /*jshint validthis:true */
      var Promise = this;

      if (!isArray(promises)) {
        throw new TypeError('You must pass an array to race.');
      }
      return new Promise(function(resolve, reject) {
        var results = [], promise;

        for (var i = 0; i < promises.length; i++) {
          promise = promises[i];

          if (promise && typeof promise.then === 'function') {
            promise.then(resolve, reject);
          } else {
            resolve(promise);
          }
        }
      });
    }

    __exports__.race = race;
  });
define("promise/reject", 
  ["exports"],
  function(__exports__) {
    "use strict";
    /**
      `RSVP.reject` returns a promise that will become rejected with the passed
      `reason`. `RSVP.reject` is essentially shorthand for the following:

      ```javascript
      var promise = new RSVP.Promise(function(resolve, reject){
        reject(new Error('WHOOPS'));
      });

      promise.then(function(value){
        // Code here doesn't run because the promise is rejected!
      }, function(reason){
        // reason.message === 'WHOOPS'
      });
      ```

      Instead of writing the above, your code now simply becomes the following:

      ```javascript
      var promise = RSVP.reject(new Error('WHOOPS'));

      promise.then(function(value){
        // Code here doesn't run because the promise is rejected!
      }, function(reason){
        // reason.message === 'WHOOPS'
      });
      ```

      @method reject
      @for RSVP
      @param {Any} reason value that the returned promise will be rejected with.
      @param {String} label optional string for identifying the returned promise.
      Useful for tooling.
      @return {Promise} a promise that will become rejected with the given
      `reason`.
    */
    function reject(reason) {
      /*jshint validthis:true */
      var Promise = this;

      return new Promise(function (resolve, reject) {
        reject(reason);
      });
    }

    __exports__.reject = reject;
  });
define("promise/resolve", 
  ["exports"],
  function(__exports__) {
    "use strict";
    function resolve(value) {
      /*jshint validthis:true */
      if (value && typeof value === 'object' && value.constructor === this) {
        return value;
      }

      var Promise = this;

      return new Promise(function(resolve) {
        resolve(value);
      });
    }

    __exports__.resolve = resolve;
  });
define("promise/utils", 
  ["exports"],
  function(__exports__) {
    "use strict";
    function objectOrFunction(x) {
      return isFunction(x) || (typeof x === "object" && x !== null);
    }

    function isFunction(x) {
      return typeof x === "function";
    }

    function isArray(x) {
      return Object.prototype.toString.call(x) === "[object Array]";
    }

    // Date.now is not available in browsers < IE9
    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#Compatibility
    var now = Date.now || function() { return new Date().getTime(); };


    __exports__.objectOrFunction = objectOrFunction;
    __exports__.isFunction = isFunction;
    __exports__.isArray = isArray;
    __exports__.now = now;
  });
requireModule('promise/polyfill').polyfill();
}());
}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"_process":5}],2:[function(require,module,exports){
(function() {
  'use strict';

  if (window.fetch) {
    return
  }

  function Headers(headers) {
    this.map = {}

    var self = this
    if (headers instanceof Headers) {
      headers.forEach(function(name, values) {
        values.forEach(function(value) {
          self.append(name, value)
        })
      })

    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        self.append(name, headers[name])
      })
    }
  }

  Headers.prototype.append = function(name, value) {
    var list = this.map[name]
    if (!list) {
      list = []
      this.map[name] = list
    }
    list.push(value)
  }

  Headers.prototype.delete = function(name) {
    delete this.map[name]
  }

  Headers.prototype.get = function(name) {
    var values = this.map[name]
    return values ? values[0] : null
  }

  Headers.prototype.getAll = function(name) {
    return this.map[name] || []
  }

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(name)
  }

  Headers.prototype.set = function(name, value) {
    this.map[name] = [value]
  }

  // Instead of iterable for now.
  Headers.prototype.forEach = function(callback) {
    var self = this
    Object.getOwnPropertyNames(this.map).forEach(function(name) {
      callback(name, self.map[name])
    })
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Body already consumed'))
    }
    body.bodyUsed = true
  }

  function Body() {
    this.body = null
    this.bodyUsed = false

    this.arrayBuffer = function() {
      throw new Error('Not implemented yet')
    }

    this.blob = function() {
      var rejected = consumed(this)
      return rejected ? rejected : Promise.resolve(new Blob([this.body]))
    }

    this.formData = function() {
      return Promise.resolve(decode(this.body))
    }

    this.json = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      var body = this.body
      return new Promise(function(resolve, reject) {
        try {
          resolve(JSON.parse(body))
        } catch (ex) {
          reject(ex)
        }
      })
    }

    this.text = function() {
      var rejected = consumed(this)
      return rejected ? rejected : Promise.resolve(this.body)
    }

    return this
  }

  function Request(url, options) {
    options = options || {}
    this.url = url
    this.body = options.body
    this.credentials = options.credentials || null
    this.headers = new Headers(options.headers)
    this.method = options.method || 'GET'
    this.mode = options.mode || null
    this.referrer = null
  }

  function encode(params) {
    return Object.getOwnPropertyNames(params).filter(function(name) {
      return params[name] !== undefined
    }).map(function(name) {
      var value = (params[name] === null) ? '' : params[name]
      return encodeURIComponent(name) + '=' + encodeURIComponent(value)
    }).join('&').replace(/%20/g, '+')
  }

  function decode(body) {
    var form = new FormData()
    body.trim().split('&').forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
    return form
  }

  function isObject(value) {
    try {
      return Object.getPrototypeOf(value) === Object.prototype
    } catch (ex) {
      // Probably a string literal.
      return false
    }
  }

  function headers(xhr) {
    var head = new Headers()
    var pairs = xhr.getAllResponseHeaders().trim().split('\n')
    pairs.forEach(function(header) {
      var split = header.trim().split(':')
      var key = split.shift().trim()
      var value = split.join(':').trim()
      head.append(key, value)
    })
    return head
  }

  Request.prototype.fetch = function() {
    var self = this

    return new Promise(function(resolve, reject) {
      var xhr = new XMLHttpRequest()

      xhr.onload = function() {
        var options = {
          status: xhr.status,
          statusText: xhr.statusText,
          headers: headers(xhr)
        }
        resolve(new Response(xhr.responseText, options))
      }

      xhr.onerror = function() {
        reject()
      }

      xhr.open(self.method, self.url)

      self.headers.forEach(function(name, values) {
        values.forEach(function(value) {
          xhr.setRequestHeader(name, value)
        })
      })

      var body = self.body
      if (isObject(self.body)) {
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8')
        body = encode(self.body)
      }
      xhr.send(body)
    })
  }

  Body.call(Request.prototype)

  function Response(body, options) {
    this.body = body
    this.type = 'default'
    this.url = null
    this.status = options.status
    this.statusText = options.statusText
    this.headers = options.headers
  }

  Body.call(Response.prototype)

  window.fetch = function (url, options) {
    return new Request(url, options).fetch()
  }
})()

},{}],3:[function(require,module,exports){
(function (global){
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
// @version: 0.4.2

window.Platform=window.Platform||{},window.logFlags=window.logFlags||{},function(a){var b=a.flags||{};location.search.slice(1).split("&").forEach(function(a){a=a.split("="),a[0]&&(b[a[0]]=a[1]||!0)});var c=document.currentScript||document.querySelector('script[src*="platform.js"]');if(c)for(var d,e=c.attributes,f=0;f<e.length;f++)d=e[f],"src"!==d.name&&(b[d.name]=d.value||!0);b.log&&b.log.split(",").forEach(function(a){window.logFlags[a]=!0}),b.shadow=b.shadow||b.shadowdom||b.polyfill,b.shadow="native"===b.shadow?!1:b.shadow||!HTMLElement.prototype.createShadowRoot,b.shadow&&document.querySelectorAll("script").length>1&&console.log("Warning: platform.js is not the first script on the page. See http://www.polymer-project.org/docs/start/platform.html#setup for details."),b.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=b.register),b.imports&&(window.HTMLImports=window.HTMLImports||{flags:{}},window.HTMLImports.flags.imports=b.imports),a.flags=b}(Platform),"undefined"==typeof WeakMap&&!function(){var a=Object.defineProperty,b=Date.now()%1e9,c=function(){this.name="__st"+(1e9*Math.random()>>>0)+(b++ +"__")};c.prototype={set:function(b,c){var d=b[this.name];return d&&d[0]===b?d[1]=c:a(b,this.name,{value:[b,c],writable:!0}),this},get:function(a){var b;return(b=a[this.name])&&b[0]===a?b[1]:void 0},"delete":function(a){var b=a[this.name];if(!b)return!1;var c=b[0]===a;return b[0]=b[1]=void 0,c},has:function(a){var b=a[this.name];return b?b[0]===a:!1}},window.WeakMap=c}(),Platform.flags.shadow?(!function(a){"use strict";function b(){function a(a){b=a}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var b=[],c={},d=[];return Object.observe(c,a),Array.observe(d,a),c.id=1,c.id=2,delete c.id,d.push(1,2),d.length=0,Object.deliverChangeRecords(a),5!==b.length?!1:"add"!=b[0].type||"update"!=b[1].type||"delete"!=b[2].type||"splice"!=b[3].type||"splice"!=b[4].type?!1:(Object.unobserve(c,a),Array.unobserve(d,a),!0)}function c(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if("undefined"!=typeof navigator&&navigator.getDeviceStorage)return!1;try{var a=new Function("","return true;");return a()}catch(b){return!1}}function d(a){return+a===a>>>0&&""!==a}function e(a){return+a}function f(a){return a===Object(a)}function g(a,b){return a===b?0!==a||1/a===1/b:R(a)&&R(b)?!0:a!==a&&b!==b}function h(a){if(void 0===a)return"eof";var b=a.charCodeAt(0);switch(b){case 91:case 93:case 46:case 34:case 39:case 48:return a;case 95:case 36:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return b>=97&&122>=b||b>=65&&90>=b?"ident":b>=49&&57>=b?"number":"else"}function i(){}function j(a){function b(){if(!(m>=a.length)){var b=a[m+1];return"inSingleQuote"==n&&"'"==b||"inDoubleQuote"==n&&'"'==b?(m++,d=b,o.append(),!0):void 0}}for(var c,d,e,f,g,j,k,l=[],m=-1,n="beforePath",o={push:function(){void 0!==e&&(l.push(e),e=void 0)},append:function(){void 0===e?e=d:e+=d}};n;)if(m++,c=a[m],"\\"!=c||!b(n)){if(f=h(c),k=W[n],g=k[f]||k["else"]||"error","error"==g)return;if(n=g[0],j=o[g[1]]||i,d=void 0===g[2]?c:g[2],j(),"afterPath"===n)return l}}function k(a){return V.test(a)}function l(a,b){if(b!==X)throw Error("Use Path.get to retrieve path objects");for(var c=0;c<a.length;c++)this.push(String(a[c]));Q&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())}function m(a){if(a instanceof l)return a;if((null==a||0==a.length)&&(a=""),"string"!=typeof a){if(d(a.length))return new l(a,X);a=String(a)}var b=Y[a];if(b)return b;var c=j(a);if(!c)return Z;var b=new l(c,X);return Y[a]=b,b}function n(a){return d(a)?"["+a+"]":'["'+a.replace(/"/g,'\\"')+'"]'}function o(b){for(var c=0;_>c&&b.check_();)c++;return O&&(a.dirtyCheckCycleCount=c),c>0}function p(a){for(var b in a)return!1;return!0}function q(a){return p(a.added)&&p(a.removed)&&p(a.changed)}function r(a,b){var c={},d={},e={};for(var f in b){var g=a[f];(void 0===g||g!==b[f])&&(f in a?g!==b[f]&&(e[f]=g):d[f]=void 0)}for(var f in a)f in b||(c[f]=a[f]);return Array.isArray(a)&&a.length!==b.length&&(e.length=a.length),{added:c,removed:d,changed:e}}function s(){if(!ab.length)return!1;for(var a=0;a<ab.length;a++)ab[a]();return ab.length=0,!0}function t(){function a(a){b&&b.state_===fb&&!d&&b.check_(a)}var b,c,d=!1,e=!0;return{open:function(c){if(b)throw Error("ObservedObject in use");e||Object.deliverChangeRecords(a),b=c,e=!1},observe:function(b,d){c=b,d?Array.observe(c,a):Object.observe(c,a)},deliver:function(b){d=b,Object.deliverChangeRecords(a),d=!1},close:function(){b=void 0,Object.unobserve(c,a),cb.push(this)}}}function u(a,b,c){var d=cb.pop()||t();return d.open(a),d.observe(b,c),d}function v(){function a(b,f){b&&(b===d&&(e[f]=!0),h.indexOf(b)<0&&(h.push(b),Object.observe(b,c)),a(Object.getPrototypeOf(b),f))}function b(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.object!==d||e[c.name]||"setPrototype"===c.type)return!1}return!0}function c(c){if(!b(c)){for(var d,e=0;e<g.length;e++)d=g[e],d.state_==fb&&d.iterateObjects_(a);for(var e=0;e<g.length;e++)d=g[e],d.state_==fb&&d.check_()}}var d,e,f=0,g=[],h=[],i={object:void 0,objects:h,open:function(b,c){d||(d=c,e={}),g.push(b),f++,b.iterateObjects_(a)},close:function(){if(f--,!(f>0)){for(var a=0;a<h.length;a++)Object.unobserve(h[a],c),x.unobservedCount++;g.length=0,h.length=0,d=void 0,e=void 0,db.push(this)}}};return i}function w(a,b){return $&&$.object===b||($=db.pop()||v(),$.object=b),$.open(a,b),$}function x(){this.state_=eb,this.callback_=void 0,this.target_=void 0,this.directObserver_=void 0,this.value_=void 0,this.id_=ib++}function y(a){x._allObserversCount++,kb&&jb.push(a)}function z(){x._allObserversCount--}function A(a){x.call(this),this.value_=a,this.oldObject_=void 0}function B(a){if(!Array.isArray(a))throw Error("Provided object is not an Array");A.call(this,a)}function C(a,b){x.call(this),this.object_=a,this.path_=m(b),this.directObserver_=void 0}function D(a){x.call(this),this.reportChangesOnOpen_=a,this.value_=[],this.directObserver_=void 0,this.observed_=[]}function E(a){return a}function F(a,b,c,d){this.callback_=void 0,this.target_=void 0,this.value_=void 0,this.observable_=a,this.getValueFn_=b||E,this.setValueFn_=c||E,this.dontPassThroughSet_=d}function G(a,b,c){for(var d={},e={},f=0;f<b.length;f++){var g=b[f];nb[g.type]?(g.name in c||(c[g.name]=g.oldValue),"update"!=g.type&&("add"!=g.type?g.name in d?(delete d[g.name],delete c[g.name]):e[g.name]=!0:g.name in e?delete e[g.name]:d[g.name]=!0)):(console.error("Unknown changeRecord type: "+g.type),console.error(g))}for(var h in d)d[h]=a[h];for(var h in e)e[h]=void 0;var i={};for(var h in c)if(!(h in d||h in e)){var j=a[h];c[h]!==j&&(i[h]=j)}return{added:d,removed:e,changed:i}}function H(a,b,c){return{index:a,removed:b,addedCount:c}}function I(){}function J(a,b,c,d,e,f){return sb.calcSplices(a,b,c,d,e,f)}function K(a,b,c,d){return c>b||a>d?-1:b==c||d==a?0:c>a?d>b?b-c:d-c:b>d?d-a:b-a}function L(a,b,c,d){for(var e=H(b,c,d),f=!1,g=0,h=0;h<a.length;h++){var i=a[h];if(i.index+=g,!f){var j=K(e.index,e.index+e.removed.length,i.index,i.index+i.addedCount);if(j>=0){a.splice(h,1),h--,g-=i.addedCount-i.removed.length,e.addedCount+=i.addedCount-j;var k=e.removed.length+i.removed.length-j;if(e.addedCount||k){var c=i.removed;if(e.index<i.index){var l=e.removed.slice(0,i.index-e.index);Array.prototype.push.apply(l,c),c=l}if(e.index+e.removed.length>i.index+i.addedCount){var m=e.removed.slice(i.index+i.addedCount-e.index);Array.prototype.push.apply(c,m)}e.removed=c,i.index<e.index&&(e.index=i.index)}else f=!0}else if(e.index<i.index){f=!0,a.splice(h,0,e),h++;var n=e.addedCount-e.removed.length;i.index+=n,g+=n}}}f||a.push(e)}function M(a,b){for(var c=[],f=0;f<b.length;f++){var g=b[f];switch(g.type){case"splice":L(c,g.index,g.removed.slice(),g.addedCount);break;case"add":case"update":case"delete":if(!d(g.name))continue;var h=e(g.name);if(0>h)continue;L(c,h,[g.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(g))}}return c}function N(a,b){var c=[];return M(a,b).forEach(function(b){return 1==b.addedCount&&1==b.removed.length?void(b.removed[0]!==a[b.index]&&c.push(b)):void(c=c.concat(J(a,b.index,b.index+b.addedCount,b.removed,0,b.removed.length)))}),c}var O=a.testingExposeCycleCount,P=b(),Q=c(),R=a.Number.isNaN||function(b){return"number"==typeof b&&a.isNaN(b)},S="__proto__"in{}?function(a){return a}:function(a){var b=a.__proto__;if(!b)return a;var c=Object.create(b);return Object.getOwnPropertyNames(a).forEach(function(b){Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(a,b))}),c},T="[$_a-zA-Z]",U="[$_a-zA-Z0-9]",V=new RegExp("^"+T+"+"+U+"*$"),W={beforePath:{ws:["beforePath"],ident:["inIdent","append"],"[":["beforeElement"],eof:["afterPath"]},inPath:{ws:["inPath"],".":["beforeIdent"],"[":["beforeElement"],eof:["afterPath"]},beforeIdent:{ws:["beforeIdent"],ident:["inIdent","append"]},inIdent:{ident:["inIdent","append"],0:["inIdent","append"],number:["inIdent","append"],ws:["inPath","push"],".":["beforeIdent","push"],"[":["beforeElement","push"],eof:["afterPath","push"]},beforeElement:{ws:["beforeElement"],0:["afterZero","append"],number:["inIndex","append"],"'":["inSingleQuote","append",""],'"':["inDoubleQuote","append",""]},afterZero:{ws:["afterElement","push"],"]":["inPath","push"]},inIndex:{0:["inIndex","append"],number:["inIndex","append"],ws:["afterElement"],"]":["inPath","push"]},inSingleQuote:{"'":["afterElement"],eof:["error"],"else":["inSingleQuote","append"]},inDoubleQuote:{'"':["afterElement"],eof:["error"],"else":["inDoubleQuote","append"]},afterElement:{ws:["afterElement"],"]":["inPath","push"]}},X={},Y={};l.get=m,l.prototype=S({__proto__:[],valid:!0,toString:function(){for(var a="",b=0;b<this.length;b++){var c=this[b];a+=k(c)?b?"."+c:c:n(c)}return a},getValueFrom:function(a){for(var b=0;b<this.length;b++){if(null==a)return;a=a[this[b]]}return a},iterateObjects:function(a,b){for(var c=0;c<this.length;c++){if(c&&(a=a[this[c-1]]),!f(a))return;b(a,this[0])}},compiledGetValueFromFn:function(){var a="",b="obj";a+="if (obj != null";for(var c,d=0;d<this.length-1;d++)c=this[d],b+=k(c)?"."+c:n(c),a+=" &&\n     "+b+" != null";a+=")\n";var c=this[d];return b+=k(c)?"."+c:n(c),a+="  return "+b+";\nelse\n  return undefined;",new Function("obj",a)},setValueFrom:function(a,b){if(!this.length)return!1;for(var c=0;c<this.length-1;c++){if(!f(a))return!1;a=a[this[c]]}return f(a)?(a[this[c]]=b,!0):!1}});var Z=new l("",X);Z.valid=!1,Z.getValueFrom=Z.setValueFrom=function(){};var $,_=1e3,ab=[],bb=P?function(){var a={pingPong:!0},b=!1;return Object.observe(a,function(){s(),b=!1}),function(c){ab.push(c),b||(b=!0,a.pingPong=!a.pingPong)}}():function(){return function(a){ab.push(a)}}(),cb=[],db=[],eb=0,fb=1,gb=2,hb=3,ib=1;x.prototype={open:function(a,b){if(this.state_!=eb)throw Error("Observer has already been opened.");return y(this),this.callback_=a,this.target_=b,this.connect_(),this.state_=fb,this.value_},close:function(){this.state_==fb&&(z(this),this.disconnect_(),this.value_=void 0,this.callback_=void 0,this.target_=void 0,this.state_=gb)},deliver:function(){this.state_==fb&&o(this)},report_:function(a){try{this.callback_.apply(this.target_,a)}catch(b){x._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+(b.stack||b))}},discardChanges:function(){return this.check_(void 0,!0),this.value_}};var jb,kb=!P;x._allObserversCount=0,kb&&(jb=[]);var lb=!1;a.Platform=a.Platform||{},a.Platform.performMicrotaskCheckpoint=function(){if(!lb&&kb){lb=!0;var b,c,d=0;do{d++,c=jb,jb=[],b=!1;for(var e=0;e<c.length;e++){var f=c[e];f.state_==fb&&(f.check_()&&(b=!0),jb.push(f))}s()&&(b=!0)}while(_>d&&b);O&&(a.dirtyCheckCycleCount=d),lb=!1}},kb&&(a.Platform.clearObservers=function(){jb=[]}),A.prototype=S({__proto__:x.prototype,arrayObserve:!1,connect_:function(){P?this.directObserver_=u(this,this.value_,this.arrayObserve):this.oldObject_=this.copyObject(this.value_)},copyObject:function(a){var b=Array.isArray(a)?[]:{};for(var c in a)b[c]=a[c];return Array.isArray(a)&&(b.length=a.length),b},check_:function(a){var b,c;if(P){if(!a)return!1;c={},b=G(this.value_,a,c)}else c=this.oldObject_,b=r(this.value_,this.oldObject_);return q(b)?!1:(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([b.added||{},b.removed||{},b.changed||{},function(a){return c[a]}]),!0)},disconnect_:function(){P?(this.directObserver_.close(),this.directObserver_=void 0):this.oldObject_=void 0},deliver:function(){this.state_==fb&&(P?this.directObserver_.deliver(!1):o(this))},discardChanges:function(){return this.directObserver_?this.directObserver_.deliver(!0):this.oldObject_=this.copyObject(this.value_),this.value_}}),B.prototype=S({__proto__:A.prototype,arrayObserve:!0,copyObject:function(a){return a.slice()},check_:function(a){var b;if(P){if(!a)return!1;b=N(this.value_,a)}else b=J(this.value_,0,this.value_.length,this.oldObject_,0,this.oldObject_.length);return b&&b.length?(P||(this.oldObject_=this.copyObject(this.value_)),this.report_([b]),!0):!1}}),B.applySplices=function(a,b,c){c.forEach(function(c){for(var d=[c.index,c.removed.length],e=c.index;e<c.index+c.addedCount;)d.push(b[e]),e++;Array.prototype.splice.apply(a,d)})},C.prototype=S({__proto__:x.prototype,get path(){return this.path_},connect_:function(){P&&(this.directObserver_=w(this,this.object_)),this.check_(void 0,!0)},disconnect_:function(){this.value_=void 0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},iterateObjects_:function(a){this.path_.iterateObjects(this.object_,a)},check_:function(a,b){var c=this.value_;return this.value_=this.path_.getValueFrom(this.object_),b||g(this.value_,c)?!1:(this.report_([this.value_,c,this]),!0)},setValue:function(a){this.path_&&this.path_.setValueFrom(this.object_,a)}});var mb={};D.prototype=S({__proto__:x.prototype,connect_:function(){if(P){for(var a,b=!1,c=0;c<this.observed_.length;c+=2)if(a=this.observed_[c],a!==mb){b=!0;break}b&&(this.directObserver_=w(this,a))}this.check_(void 0,!this.reportChangesOnOpen_)},disconnect_:function(){for(var a=0;a<this.observed_.length;a+=2)this.observed_[a]===mb&&this.observed_[a+1].close();this.observed_.length=0,this.value_.length=0,this.directObserver_&&(this.directObserver_.close(this),this.directObserver_=void 0)},addPath:function(a,b){if(this.state_!=eb&&this.state_!=hb)throw Error("Cannot add paths once started.");var b=m(b);if(this.observed_.push(a,b),this.reportChangesOnOpen_){var c=this.observed_.length/2-1;this.value_[c]=b.getValueFrom(a)}},addObserver:function(a){if(this.state_!=eb&&this.state_!=hb)throw Error("Cannot add observers once started.");if(this.observed_.push(mb,a),this.reportChangesOnOpen_){var b=this.observed_.length/2-1;this.value_[b]=a.open(this.deliver,this)}},startReset:function(){if(this.state_!=fb)throw Error("Can only reset while open");this.state_=hb,this.disconnect_()},finishReset:function(){if(this.state_!=hb)throw Error("Can only finishReset after startReset");return this.state_=fb,this.connect_(),this.value_},iterateObjects_:function(a){for(var b,c=0;c<this.observed_.length;c+=2)b=this.observed_[c],b!==mb&&this.observed_[c+1].iterateObjects(b,a)},check_:function(a,b){for(var c,d=0;d<this.observed_.length;d+=2){var e,f=this.observed_[d],h=this.observed_[d+1];if(f===mb){var i=h;e=this.state_===eb?i.open(this.deliver,this):i.discardChanges()}else e=h.getValueFrom(f);b?this.value_[d/2]=e:g(e,this.value_[d/2])||(c=c||[],c[d/2]=this.value_[d/2],this.value_[d/2]=e)}return c?(this.report_([this.value_,c,this.observed_]),!0):!1}}),F.prototype={open:function(a,b){return this.callback_=a,this.target_=b,this.value_=this.getValueFn_(this.observable_.open(this.observedCallback_,this)),this.value_},observedCallback_:function(a){if(a=this.getValueFn_(a),!g(a,this.value_)){var b=this.value_;this.value_=a,this.callback_.call(this.target_,this.value_,b)}},discardChanges:function(){return this.value_=this.getValueFn_(this.observable_.discardChanges()),this.value_},deliver:function(){return this.observable_.deliver()},setValue:function(a){return a=this.setValueFn_(a),!this.dontPassThroughSet_&&this.observable_.setValue?this.observable_.setValue(a):void 0},close:function(){this.observable_&&this.observable_.close(),this.callback_=void 0,this.target_=void 0,this.observable_=void 0,this.value_=void 0,this.getValueFn_=void 0,this.setValueFn_=void 0}};var nb={add:!0,update:!0,"delete":!0},ob=0,pb=1,qb=2,rb=3;I.prototype={calcEditDistances:function(a,b,c,d,e,f){for(var g=f-e+1,h=c-b+1,i=new Array(g),j=0;g>j;j++)i[j]=new Array(h),i[j][0]=j;for(var k=0;h>k;k++)i[0][k]=k;for(var j=1;g>j;j++)for(var k=1;h>k;k++)if(this.equals(a[b+k-1],d[e+j-1]))i[j][k]=i[j-1][k-1];else{var l=i[j-1][k]+1,m=i[j][k-1]+1;i[j][k]=m>l?l:m}return i},spliceOperationsFromEditDistances:function(a){for(var b=a.length-1,c=a[0].length-1,d=a[b][c],e=[];b>0||c>0;)if(0!=b)if(0!=c){var f,g=a[b-1][c-1],h=a[b-1][c],i=a[b][c-1];f=i>h?g>h?h:g:g>i?i:g,f==g?(g==d?e.push(ob):(e.push(pb),d=g),b--,c--):f==h?(e.push(rb),b--,d=h):(e.push(qb),c--,d=i)}else e.push(rb),b--;else e.push(qb),c--;return e.reverse(),e},calcSplices:function(a,b,c,d,e,f){var g=0,h=0,i=Math.min(c-b,f-e);if(0==b&&0==e&&(g=this.sharedPrefix(a,d,i)),c==a.length&&f==d.length&&(h=this.sharedSuffix(a,d,i-g)),b+=g,e+=g,c-=h,f-=h,c-b==0&&f-e==0)return[];if(b==c){for(var j=H(b,[],0);f>e;)j.removed.push(d[e++]);return[j]}if(e==f)return[H(b,[],c-b)];for(var k=this.spliceOperationsFromEditDistances(this.calcEditDistances(a,b,c,d,e,f)),j=void 0,l=[],m=b,n=e,o=0;o<k.length;o++)switch(k[o]){case ob:j&&(l.push(j),j=void 0),m++,n++;break;case pb:j||(j=H(m,[],0)),j.addedCount++,m++,j.removed.push(d[n]),n++;break;case qb:j||(j=H(m,[],0)),j.addedCount++,m++;break;case rb:j||(j=H(m,[],0)),j.removed.push(d[n]),n++}return j&&l.push(j),l},sharedPrefix:function(a,b,c){for(var d=0;c>d;d++)if(!this.equals(a[d],b[d]))return d;return c},sharedSuffix:function(a,b,c){for(var d=a.length,e=b.length,f=0;c>f&&this.equals(a[--d],b[--e]);)f++;return f},calculateSplices:function(a,b){return this.calcSplices(a,0,a.length,b,0,b.length)},equals:function(a,b){return a===b}};var sb=new I;a.Observer=x,a.Observer.runEOM_=bb,a.Observer.observerSentinel_=mb,a.Observer.hasObjectObserve=P,a.ArrayObserver=B,a.ArrayObserver.calculateSplices=function(a,b){return sb.calculateSplices(a,b)},a.ArraySplice=I,a.ObjectObserver=A,a.PathObserver=C,a.CompoundObserver=D,a.Path=l,a.ObserverTransform=F}("undefined"!=typeof global&&global&&"undefined"!=typeof module&&module?global:this||window),window.ShadowDOMPolyfill={},function(a){"use strict";function b(){if("undefined"!=typeof chrome&&chrome.app&&chrome.app.runtime)return!1;if(navigator.getDeviceStorage)return!1;try{var a=new Function("return true;");return a()}catch(b){return!1}}function c(a){if(!a)throw new Error("Assertion failed")}function d(a,b){for(var c=N(b),d=0;d<c.length;d++){var e=c[d];M(a,e,O(b,e))}return a}function e(a,b){for(var c=N(b),d=0;d<c.length;d++){var e=c[d];switch(e){case"arguments":case"caller":case"length":case"name":case"prototype":case"toString":continue}M(a,e,O(b,e))}return a}function f(a,b){for(var c=0;c<b.length;c++)if(b[c]in a)return b[c]}function g(a,b,c){P.value=c,M(a,b,P)}function h(a){var b=a.__proto__||Object.getPrototypeOf(a),c=I.get(b);if(c)return c;var d=h(b),e=v(d);return s(b,e,a),e}function i(a,b){q(a,b,!0)}function j(a,b){q(b,a,!1)}function k(a){return/^on[a-z]+$/.test(a)}function l(a){return/^\w[a-zA-Z_0-9]*$/.test(a)}function m(a){return L&&l(a)?new Function("return this.__impl4cf1e782hg__."+a):function(){return this.__impl4cf1e782hg__[a]}}function n(a){return L&&l(a)?new Function("v","this.__impl4cf1e782hg__."+a+" = v"):function(b){this.__impl4cf1e782hg__[a]=b}}function o(a){return L&&l(a)?new Function("return this.__impl4cf1e782hg__."+a+".apply(this.__impl4cf1e782hg__, arguments)"):function(){return this.__impl4cf1e782hg__[a].apply(this.__impl4cf1e782hg__,arguments)}}function p(a,b){try{return Object.getOwnPropertyDescriptor(a,b)}catch(c){return R}}function q(b,c,d){for(var e=N(b),f=0;f<e.length;f++){var g=e[f];if("polymerBlackList_"!==g&&!(g in c||b.polymerBlackList_&&b.polymerBlackList_[g])){Q&&b.__lookupGetter__(g);var h,i,j=p(b,g);if(d&&"function"==typeof j.value)c[g]=o(g);else{var l=k(g);h=l?a.getEventHandlerGetter(g):m(g),(j.writable||j.set||S)&&(i=l?a.getEventHandlerSetter(g):n(g)),M(c,g,{get:h,set:i,configurable:j.configurable,enumerable:j.enumerable})}}}}function r(a,b,c){var d=a.prototype;s(d,b,c),e(b,a)}function s(a,b,d){var e=b.prototype;c(void 0===I.get(a)),I.set(a,b),J.set(e,a),i(a,e),d&&j(e,d),g(e,"constructor",b),b.prototype=e}function t(a,b){return I.get(b.prototype)===a}function u(a){var b=Object.getPrototypeOf(a),c=h(b),d=v(c);return s(b,d,a),d}function v(a){function b(b){a.call(this,b)}var c=Object.create(a.prototype);return c.constructor=b,b.prototype=c,b}function w(a){return a&&a.__impl4cf1e782hg__}function x(a){return!w(a)}function y(a){return null===a?null:(c(x(a)),a.__wrapper8e3dd93a60__||(a.__wrapper8e3dd93a60__=new(h(a))(a)))}function z(a){return null===a?null:(c(w(a)),a.__impl4cf1e782hg__)}function A(a){return a.__impl4cf1e782hg__}function B(a,b){b.__impl4cf1e782hg__=a,a.__wrapper8e3dd93a60__=b}function C(a){return a&&w(a)?z(a):a}function D(a){return a&&!w(a)?y(a):a}function E(a,b){null!==b&&(c(x(a)),c(void 0===b||w(b)),a.__wrapper8e3dd93a60__=b)}function F(a,b,c){T.get=c,M(a.prototype,b,T)}function G(a,b){F(a,b,function(){return y(this.__impl4cf1e782hg__[b])})}function H(a,b){a.forEach(function(a){b.forEach(function(b){a.prototype[b]=function(){var a=D(this);return a[b].apply(a,arguments)}})})}var I=new WeakMap,J=new WeakMap,K=Object.create(null),L=b(),M=Object.defineProperty,N=Object.getOwnPropertyNames,O=Object.getOwnPropertyDescriptor,P={value:void 0,configurable:!0,enumerable:!1,writable:!0};N(window);var Q=/Firefox/.test(navigator.userAgent),R={get:function(){},set:function(){},configurable:!0,enumerable:!0},S=function(){var a=Object.getOwnPropertyDescriptor(Node.prototype,"nodeType");return!!a&&"set"in a}(),T={get:void 0,configurable:!0,enumerable:!0};a.assert=c,a.constructorTable=I,a.defineGetter=F,a.defineWrapGetter=G,a.forwardMethodsToWrapper=H,a.isWrapper=w,a.isWrapperFor=t,a.mixin=d,a.nativePrototypeTable=J,a.oneOf=f,a.registerObject=u,a.registerWrapper=r,a.rewrap=E,a.setWrapper=B,a.unsafeUnwrap=A,a.unwrap=z,a.unwrapIfNeeded=C,a.wrap=y,a.wrapIfNeeded=D,a.wrappers=K}(window.ShadowDOMPolyfill),function(a){"use strict";function b(){g=!1;var a=f.slice(0);f=[];for(var b=0;b<a.length;b++)a[b]()}function c(a){f.push(a),g||(g=!0,d(b,0))}var d,e=window.MutationObserver,f=[],g=!1;if(e){var h=1,i=new e(b),j=document.createTextNode(h);i.observe(j,{characterData:!0}),d=function(){h=(h+1)%2,j.data=h}}else d=window.setImmediate||window.setTimeout;a.setEndOfMicrotask=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){a.scheduled_||(a.scheduled_=!0,o.push(a),p||(k(c),p=!0))}function c(){for(p=!1;o.length;){var a=o;o=[],a.sort(function(a,b){return a.uid_-b.uid_});for(var b=0;b<a.length;b++){var c=a[b];c.scheduled_=!1;var d=c.takeRecords();f(c),d.length&&c.callback_(d,c)}}}function d(a,b){this.type=a,this.target=b,this.addedNodes=new m.NodeList,this.removedNodes=new m.NodeList,this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function e(a,b){for(;a;a=a.parentNode){var c=n.get(a);if(c)for(var d=0;d<c.length;d++){var e=c[d];e.options.subtree&&e.addTransientObserver(b)}}}function f(a){for(var b=0;b<a.nodes_.length;b++){var c=a.nodes_[b],d=n.get(c);if(!d)return;for(var e=0;e<d.length;e++){var f=d[e];f.observer===a&&f.removeTransientObservers()}}}function g(a,c,e){for(var f=Object.create(null),g=Object.create(null),h=a;h;h=h.parentNode){var i=n.get(h);if(i)for(var j=0;j<i.length;j++){var k=i[j],l=k.options;if((h===a||l.subtree)&&!("attributes"===c&&!l.attributes||"attributes"===c&&l.attributeFilter&&(null!==e.namespace||-1===l.attributeFilter.indexOf(e.name))||"characterData"===c&&!l.characterData||"childList"===c&&!l.childList)){var m=k.observer;f[m.uid_]=m,("attributes"===c&&l.attributeOldValue||"characterData"===c&&l.characterDataOldValue)&&(g[m.uid_]=e.oldValue)}}}for(var o in f){var m=f[o],p=new d(c,a);"name"in e&&"namespace"in e&&(p.attributeName=e.name,p.attributeNamespace=e.namespace),e.addedNodes&&(p.addedNodes=e.addedNodes),e.removedNodes&&(p.removedNodes=e.removedNodes),e.previousSibling&&(p.previousSibling=e.previousSibling),e.nextSibling&&(p.nextSibling=e.nextSibling),void 0!==g[o]&&(p.oldValue=g[o]),b(m),m.records_.push(p)}}function h(a){if(this.childList=!!a.childList,this.subtree=!!a.subtree,this.attributes="attributes"in a||!("attributeOldValue"in a||"attributeFilter"in a)?!!a.attributes:!0,this.characterData="characterDataOldValue"in a&&!("characterData"in a)?!0:!!a.characterData,!this.attributes&&(a.attributeOldValue||"attributeFilter"in a)||!this.characterData&&a.characterDataOldValue)throw new TypeError;if(this.characterData=!!a.characterData,this.attributeOldValue=!!a.attributeOldValue,this.characterDataOldValue=!!a.characterDataOldValue,"attributeFilter"in a){if(null==a.attributeFilter||"object"!=typeof a.attributeFilter)throw new TypeError;this.attributeFilter=q.call(a.attributeFilter)}else this.attributeFilter=null}function i(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++r,this.scheduled_=!1}function j(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var k=a.setEndOfMicrotask,l=a.wrapIfNeeded,m=a.wrappers,n=new WeakMap,o=[],p=!1,q=Array.prototype.slice,r=0;i.prototype={constructor:i,observe:function(a,b){a=l(a);var c,d=new h(b),e=n.get(a);e||n.set(a,e=[]);for(var f=0;f<e.length;f++)e[f].observer===this&&(c=e[f],c.removeTransientObservers(),c.options=d);c||(c=new j(this,a,d),e.push(c),this.nodes_.push(a))},disconnect:function(){this.nodes_.forEach(function(a){for(var b=n.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}},j.prototype={addTransientObserver:function(a){if(a!==this.target){b(this.observer),this.transientObservedNodes.push(a);var c=n.get(a);c||n.set(a,c=[]),c.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[];for(var b=0;b<a.length;b++)for(var c=a[b],d=n.get(c),e=0;e<d.length;e++)if(d[e]===this){d.splice(e,1);break}}},a.enqueueMutation=g,a.registerTransientObservers=e,a.wrappers.MutationObserver=i,a.wrappers.MutationRecord=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,b){this.root=a,this.parent=b}function c(a,b){if(a.treeScope_!==b){a.treeScope_=b;for(var d=a.shadowRoot;d;d=d.olderShadowRoot)d.treeScope_.parent=b;for(var e=a.firstChild;e;e=e.nextSibling)c(e,b)}}function d(c){if(c instanceof a.wrappers.Window,c.treeScope_)return c.treeScope_;var e,f=c.parentNode;return e=f?d(f):new b(c,null),c.treeScope_=e}b.prototype={get renderer(){return this.root instanceof a.wrappers.ShadowRoot?a.getRendererForHost(this.root.host):null},contains:function(a){for(;a;a=a.parent)if(a===this)return!0;return!1}},a.TreeScope=b,a.getTreeScope=d,a.setTreeScope=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a instanceof T.ShadowRoot}function c(a){return M(a).root}function d(a,d){var h=[],i=a;for(h.push(i);i;){var j=g(i);if(j&&j.length>0){for(var k=0;k<j.length;k++){var m=j[k];if(f(m)){var n=c(m),o=n.olderShadowRoot;o&&h.push(o)}h.push(m)}i=j[j.length-1]}else if(b(i)){if(l(a,i)&&e(d))break;i=i.host,h.push(i)}else i=i.parentNode,i&&h.push(i)}return h}function e(a){if(!a)return!1;switch(a.type){case"abort":case"error":case"select":case"change":case"load":case"reset":case"resize":case"scroll":case"selectstart":return!0}return!1}function f(a){return a instanceof HTMLShadowElement}function g(b){return a.getDestinationInsertionPoints(b)}function h(a,b){if(0===a.length)return b;b instanceof T.Window&&(b=b.document);for(var c=M(b),d=a[0],e=M(d),f=j(c,e),g=0;g<a.length;g++){var h=a[g];if(M(h)===f)return h}return a[a.length-1]}function i(a){for(var b=[];a;a=a.parent)b.push(a);return b}function j(a,b){for(var c=i(a),d=i(b),e=null;c.length>0&&d.length>0;){var f=c.pop(),g=d.pop();if(f!==g)break;e=f}return e}function k(a,b,c){b instanceof T.Window&&(b=b.document);var e,f=M(b),g=M(c),h=d(c,a),e=j(f,g);e||(e=g.root);for(var i=e;i;i=i.parent)for(var k=0;k<h.length;k++){var l=h[k];if(M(l)===i)return l}return null}function l(a,b){return M(a)===M(b)}function m(a){if(!V.get(a)&&(V.set(a,!0),o(S(a),S(a.target)),K)){var b=K;throw K=null,b}}function n(a){switch(a.type){case"load":case"beforeunload":case"unload":return!0}return!1}function o(b,c){if(W.get(b))throw new Error("InvalidStateError");W.set(b,!0),a.renderAllPending();var e,f,g;if(n(b)&&!b.bubbles){var h=c;h instanceof T.Document&&(g=h.defaultView)&&(f=h,e=[])}if(!e)if(c instanceof T.Window)g=c,e=[];else if(e=d(c,b),!n(b)){var h=e[e.length-1];h instanceof T.Document&&(g=h.defaultView)}return cb.set(b,e),p(b,e,g,f)&&q(b,e,g,f)&&r(b,e,g,f),$.set(b,db),Y.delete(b,null),W.delete(b),b.defaultPrevented}function p(a,b,c,d){var e=eb;if(c&&!s(c,a,e,b,d))return!1;for(var f=b.length-1;f>0;f--)if(!s(b[f],a,e,b,d))return!1;return!0}function q(a,b,c,d){var e=fb,f=b[0]||c;return s(f,a,e,b,d)}function r(a,b,c,d){for(var e=gb,f=1;f<b.length;f++)if(!s(b[f],a,e,b,d))return;c&&b.length>0&&s(c,a,e,b,d)}function s(a,b,c,d,e){var f=U.get(a);if(!f)return!0;var g=e||h(d,a);if(g===a){if(c===eb)return!0;c===gb&&(c=fb)}else if(c===gb&&!b.bubbles)return!0;if("relatedTarget"in b){var i=R(b),j=i.relatedTarget;if(j){if(j instanceof Object&&j.addEventListener){var l=S(j),m=k(b,a,l);if(m===g)return!0}else m=null;Z.set(b,m)}}$.set(b,c);var n=b.type,o=!1;X.set(b,g),Y.set(b,a),f.depth++;for(var p=0,q=f.length;q>p;p++){var r=f[p];if(r.removed)o=!0;else if(!(r.type!==n||!r.capture&&c===eb||r.capture&&c===gb))try{if("function"==typeof r.handler?r.handler.call(a,b):r.handler.handleEvent(b),ab.get(b))return!1}catch(s){K||(K=s)}}if(f.depth--,o&&0===f.depth){var t=f.slice();f.length=0;for(var p=0;p<t.length;p++)t[p].removed||f.push(t[p])}return!_.get(b)}function t(a,b,c){this.type=a,this.handler=b,this.capture=Boolean(c)}function u(a,b){if(!(a instanceof hb))return S(y(hb,"Event",a,b));var c=a;return sb||"beforeunload"!==c.type||this instanceof z?void P(c,this):new z(c)}function v(a){return a&&a.relatedTarget?Object.create(a,{relatedTarget:{value:R(a.relatedTarget)}}):a}function w(a,b,c){var d=window[a],e=function(b,c){return b instanceof d?void P(b,this):S(y(d,a,b,c))};if(e.prototype=Object.create(b.prototype),c&&N(e.prototype,c),d)try{O(d,e,new d("temp"))}catch(f){O(d,e,document.createEvent(a))}return e}function x(a,b){return function(){arguments[b]=R(arguments[b]);var c=R(this);c[a].apply(c,arguments)}}function y(a,b,c,d){if(qb)return new a(c,v(d));var e=R(document.createEvent(b)),f=pb[b],g=[c];return Object.keys(f).forEach(function(a){var b=null!=d&&a in d?d[a]:f[a];"relatedTarget"===a&&(b=R(b)),g.push(b)}),e["init"+b].apply(e,g),e}function z(a){u.call(this,a)}function A(a){return"function"==typeof a?!0:a&&a.handleEvent}function B(a){switch(a){case"DOMAttrModified":case"DOMAttributeNameChanged":case"DOMCharacterDataModified":case"DOMElementNameChanged":case"DOMNodeInserted":case"DOMNodeInsertedIntoDocument":case"DOMNodeRemoved":case"DOMNodeRemovedFromDocument":case"DOMSubtreeModified":return!0}return!1}function C(a){P(a,this)}function D(a){return a instanceof T.ShadowRoot&&(a=a.host),R(a)}function E(a,b){var c=U.get(a);if(c)for(var d=0;d<c.length;d++)if(!c[d].removed&&c[d].type===b)return!0;return!1}function F(a,b){for(var c=R(a);c;c=c.parentNode)if(E(S(c),b))return!0;return!1}function G(a){L(a,ub)}function H(b,c,e,f){a.renderAllPending();var g=S(vb.call(Q(c),e,f));if(!g)return null;var i=d(g,null),j=i.lastIndexOf(b);return-1==j?null:(i=i.slice(0,j),h(i,b))}function I(a){return function(){var b=bb.get(this);
return b&&b[a]&&b[a].value||null}}function J(a){var b=a.slice(2);return function(c){var d=bb.get(this);d||(d=Object.create(null),bb.set(this,d));var e=d[a];if(e&&this.removeEventListener(b,e.wrapped,!1),"function"==typeof c){var f=function(b){var d=c.call(this,b);d===!1?b.preventDefault():"onbeforeunload"===a&&"string"==typeof d&&(b.returnValue=d)};this.addEventListener(b,f,!1),d[a]={value:c,wrapped:f}}}}var K,L=a.forwardMethodsToWrapper,M=a.getTreeScope,N=a.mixin,O=a.registerWrapper,P=a.setWrapper,Q=a.unsafeUnwrap,R=a.unwrap,S=a.wrap,T=a.wrappers,U=(new WeakMap,new WeakMap),V=new WeakMap,W=new WeakMap,X=new WeakMap,Y=new WeakMap,Z=new WeakMap,$=new WeakMap,_=new WeakMap,ab=new WeakMap,bb=new WeakMap,cb=new WeakMap,db=0,eb=1,fb=2,gb=3;t.prototype={equals:function(a){return this.handler===a.handler&&this.type===a.type&&this.capture===a.capture},get removed(){return null===this.handler},remove:function(){this.handler=null}};var hb=window.Event;hb.prototype.polymerBlackList_={returnValue:!0,keyLocation:!0},u.prototype={get target(){return X.get(this)},get currentTarget(){return Y.get(this)},get eventPhase(){return $.get(this)},get path(){var a=cb.get(this);return a?a.slice():[]},stopPropagation:function(){_.set(this,!0)},stopImmediatePropagation:function(){_.set(this,!0),ab.set(this,!0)}},O(hb,u,document.createEvent("Event"));var ib=w("UIEvent",u),jb=w("CustomEvent",u),kb={get relatedTarget(){var a=Z.get(this);return void 0!==a?a:S(R(this).relatedTarget)}},lb=N({initMouseEvent:x("initMouseEvent",14)},kb),mb=N({initFocusEvent:x("initFocusEvent",5)},kb),nb=w("MouseEvent",ib,lb),ob=w("FocusEvent",ib,mb),pb=Object.create(null),qb=function(){try{new window.FocusEvent("focus")}catch(a){return!1}return!0}();if(!qb){var rb=function(a,b,c){if(c){var d=pb[c];b=N(N({},d),b)}pb[a]=b};rb("Event",{bubbles:!1,cancelable:!1}),rb("CustomEvent",{detail:null},"Event"),rb("UIEvent",{view:null,detail:0},"Event"),rb("MouseEvent",{screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null},"UIEvent"),rb("FocusEvent",{relatedTarget:null},"UIEvent")}var sb=window.BeforeUnloadEvent;z.prototype=Object.create(u.prototype),N(z.prototype,{get returnValue(){return Q(this).returnValue},set returnValue(a){Q(this).returnValue=a}}),sb&&O(sb,z);var tb=window.EventTarget,ub=["addEventListener","removeEventListener","dispatchEvent"];[Node,Window].forEach(function(a){var b=a.prototype;ub.forEach(function(a){Object.defineProperty(b,a+"_",{value:b[a]})})}),C.prototype={addEventListener:function(a,b,c){if(A(b)&&!B(a)){var d=new t(a,b,c),e=U.get(this);if(e){for(var f=0;f<e.length;f++)if(d.equals(e[f]))return}else e=[],e.depth=0,U.set(this,e);e.push(d);var g=D(this);g.addEventListener_(a,m,!0)}},removeEventListener:function(a,b,c){c=Boolean(c);var d=U.get(this);if(d){for(var e=0,f=!1,g=0;g<d.length;g++)d[g].type===a&&d[g].capture===c&&(e++,d[g].handler===b&&(f=!0,d[g].remove()));if(f&&1===e){var h=D(this);h.removeEventListener_(a,m,!0)}}},dispatchEvent:function(b){var c=R(b),d=c.type;V.set(c,!1),a.renderAllPending();var e;F(this,d)||(e=function(){},this.addEventListener(d,e,!0));try{return R(this).dispatchEvent_(c)}finally{e&&this.removeEventListener(d,e,!0)}}},tb&&O(tb,C);var vb=document.elementFromPoint;a.elementFromPoint=H,a.getEventHandlerGetter=I,a.getEventHandlerSetter=J,a.wrapEventTargetMethods=G,a.wrappers.BeforeUnloadEvent=z,a.wrappers.CustomEvent=jb,a.wrappers.Event=u,a.wrappers.EventTarget=C,a.wrappers.FocusEvent=ob,a.wrappers.MouseEvent=nb,a.wrappers.UIEvent=ib}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,b){Object.defineProperty(a,b,p)}function c(a){j(a,this)}function d(){this.length=0,b(this,"length")}function e(a){for(var b=new d,e=0;e<a.length;e++)b[e]=new c(a[e]);return b.length=e,b}function f(a){g.call(this,a)}var g=a.wrappers.UIEvent,h=a.mixin,i=a.registerWrapper,j=a.setWrapper,k=a.unsafeUnwrap,l=a.wrap,m=window.TouchEvent;if(m){var n;try{n=document.createEvent("TouchEvent")}catch(o){return}var p={enumerable:!1};c.prototype={get target(){return l(k(this).target)}};var q={configurable:!0,enumerable:!0,get:null};["clientX","clientY","screenX","screenY","pageX","pageY","identifier","webkitRadiusX","webkitRadiusY","webkitRotationAngle","webkitForce"].forEach(function(a){q.get=function(){return k(this)[a]},Object.defineProperty(c.prototype,a,q)}),d.prototype={item:function(a){return this[a]}},f.prototype=Object.create(g.prototype),h(f.prototype,{get touches(){return e(k(this).touches)},get targetTouches(){return e(k(this).targetTouches)},get changedTouches(){return e(k(this).changedTouches)},initTouchEvent:function(){throw new Error("Not implemented")}}),i(m,f,n),a.wrappers.Touch=c,a.wrappers.TouchEvent=f,a.wrappers.TouchList=d}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a,b){Object.defineProperty(a,b,h)}function c(){this.length=0,b(this,"length")}function d(a){if(null==a)return a;for(var b=new c,d=0,e=a.length;e>d;d++)b[d]=g(a[d]);return b.length=e,b}function e(a,b){a.prototype[b]=function(){return d(f(this)[b].apply(f(this),arguments))}}var f=a.unsafeUnwrap,g=a.wrap,h={enumerable:!1};c.prototype={item:function(a){return this[a]}},b(c.prototype,"item"),a.wrappers.NodeList=c,a.addWrapNodeListMethod=e,a.wrapNodeList=d}(window.ShadowDOMPolyfill),function(a){"use strict";a.wrapHTMLCollection=a.wrapNodeList,a.wrappers.HTMLCollection=a.wrappers.NodeList}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){A(a instanceof w)}function c(a){var b=new y;return b[0]=a,b.length=1,b}function d(a,b,c){C(b,"childList",{removedNodes:c,previousSibling:a.previousSibling,nextSibling:a.nextSibling})}function e(a,b){C(a,"childList",{removedNodes:b})}function f(a,b,d,e){if(a instanceof DocumentFragment){var f=h(a);P=!0;for(var g=f.length-1;g>=0;g--)a.removeChild(f[g]),f[g].parentNode_=b;P=!1;for(var g=0;g<f.length;g++)f[g].previousSibling_=f[g-1]||d,f[g].nextSibling_=f[g+1]||e;return d&&(d.nextSibling_=f[0]),e&&(e.previousSibling_=f[f.length-1]),f}var f=c(a),i=a.parentNode;return i&&i.removeChild(a),a.parentNode_=b,a.previousSibling_=d,a.nextSibling_=e,d&&(d.nextSibling_=a),e&&(e.previousSibling_=a),f}function g(a){if(a instanceof DocumentFragment)return h(a);var b=c(a),e=a.parentNode;return e&&d(a,e,b),b}function h(a){for(var b=new y,c=0,d=a.firstChild;d;d=d.nextSibling)b[c++]=d;return b.length=c,e(a,b),b}function i(a){return a}function j(a,b){I(a,b),a.nodeIsInserted_()}function k(a,b){for(var c=D(b),d=0;d<a.length;d++)j(a[d],c)}function l(a){I(a,new z(a,null))}function m(a){for(var b=0;b<a.length;b++)l(a[b])}function n(a,b){var c=a.nodeType===w.DOCUMENT_NODE?a:a.ownerDocument;c!==b.ownerDocument&&c.adoptNode(b)}function o(b,c){if(c.length){var d=b.ownerDocument;if(d!==c[0].ownerDocument)for(var e=0;e<c.length;e++)a.adoptNodeNoRemove(c[e],d)}}function p(a,b){o(a,b);var c=b.length;if(1===c)return K(b[0]);for(var d=K(a.ownerDocument.createDocumentFragment()),e=0;c>e;e++)d.appendChild(K(b[e]));return d}function q(a){if(void 0!==a.firstChild_)for(var b=a.firstChild_;b;){var c=b;b=b.nextSibling_,c.parentNode_=c.previousSibling_=c.nextSibling_=void 0}a.firstChild_=a.lastChild_=void 0}function r(a){if(a.invalidateShadowRenderer()){for(var b=a.firstChild;b;){A(b.parentNode===a);var c=b.nextSibling,d=K(b),e=d.parentNode;e&&W.call(e,d),b.previousSibling_=b.nextSibling_=b.parentNode_=null,b=c}a.firstChild_=a.lastChild_=null}else for(var c,f=K(a),g=f.firstChild;g;)c=g.nextSibling,W.call(f,g),g=c}function s(a){var b=a.parentNode;return b&&b.invalidateShadowRenderer()}function t(a){for(var b,c=0;c<a.length;c++)b=a[c],b.parentNode.removeChild(b)}function u(a,b,c){var d;if(d=M(c?Q.call(c,J(a),!1):R.call(J(a),!1)),b){for(var e=a.firstChild;e;e=e.nextSibling)d.appendChild(u(e,!0,c));if(a instanceof O.HTMLTemplateElement)for(var f=d.content,e=a.content.firstChild;e;e=e.nextSibling)f.appendChild(u(e,!0,c))}return d}function v(a,b){if(!b||D(a)!==D(b))return!1;for(var c=b;c;c=c.parentNode)if(c===a)return!0;return!1}function w(a){A(a instanceof S),x.call(this,a),this.parentNode_=void 0,this.firstChild_=void 0,this.lastChild_=void 0,this.nextSibling_=void 0,this.previousSibling_=void 0,this.treeScope_=void 0}var x=a.wrappers.EventTarget,y=a.wrappers.NodeList,z=a.TreeScope,A=a.assert,B=a.defineWrapGetter,C=a.enqueueMutation,D=a.getTreeScope,E=a.isWrapper,F=a.mixin,G=a.registerTransientObservers,H=a.registerWrapper,I=a.setTreeScope,J=a.unsafeUnwrap,K=a.unwrap,L=a.unwrapIfNeeded,M=a.wrap,N=a.wrapIfNeeded,O=a.wrappers,P=!1,Q=document.importNode,R=window.Node.prototype.cloneNode,S=window.Node,T=window.DocumentFragment,U=(S.prototype.appendChild,S.prototype.compareDocumentPosition),V=S.prototype.insertBefore,W=S.prototype.removeChild,X=S.prototype.replaceChild,Y=/Trident/.test(navigator.userAgent),Z=Y?function(a,b){try{W.call(a,b)}catch(c){if(!(a instanceof T))throw c}}:function(a,b){W.call(a,b)};w.prototype=Object.create(x.prototype),F(w.prototype,{appendChild:function(a){return this.insertBefore(a,null)},insertBefore:function(a,c){b(a);var d;c?E(c)?d=K(c):(d=c,c=M(d)):(c=null,d=null),c&&A(c.parentNode===this);var e,h=c?c.previousSibling:this.lastChild,i=!this.invalidateShadowRenderer()&&!s(a);if(e=i?g(a):f(a,this,h,c),i)n(this,a),q(this),V.call(J(this),K(a),d);else{h||(this.firstChild_=e[0]),c||(this.lastChild_=e[e.length-1],void 0===this.firstChild_&&(this.firstChild_=this.firstChild));var j=d?d.parentNode:J(this);j?V.call(j,p(this,e),d):o(this,e)}return C(this,"childList",{addedNodes:e,nextSibling:c,previousSibling:h}),k(e,this),a},removeChild:function(a){if(b(a),a.parentNode!==this){for(var d=!1,e=(this.childNodes,this.firstChild);e;e=e.nextSibling)if(e===a){d=!0;break}if(!d)throw new Error("NotFoundError")}var f=K(a),g=a.nextSibling,h=a.previousSibling;if(this.invalidateShadowRenderer()){var i=this.firstChild,j=this.lastChild,k=f.parentNode;k&&Z(k,f),i===a&&(this.firstChild_=g),j===a&&(this.lastChild_=h),h&&(h.nextSibling_=g),g&&(g.previousSibling_=h),a.previousSibling_=a.nextSibling_=a.parentNode_=void 0}else q(this),Z(J(this),f);return P||C(this,"childList",{removedNodes:c(a),nextSibling:g,previousSibling:h}),G(this,a),a},replaceChild:function(a,d){b(a);var e;if(E(d)?e=K(d):(e=d,d=M(e)),d.parentNode!==this)throw new Error("NotFoundError");var h,i=d.nextSibling,j=d.previousSibling,m=!this.invalidateShadowRenderer()&&!s(a);return m?h=g(a):(i===a&&(i=a.nextSibling),h=f(a,this,j,i)),m?(n(this,a),q(this),X.call(J(this),K(a),e)):(this.firstChild===d&&(this.firstChild_=h[0]),this.lastChild===d&&(this.lastChild_=h[h.length-1]),d.previousSibling_=d.nextSibling_=d.parentNode_=void 0,e.parentNode&&X.call(e.parentNode,p(this,h),e)),C(this,"childList",{addedNodes:h,removedNodes:c(d),nextSibling:i,previousSibling:j}),l(d),k(h,this),d},nodeIsInserted_:function(){for(var a=this.firstChild;a;a=a.nextSibling)a.nodeIsInserted_()},hasChildNodes:function(){return null!==this.firstChild},get parentNode(){return void 0!==this.parentNode_?this.parentNode_:M(J(this).parentNode)},get firstChild(){return void 0!==this.firstChild_?this.firstChild_:M(J(this).firstChild)},get lastChild(){return void 0!==this.lastChild_?this.lastChild_:M(J(this).lastChild)},get nextSibling(){return void 0!==this.nextSibling_?this.nextSibling_:M(J(this).nextSibling)},get previousSibling(){return void 0!==this.previousSibling_?this.previousSibling_:M(J(this).previousSibling)},get parentElement(){for(var a=this.parentNode;a&&a.nodeType!==w.ELEMENT_NODE;)a=a.parentNode;return a},get textContent(){for(var a="",b=this.firstChild;b;b=b.nextSibling)b.nodeType!=w.COMMENT_NODE&&(a+=b.textContent);return a},set textContent(a){var b=i(this.childNodes);if(this.invalidateShadowRenderer()){if(r(this),""!==a){var c=J(this).ownerDocument.createTextNode(a);this.appendChild(c)}}else q(this),J(this).textContent=a;var d=i(this.childNodes);C(this,"childList",{addedNodes:d,removedNodes:b}),m(b),k(d,this)},get childNodes(){for(var a=new y,b=0,c=this.firstChild;c;c=c.nextSibling)a[b++]=c;return a.length=b,a},cloneNode:function(a){return u(this,a)},contains:function(a){return v(this,N(a))},compareDocumentPosition:function(a){return U.call(J(this),L(a))},normalize:function(){for(var a,b,c=i(this.childNodes),d=[],e="",f=0;f<c.length;f++)b=c[f],b.nodeType===w.TEXT_NODE?a||b.data.length?a?(e+=b.data,d.push(b)):a=b:this.removeNode(b):(a&&d.length&&(a.data+=e,t(d)),d=[],e="",a=null,b.childNodes.length&&b.normalize());a&&d.length&&(a.data+=e,t(d))}}),B(w,"ownerDocument"),H(S,w,document.createDocumentFragment()),delete w.prototype.querySelector,delete w.prototype.querySelectorAll,w.prototype=F(Object.create(x.prototype),w.prototype),a.cloneNode=u,a.nodeWasAdded=j,a.nodeWasRemoved=l,a.nodesWereAdded=k,a.nodesWereRemoved=m,a.originalInsertBefore=V,a.originalRemoveChild=W,a.snapshotNodeList=i,a.wrappers.Node=w}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b,c,d,e){for(var f=null,g=null,h=0,i=b.length;i>h;h++)f=s(b[h]),!e&&(g=q(f).root)&&g instanceof a.wrappers.ShadowRoot||(d[c++]=f);return c}function c(a){return String(a).replace(/\/deep\//g," ")}function d(a,b){for(var c,e=a.firstElementChild;e;){if(e.matches(b))return e;if(c=d(e,b))return c;e=e.nextElementSibling}return null}function e(a,b){return a.matches(b)}function f(a,b,c){var d=a.localName;return d===b||d===c&&a.namespaceURI===D}function g(){return!0}function h(a,b,c){return a.localName===c}function i(a,b){return a.namespaceURI===b}function j(a,b,c){return a.namespaceURI===b&&a.localName===c}function k(a,b,c,d,e,f){for(var g=a.firstElementChild;g;)d(g,e,f)&&(c[b++]=g),b=k(g,b,c,d,e,f),g=g.nextElementSibling;return b}function l(c,d,e,f,g){var h,i=r(this),j=q(this).root;if(j instanceof a.wrappers.ShadowRoot)return k(this,d,e,c,f,null);if(i instanceof B)h=w.call(i,f);else{if(!(i instanceof C))return k(this,d,e,c,f,null);h=v.call(i,f)}return b(h,d,e,g)}function m(c,d,e,f,g){var h,i=r(this),j=q(this).root;if(j instanceof a.wrappers.ShadowRoot)return k(this,d,e,c,f,g);if(i instanceof B)h=y.call(i,f,g);else{if(!(i instanceof C))return k(this,d,e,c,f,g);h=x.call(i,f,g)}return b(h,d,e,!1)}function n(c,d,e,f,g){var h,i=r(this),j=q(this).root;if(j instanceof a.wrappers.ShadowRoot)return k(this,d,e,c,f,g);if(i instanceof B)h=A.call(i,f,g);else{if(!(i instanceof C))return k(this,d,e,c,f,g);h=z.call(i,f,g)}return b(h,d,e,!1)}var o=a.wrappers.HTMLCollection,p=a.wrappers.NodeList,q=a.getTreeScope,r=a.unsafeUnwrap,s=a.wrap,t=document.querySelector,u=document.documentElement.querySelector,v=document.querySelectorAll,w=document.documentElement.querySelectorAll,x=document.getElementsByTagName,y=document.documentElement.getElementsByTagName,z=document.getElementsByTagNameNS,A=document.documentElement.getElementsByTagNameNS,B=window.Element,C=window.HTMLDocument||window.Document,D="http://www.w3.org/1999/xhtml",E={querySelector:function(b){var e=c(b),f=e!==b;b=e;var g,h=r(this),i=q(this).root;if(i instanceof a.wrappers.ShadowRoot)return d(this,b);if(h instanceof B)g=s(u.call(h,b));else{if(!(h instanceof C))return d(this,b);g=s(t.call(h,b))}return g&&!f&&(i=q(g).root)&&i instanceof a.wrappers.ShadowRoot?d(this,b):g},querySelectorAll:function(a){var b=c(a),d=b!==a;a=b;var f=new p;return f.length=l.call(this,e,0,f,a,d),f}},F={getElementsByTagName:function(a){var b=new o,c="*"===a?g:f;return b.length=m.call(this,c,0,b,a,a.toLowerCase()),b},getElementsByClassName:function(a){return this.querySelectorAll("."+a)},getElementsByTagNameNS:function(a,b){var c=new o,d=null;return d="*"===a?"*"===b?g:h:"*"===b?i:j,c.length=n.call(this,d,0,c,a||null,b),c}};a.GetElementsByInterface=F,a.SelectorsInterface=E}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){for(;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.nextSibling;return a}function c(a){for(;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.previousSibling;return a}var d=a.wrappers.NodeList,e={get firstElementChild(){return b(this.firstChild)},get lastElementChild(){return c(this.lastChild)},get childElementCount(){for(var a=0,b=this.firstElementChild;b;b=b.nextElementSibling)a++;return a},get children(){for(var a=new d,b=0,c=this.firstElementChild;c;c=c.nextElementSibling)a[b++]=c;return a.length=b,a},remove:function(){var a=this.parentNode;a&&a.removeChild(this)}},f={get nextElementSibling(){return b(this.nextSibling)},get previousElementSibling(){return c(this.previousSibling)}};a.ChildNodeInterface=f,a.ParentNodeInterface=e}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}var c=a.ChildNodeInterface,d=a.wrappers.Node,e=a.enqueueMutation,f=a.mixin,g=a.registerWrapper,h=a.unsafeUnwrap,i=window.CharacterData;b.prototype=Object.create(d.prototype),f(b.prototype,{get textContent(){return this.data},set textContent(a){this.data=a},get data(){return h(this).data},set data(a){var b=h(this).data;e(this,"characterData",{oldValue:b}),h(this).data=a}}),f(b.prototype,c),g(i,b,document.createTextNode("")),a.wrappers.CharacterData=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a>>>0}function c(a){d.call(this,a)}var d=a.wrappers.CharacterData,e=(a.enqueueMutation,a.mixin),f=a.registerWrapper,g=window.Text;c.prototype=Object.create(d.prototype),e(c.prototype,{splitText:function(a){a=b(a);var c=this.data;if(a>c.length)throw new Error("IndexSizeError");var d=c.slice(0,a),e=c.slice(a);this.data=d;var f=this.ownerDocument.createTextNode(e);return this.parentNode&&this.parentNode.insertBefore(f,this.nextSibling),f}}),f(g,c,document.createTextNode("")),a.wrappers.Text=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b){a.invalidateRendererBasedOnAttribute(b,"class")}function c(a,b){d(a,this),this.ownerElement_=b}var d=a.setWrapper,e=a.unsafeUnwrap;c.prototype={constructor:c,get length(){return e(this).length},item:function(a){return e(this).item(a)},contains:function(a){return e(this).contains(a)},add:function(){e(this).add.apply(e(this),arguments),b(this.ownerElement_)},remove:function(){e(this).remove.apply(e(this),arguments),b(this.ownerElement_)},toggle:function(){var a=e(this).toggle.apply(e(this),arguments);return b(this.ownerElement_),a},toString:function(){return e(this).toString()}},a.wrappers.DOMTokenList=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b,c){var d=b.parentNode;if(d&&d.shadowRoot){var e=a.getRendererForHost(d);e.dependsOnAttribute(c)&&e.invalidate()}}function c(a,b,c){k(a,"attributes",{name:b,namespace:null,oldValue:c})}function d(a){g.call(this,a)}var e=a.ChildNodeInterface,f=a.GetElementsByInterface,g=a.wrappers.Node,h=a.wrappers.DOMTokenList,i=a.ParentNodeInterface,j=a.SelectorsInterface,k=(a.addWrapNodeListMethod,a.enqueueMutation),l=a.mixin,m=(a.oneOf,a.registerWrapper),n=a.unsafeUnwrap,o=a.wrappers,p=window.Element,q=["matches","mozMatchesSelector","msMatchesSelector","webkitMatchesSelector"].filter(function(a){return p.prototype[a]}),r=q[0],s=p.prototype[r],t=new WeakMap;d.prototype=Object.create(g.prototype),l(d.prototype,{createShadowRoot:function(){var b=new o.ShadowRoot(this);n(this).polymerShadowRoot_=b;var c=a.getRendererForHost(this);return c.invalidate(),b},get shadowRoot(){return n(this).polymerShadowRoot_||null},setAttribute:function(a,d){var e=n(this).getAttribute(a);n(this).setAttribute(a,d),c(this,a,e),b(this,a)},removeAttribute:function(a){var d=n(this).getAttribute(a);n(this).removeAttribute(a),c(this,a,d),b(this,a)},matches:function(a){return s.call(n(this),a)},get classList(){var a=t.get(this);return a||t.set(this,a=new h(n(this).classList,this)),a},get className(){return n(this).className},set className(a){this.setAttribute("class",a)},get id(){return n(this).id},set id(a){this.setAttribute("id",a)}}),q.forEach(function(a){"matches"!==a&&(d.prototype[a]=function(a){return this.matches(a)})}),p.prototype.webkitCreateShadowRoot&&(d.prototype.webkitCreateShadowRoot=d.prototype.createShadowRoot),l(d.prototype,e),l(d.prototype,f),l(d.prototype,i),l(d.prototype,j),m(p,d,document.createElementNS(null,"x")),a.invalidateRendererBasedOnAttribute=b,a.matchesNames=q,a.wrappers.Element=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"\xa0":return"&nbsp;"}}function c(a){return a.replace(A,b)}function d(a){return a.replace(B,b)}function e(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=!0;return b}function f(a,b){switch(a.nodeType){case Node.ELEMENT_NODE:for(var e,f=a.tagName.toLowerCase(),h="<"+f,i=a.attributes,j=0;e=i[j];j++)h+=" "+e.name+'="'+c(e.value)+'"';return h+=">",C[f]?h:h+g(a)+"</"+f+">";case Node.TEXT_NODE:var k=a.data;return b&&D[b.localName]?k:d(k);case Node.COMMENT_NODE:return"<!--"+a.data+"-->";default:throw console.error(a),new Error("not implemented")}}function g(a){a instanceof z.HTMLTemplateElement&&(a=a.content);for(var b="",c=a.firstChild;c;c=c.nextSibling)b+=f(c,a);return b}function h(a,b,c){var d=c||"div";a.textContent="";var e=x(a.ownerDocument.createElement(d));e.innerHTML=b;for(var f;f=e.firstChild;)a.appendChild(y(f))}function i(a){o.call(this,a)}function j(a,b){var c=x(a.cloneNode(!1));c.innerHTML=b;for(var d,e=x(document.createDocumentFragment());d=c.firstChild;)e.appendChild(d);return y(e)}function k(b){return function(){return a.renderAllPending(),w(this)[b]}}function l(a){p(i,a,k(a))}function m(b){Object.defineProperty(i.prototype,b,{get:k(b),set:function(c){a.renderAllPending(),w(this)[b]=c},configurable:!0,enumerable:!0})}function n(b){Object.defineProperty(i.prototype,b,{value:function(){return a.renderAllPending(),w(this)[b].apply(w(this),arguments)},configurable:!0,enumerable:!0})}var o=a.wrappers.Element,p=a.defineGetter,q=a.enqueueMutation,r=a.mixin,s=a.nodesWereAdded,t=a.nodesWereRemoved,u=a.registerWrapper,v=a.snapshotNodeList,w=a.unsafeUnwrap,x=a.unwrap,y=a.wrap,z=a.wrappers,A=/[&\u00A0"]/g,B=/[&\u00A0<>]/g,C=e(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),D=e(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),E=/MSIE/.test(navigator.userAgent),F=window.HTMLElement,G=window.HTMLTemplateElement;i.prototype=Object.create(o.prototype),r(i.prototype,{get innerHTML(){return g(this)},set innerHTML(a){if(E&&D[this.localName])return void(this.textContent=a);var b=v(this.childNodes);this.invalidateShadowRenderer()?this instanceof z.HTMLTemplateElement?h(this.content,a):h(this,a,this.tagName):!G&&this instanceof z.HTMLTemplateElement?h(this.content,a):w(this).innerHTML=a;var c=v(this.childNodes);q(this,"childList",{addedNodes:c,removedNodes:b}),t(b),s(c,this)},get outerHTML(){return f(this,this.parentNode)},set outerHTML(a){var b=this.parentNode;if(b){b.invalidateShadowRenderer();var c=j(b,a);b.replaceChild(c,this)}},insertAdjacentHTML:function(a,b){var c,d;switch(String(a).toLowerCase()){case"beforebegin":c=this.parentNode,d=this;break;case"afterend":c=this.parentNode,d=this.nextSibling;break;case"afterbegin":c=this,d=this.firstChild;break;case"beforeend":c=this,d=null;break;default:return}var e=j(c,b);c.insertBefore(e,d)},get hidden(){return this.hasAttribute("hidden")},set hidden(a){a?this.setAttribute("hidden",""):this.removeAttribute("hidden")}}),["clientHeight","clientLeft","clientTop","clientWidth","offsetHeight","offsetLeft","offsetTop","offsetWidth","scrollHeight","scrollWidth"].forEach(l),["scrollLeft","scrollTop"].forEach(m),["getBoundingClientRect","getClientRects","scrollIntoView"].forEach(n),u(F,i,document.createElement("b")),a.wrappers.HTMLElement=i,a.getInnerHTML=g,a.setInnerHTML=h}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.unsafeUnwrap,g=a.wrap,h=window.HTMLCanvasElement;b.prototype=Object.create(c.prototype),d(b.prototype,{getContext:function(){var a=f(this).getContext.apply(f(this),arguments);return a&&g(a)}}),e(h,b,document.createElement("canvas")),a.wrappers.HTMLCanvasElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=window.HTMLContentElement;b.prototype=Object.create(c.prototype),d(b.prototype,{constructor:b,get select(){return this.getAttribute("select")},set select(a){this.setAttribute("select",a)},setAttribute:function(a,b){c.prototype.setAttribute.call(this,a,b),"select"===String(a).toLowerCase()&&this.invalidateShadowRenderer(!0)}}),f&&e(f,b),a.wrappers.HTMLContentElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrapHTMLCollection,g=a.unwrap,h=window.HTMLFormElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get elements(){return f(g(this).elements)}}),e(h,b,document.createElement("form")),a.wrappers.HTMLFormElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}function c(a,b){if(!(this instanceof c))throw new TypeError("DOM object constructor cannot be called as a function.");var e=f(document.createElement("img"));d.call(this,e),g(e,this),void 0!==a&&(e.width=a),void 0!==b&&(e.height=b)}var d=a.wrappers.HTMLElement,e=a.registerWrapper,f=a.unwrap,g=a.rewrap,h=window.HTMLImageElement;b.prototype=Object.create(d.prototype),e(h,b,document.createElement("img")),c.prototype=b.prototype,a.wrappers.HTMLImageElement=b,a.wrappers.Image=c}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=(a.mixin,a.wrappers.NodeList,a.registerWrapper),e=window.HTMLShadowElement;b.prototype=Object.create(c.prototype),b.prototype.constructor=b,e&&d(e,b),a.wrappers.HTMLShadowElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){if(!a.defaultView)return a;var b=l.get(a);if(!b){for(b=a.implementation.createHTMLDocument("");b.lastChild;)b.removeChild(b.lastChild);l.set(a,b)}return b}function c(a){for(var c,d=b(a.ownerDocument),e=i(d.createDocumentFragment());c=a.firstChild;)e.appendChild(c);return e}function d(a){if(e.call(this,a),!m){var b=c(a);k.set(this,j(b))}}var e=a.wrappers.HTMLElement,f=a.mixin,g=a.registerWrapper,h=a.unsafeUnwrap,i=a.unwrap,j=a.wrap,k=new WeakMap,l=new WeakMap,m=window.HTMLTemplateElement;d.prototype=Object.create(e.prototype),f(d.prototype,{constructor:d,get content(){return m?j(h(this).content):k.get(this)}}),m&&g(m,d),a.wrappers.HTMLTemplateElement=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.registerWrapper,e=window.HTMLMediaElement;e&&(b.prototype=Object.create(c.prototype),d(e,b,document.createElement("audio")),a.wrappers.HTMLMediaElement=b)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d.call(this,a)}function c(a){if(!(this instanceof c))throw new TypeError("DOM object constructor cannot be called as a function.");var b=f(document.createElement("audio"));d.call(this,b),g(b,this),b.setAttribute("preload","auto"),void 0!==a&&b.setAttribute("src",a)}var d=a.wrappers.HTMLMediaElement,e=a.registerWrapper,f=a.unwrap,g=a.rewrap,h=window.HTMLAudioElement;h&&(b.prototype=Object.create(d.prototype),e(h,b,document.createElement("audio")),c.prototype=b.prototype,a.wrappers.HTMLAudioElement=b,a.wrappers.Audio=c)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){return a.replace(/\s+/g," ").trim()}function c(a){e.call(this,a)}function d(a,b,c,f){if(!(this instanceof d))throw new TypeError("DOM object constructor cannot be called as a function.");var g=i(document.createElement("option"));e.call(this,g),h(g,this),void 0!==a&&(g.text=a),void 0!==b&&g.setAttribute("value",b),c===!0&&g.setAttribute("selected",""),g.selected=f===!0}var e=a.wrappers.HTMLElement,f=a.mixin,g=a.registerWrapper,h=a.rewrap,i=a.unwrap,j=a.wrap,k=window.HTMLOptionElement;c.prototype=Object.create(e.prototype),f(c.prototype,{get text(){return b(this.textContent)},set text(a){this.textContent=b(String(a))},get form(){return j(i(this).form)}}),g(k,c,document.createElement("option")),d.prototype=c.prototype,a.wrappers.HTMLOptionElement=c,a.wrappers.Option=d}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.unwrap,g=a.wrap,h=window.HTMLSelectElement;b.prototype=Object.create(c.prototype),d(b.prototype,{add:function(a,b){"object"==typeof b&&(b=f(b)),f(this).add(f(a),b)},remove:function(a){return void 0===a?void c.prototype.remove.call(this):("object"==typeof a&&(a=f(a)),void f(this).remove(a))},get form(){return g(f(this).form)}}),e(h,b,document.createElement("select")),a.wrappers.HTMLSelectElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.unwrap,g=a.wrap,h=a.wrapHTMLCollection,i=window.HTMLTableElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get caption(){return g(f(this).caption)},createCaption:function(){return g(f(this).createCaption())},get tHead(){return g(f(this).tHead)},createTHead:function(){return g(f(this).createTHead())},createTFoot:function(){return g(f(this).createTFoot())},get tFoot(){return g(f(this).tFoot)},get tBodies(){return h(f(this).tBodies)},createTBody:function(){return g(f(this).createTBody())},get rows(){return h(f(this).rows)},insertRow:function(a){return g(f(this).insertRow(a))}}),e(i,b,document.createElement("table")),a.wrappers.HTMLTableElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrapHTMLCollection,g=a.unwrap,h=a.wrap,i=window.HTMLTableSectionElement;b.prototype=Object.create(c.prototype),d(b.prototype,{constructor:b,get rows(){return f(g(this).rows)},insertRow:function(a){return h(g(this).insertRow(a))}}),e(i,b,document.createElement("thead")),a.wrappers.HTMLTableSectionElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.HTMLElement,d=a.mixin,e=a.registerWrapper,f=a.wrapHTMLCollection,g=a.unwrap,h=a.wrap,i=window.HTMLTableRowElement;b.prototype=Object.create(c.prototype),d(b.prototype,{get cells(){return f(g(this).cells)},insertCell:function(a){return h(g(this).insertCell(a))}}),e(i,b,document.createElement("tr")),a.wrappers.HTMLTableRowElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){switch(a.localName){case"content":return new c(a);case"shadow":return new e(a);case"template":return new f(a)}d.call(this,a)}var c=a.wrappers.HTMLContentElement,d=a.wrappers.HTMLElement,e=a.wrappers.HTMLShadowElement,f=a.wrappers.HTMLTemplateElement,g=(a.mixin,a.registerWrapper),h=window.HTMLUnknownElement;b.prototype=Object.create(d.prototype),g(h,b),a.wrappers.HTMLUnknownElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.wrappers.Element,c=a.wrappers.HTMLElement,d=a.registerObject,e="http://www.w3.org/2000/svg",f=document.createElementNS(e,"title"),g=d(f),h=Object.getPrototypeOf(g.prototype).constructor;if(!("classList"in f)){var i=Object.getOwnPropertyDescriptor(b.prototype,"classList");Object.defineProperty(c.prototype,"classList",i),delete b.prototype.classList}a.wrappers.SVGElement=h}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){m.call(this,a)}var c=a.mixin,d=a.registerWrapper,e=a.unwrap,f=a.wrap,g=window.SVGUseElement,h="http://www.w3.org/2000/svg",i=f(document.createElementNS(h,"g")),j=document.createElementNS(h,"use"),k=i.constructor,l=Object.getPrototypeOf(k.prototype),m=l.constructor;b.prototype=Object.create(l),"instanceRoot"in j&&c(b.prototype,{get instanceRoot(){return f(e(this).instanceRoot)},get animatedInstanceRoot(){return f(e(this).animatedInstanceRoot)}}),d(g,b,j),a.wrappers.SVGUseElement=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.EventTarget,d=a.mixin,e=a.registerWrapper,f=a.unsafeUnwrap,g=a.wrap,h=window.SVGElementInstance;h&&(b.prototype=Object.create(c.prototype),d(b.prototype,{get correspondingElement(){return g(f(this).correspondingElement)
},get correspondingUseElement(){return g(f(this).correspondingUseElement)},get parentNode(){return g(f(this).parentNode)},get childNodes(){throw new Error("Not implemented")},get firstChild(){return g(f(this).firstChild)},get lastChild(){return g(f(this).lastChild)},get previousSibling(){return g(f(this).previousSibling)},get nextSibling(){return g(f(this).nextSibling)}}),e(h,b),a.wrappers.SVGElementInstance=b)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){e(a,this)}var c=a.mixin,d=a.registerWrapper,e=a.setWrapper,f=a.unsafeUnwrap,g=a.unwrap,h=a.unwrapIfNeeded,i=a.wrap,j=window.CanvasRenderingContext2D;c(b.prototype,{get canvas(){return i(f(this).canvas)},drawImage:function(){arguments[0]=h(arguments[0]),f(this).drawImage.apply(f(this),arguments)},createPattern:function(){return arguments[0]=g(arguments[0]),f(this).createPattern.apply(f(this),arguments)}}),d(j,b,document.createElement("canvas").getContext("2d")),a.wrappers.CanvasRenderingContext2D=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){e(a,this)}var c=a.mixin,d=a.registerWrapper,e=a.setWrapper,f=a.unsafeUnwrap,g=a.unwrapIfNeeded,h=a.wrap,i=window.WebGLRenderingContext;if(i){c(b.prototype,{get canvas(){return h(f(this).canvas)},texImage2D:function(){arguments[5]=g(arguments[5]),f(this).texImage2D.apply(f(this),arguments)},texSubImage2D:function(){arguments[6]=g(arguments[6]),f(this).texSubImage2D.apply(f(this),arguments)}});var j=/WebKit/.test(navigator.userAgent)?{drawingBufferHeight:null,drawingBufferWidth:null}:{};d(i,b,j),a.wrappers.WebGLRenderingContext=b}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d(a,this)}var c=a.registerWrapper,d=a.setWrapper,e=a.unsafeUnwrap,f=a.unwrap,g=a.unwrapIfNeeded,h=a.wrap,i=window.Range;b.prototype={get startContainer(){return h(e(this).startContainer)},get endContainer(){return h(e(this).endContainer)},get commonAncestorContainer(){return h(e(this).commonAncestorContainer)},setStart:function(a,b){e(this).setStart(g(a),b)},setEnd:function(a,b){e(this).setEnd(g(a),b)},setStartBefore:function(a){e(this).setStartBefore(g(a))},setStartAfter:function(a){e(this).setStartAfter(g(a))},setEndBefore:function(a){e(this).setEndBefore(g(a))},setEndAfter:function(a){e(this).setEndAfter(g(a))},selectNode:function(a){e(this).selectNode(g(a))},selectNodeContents:function(a){e(this).selectNodeContents(g(a))},compareBoundaryPoints:function(a,b){return e(this).compareBoundaryPoints(a,f(b))},extractContents:function(){return h(e(this).extractContents())},cloneContents:function(){return h(e(this).cloneContents())},insertNode:function(a){e(this).insertNode(g(a))},surroundContents:function(a){e(this).surroundContents(g(a))},cloneRange:function(){return h(e(this).cloneRange())},isPointInRange:function(a,b){return e(this).isPointInRange(g(a),b)},comparePoint:function(a,b){return e(this).comparePoint(g(a),b)},intersectsNode:function(a){return e(this).intersectsNode(g(a))},toString:function(){return e(this).toString()}},i.prototype.createContextualFragment&&(b.prototype.createContextualFragment=function(a){return h(e(this).createContextualFragment(a))}),c(window.Range,b,document.createRange()),a.wrappers.Range=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.GetElementsByInterface,c=a.ParentNodeInterface,d=a.SelectorsInterface,e=a.mixin,f=a.registerObject,g=f(document.createDocumentFragment());e(g.prototype,c),e(g.prototype,d),e(g.prototype,b);var h=f(document.createComment(""));a.wrappers.Comment=h,a.wrappers.DocumentFragment=g}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){var b=l(k(a).ownerDocument.createDocumentFragment());c.call(this,b),i(b,this);var e=a.shadowRoot;n.set(this,e),this.treeScope_=new d(this,g(e||a)),m.set(this,a)}var c=a.wrappers.DocumentFragment,d=a.TreeScope,e=a.elementFromPoint,f=a.getInnerHTML,g=a.getTreeScope,h=a.mixin,i=a.rewrap,j=a.setInnerHTML,k=a.unsafeUnwrap,l=a.unwrap,m=new WeakMap,n=new WeakMap,o=/[ \t\n\r\f]/;b.prototype=Object.create(c.prototype),h(b.prototype,{constructor:b,get innerHTML(){return f(this)},set innerHTML(a){j(this,a),this.invalidateShadowRenderer()},get olderShadowRoot(){return n.get(this)||null},get host(){return m.get(this)||null},invalidateShadowRenderer:function(){return m.get(this).invalidateShadowRenderer()},elementFromPoint:function(a,b){return e(this,this.ownerDocument,a,b)},getElementById:function(a){return o.test(a)?null:this.querySelector('[id="'+a+'"]')}}),a.wrappers.ShadowRoot=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){a.previousSibling_=a.previousSibling,a.nextSibling_=a.nextSibling,a.parentNode_=a.parentNode}function c(c,e,f){var g=H(c),h=H(e),i=f?H(f):null;if(d(e),b(e),f)c.firstChild===f&&(c.firstChild_=f),f.previousSibling_=f.previousSibling;else{c.lastChild_=c.lastChild,c.lastChild===c.firstChild&&(c.firstChild_=c.firstChild);var j=I(g.lastChild);j&&(j.nextSibling_=j.nextSibling)}a.originalInsertBefore.call(g,h,i)}function d(c){var d=H(c),e=d.parentNode;if(e){var f=I(e);b(c),c.previousSibling&&(c.previousSibling.nextSibling_=c),c.nextSibling&&(c.nextSibling.previousSibling_=c),f.lastChild===c&&(f.lastChild_=c),f.firstChild===c&&(f.firstChild_=c),a.originalRemoveChild.call(e,d)}}function e(a){J.set(a,[])}function f(a){var b=J.get(a);return b||J.set(a,b=[]),b}function g(a){for(var b=[],c=0,d=a.firstChild;d;d=d.nextSibling)b[c++]=d;return b}function h(){for(var a=0;a<N.length;a++){var b=N[a],c=b.parentRenderer;c&&c.dirty||b.render()}N=[]}function i(){y=null,h()}function j(a){var b=L.get(a);return b||(b=new n(a),L.set(a,b)),b}function k(a){var b=E(a).root;return b instanceof D?b:null}function l(a){return j(a.host)}function m(a){this.skip=!1,this.node=a,this.childNodes=[]}function n(a){this.host=a,this.dirty=!1,this.invalidateAttributes(),this.associateNode(a)}function o(a){for(var b=[],c=a.firstChild;c;c=c.nextSibling)v(c)?b.push.apply(b,f(c)):b.push(c);return b}function p(a){if(a instanceof B)return a;if(a instanceof A)return null;for(var b=a.firstChild;b;b=b.nextSibling){var c=p(b);if(c)return c}return null}function q(a,b){f(b).push(a);var c=K.get(a);c?c.push(b):K.set(a,[b])}function r(a){return K.get(a)}function s(a){K.set(a,void 0)}function t(a,b){var c=b.getAttribute("select");if(!c)return!0;if(c=c.trim(),!c)return!0;if(!(a instanceof z))return!1;if(!P.test(c))return!1;try{return a.matches(c)}catch(d){return!1}}function u(a,b){var c=r(b);return c&&c[c.length-1]===a}function v(a){return a instanceof A||a instanceof B}function w(a){return a.shadowRoot}function x(a){for(var b=[],c=a.shadowRoot;c;c=c.olderShadowRoot)b.push(c);return b}var y,z=a.wrappers.Element,A=a.wrappers.HTMLContentElement,B=a.wrappers.HTMLShadowElement,C=a.wrappers.Node,D=a.wrappers.ShadowRoot,E=(a.assert,a.getTreeScope),F=(a.mixin,a.oneOf),G=a.unsafeUnwrap,H=a.unwrap,I=a.wrap,J=new WeakMap,K=new WeakMap,L=new WeakMap,M=F(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","setTimeout"]),N=[],O=new ArraySplice;O.equals=function(a,b){return H(a.node)===b},m.prototype={append:function(a){var b=new m(a);return this.childNodes.push(b),b},sync:function(a){if(!this.skip){for(var b=this.node,e=this.childNodes,f=g(H(b)),h=a||new WeakMap,i=O.calculateSplices(e,f),j=0,k=0,l=0,m=0;m<i.length;m++){for(var n=i[m];l<n.index;l++)k++,e[j++].sync(h);for(var o=n.removed.length,p=0;o>p;p++){var q=I(f[k++]);h.get(q)||d(q)}for(var r=n.addedCount,s=f[k]&&I(f[k]),p=0;r>p;p++){var t=e[j++],u=t.node;c(b,u,s),h.set(u,!0),t.sync(h)}l+=r}for(var m=l;m<e.length;m++)e[m].sync(h)}}},n.prototype={render:function(a){if(this.dirty){this.invalidateAttributes();var b=this.host;this.distribution(b);var c=a||new m(b);this.buildRenderTree(c,b);var d=!a;d&&c.sync(),this.dirty=!1}},get parentRenderer(){return E(this.host).renderer},invalidate:function(){if(!this.dirty){this.dirty=!0;var a=this.parentRenderer;if(a&&a.invalidate(),N.push(this),y)return;y=window[M](i,0)}},distribution:function(a){this.resetAllSubtrees(a),this.distributionResolution(a)},resetAll:function(a){v(a)?e(a):s(a),this.resetAllSubtrees(a)},resetAllSubtrees:function(a){for(var b=a.firstChild;b;b=b.nextSibling)this.resetAll(b);a.shadowRoot&&this.resetAll(a.shadowRoot),a.olderShadowRoot&&this.resetAll(a.olderShadowRoot)},distributionResolution:function(a){if(w(a)){for(var b=a,c=o(b),d=x(b),e=0;e<d.length;e++)this.poolDistribution(d[e],c);for(var e=d.length-1;e>=0;e--){var f=d[e],g=p(f);if(g){var h=f.olderShadowRoot;h&&(c=o(h));for(var i=0;i<c.length;i++)q(c[i],g)}this.distributionResolution(f)}}for(var j=a.firstChild;j;j=j.nextSibling)this.distributionResolution(j)},poolDistribution:function(a,b){if(!(a instanceof B))if(a instanceof A){var c=a;this.updateDependentAttributes(c.getAttribute("select"));for(var d=!1,e=0;e<b.length;e++){var a=b[e];a&&t(a,c)&&(q(a,c),b[e]=void 0,d=!0)}if(!d)for(var f=c.firstChild;f;f=f.nextSibling)q(f,c)}else for(var f=a.firstChild;f;f=f.nextSibling)this.poolDistribution(f,b)},buildRenderTree:function(a,b){for(var c=this.compose(b),d=0;d<c.length;d++){var e=c[d],f=a.append(e);this.buildRenderTree(f,e)}if(w(b)){var g=j(b);g.dirty=!1}},compose:function(a){for(var b=[],c=a.shadowRoot||a,d=c.firstChild;d;d=d.nextSibling)if(v(d)){this.associateNode(c);for(var e=f(d),g=0;g<e.length;g++){var h=e[g];u(d,h)&&b.push(h)}}else b.push(d);return b},invalidateAttributes:function(){this.attributes=Object.create(null)},updateDependentAttributes:function(a){if(a){var b=this.attributes;/\.\w+/.test(a)&&(b["class"]=!0),/#\w+/.test(a)&&(b.id=!0),a.replace(/\[\s*([^\s=\|~\]]+)/g,function(a,c){b[c]=!0})}},dependsOnAttribute:function(a){return this.attributes[a]},associateNode:function(a){G(a).polymerShadowRenderer_=this}};var P=/^(:not\()?[*.#[a-zA-Z_|]/;C.prototype.invalidateShadowRenderer=function(){var a=G(this).polymerShadowRenderer_;return a?(a.invalidate(),!0):!1},A.prototype.getDistributedNodes=B.prototype.getDistributedNodes=function(){return h(),f(this)},z.prototype.getDestinationInsertionPoints=function(){return h(),r(this)||[]},A.prototype.nodeIsInserted_=B.prototype.nodeIsInserted_=function(){this.invalidateShadowRenderer();var a,b=k(this);b&&(a=l(b)),G(this).polymerShadowRenderer_=a,a&&a.invalidate()},a.getRendererForHost=j,a.getShadowTrees=x,a.renderAllPending=h,a.getDestinationInsertionPoints=r,a.visual={insertBefore:c,remove:d}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(b){if(window[b]){d(!a.wrappers[b]);var i=function(a){c.call(this,a)};i.prototype=Object.create(c.prototype),e(i.prototype,{get form(){return h(g(this).form)}}),f(window[b],i,document.createElement(b.slice(4,-7))),a.wrappers[b]=i}}var c=a.wrappers.HTMLElement,d=a.assert,e=a.mixin,f=a.registerWrapper,g=a.unwrap,h=a.wrap,i=["HTMLButtonElement","HTMLFieldSetElement","HTMLInputElement","HTMLKeygenElement","HTMLLabelElement","HTMLLegendElement","HTMLObjectElement","HTMLOutputElement","HTMLTextAreaElement"];i.forEach(b)}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){d(a,this)}{var c=a.registerWrapper,d=a.setWrapper,e=a.unsafeUnwrap,f=a.unwrap,g=a.unwrapIfNeeded,h=a.wrap;window.Selection}b.prototype={get anchorNode(){return h(e(this).anchorNode)},get focusNode(){return h(e(this).focusNode)},addRange:function(a){e(this).addRange(f(a))},collapse:function(a,b){e(this).collapse(g(a),b)},containsNode:function(a,b){return e(this).containsNode(g(a),b)},extend:function(a,b){e(this).extend(g(a),b)},getRangeAt:function(a){return h(e(this).getRangeAt(a))},removeRange:function(a){e(this).removeRange(f(a))},selectAllChildren:function(a){e(this).selectAllChildren(g(a))},toString:function(){return e(this).toString()}},c(window.Selection,b,window.getSelection()),a.wrappers.Selection=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){k.call(this,a),this.treeScope_=new p(this,null)}function c(a){var c=document[a];b.prototype[a]=function(){return C(c.apply(A(this),arguments))}}function d(a,b){F.call(A(b),B(a)),e(a,b)}function e(a,b){a.shadowRoot&&b.adoptNode(a.shadowRoot),a instanceof o&&f(a,b);for(var c=a.firstChild;c;c=c.nextSibling)e(c,b)}function f(a,b){var c=a.olderShadowRoot;c&&b.adoptNode(c)}function g(a){z(a,this)}function h(a,b){var c=document.implementation[b];a.prototype[b]=function(){return C(c.apply(A(this),arguments))}}function i(a,b){var c=document.implementation[b];a.prototype[b]=function(){return c.apply(A(this),arguments)}}var j=a.GetElementsByInterface,k=a.wrappers.Node,l=a.ParentNodeInterface,m=a.wrappers.Selection,n=a.SelectorsInterface,o=a.wrappers.ShadowRoot,p=a.TreeScope,q=a.cloneNode,r=a.defineWrapGetter,s=a.elementFromPoint,t=a.forwardMethodsToWrapper,u=a.matchesNames,v=a.mixin,w=a.registerWrapper,x=a.renderAllPending,y=a.rewrap,z=a.setWrapper,A=a.unsafeUnwrap,B=a.unwrap,C=a.wrap,D=a.wrapEventTargetMethods,E=(a.wrapNodeList,new WeakMap);b.prototype=Object.create(k.prototype),r(b,"documentElement"),r(b,"body"),r(b,"head"),["createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode","getElementById"].forEach(c);var F=document.adoptNode,G=document.getSelection;if(v(b.prototype,{adoptNode:function(a){return a.parentNode&&a.parentNode.removeChild(a),d(a,this),a},elementFromPoint:function(a,b){return s(this,this,a,b)},importNode:function(a,b){return q(a,b,A(this))},getSelection:function(){return x(),new m(G.call(B(this)))},getElementsByName:function(a){return n.querySelectorAll.call(this,"[name="+JSON.stringify(String(a))+"]")}}),document.registerElement){var H=document.registerElement;b.prototype.registerElement=function(b,c){function d(a){return a?void z(a,this):f?document.createElement(f,b):document.createElement(b)}var e,f;if(void 0!==c&&(e=c.prototype,f=c.extends),e||(e=Object.create(HTMLElement.prototype)),a.nativePrototypeTable.get(e))throw new Error("NotSupportedError");for(var g,h=Object.getPrototypeOf(e),i=[];h&&!(g=a.nativePrototypeTable.get(h));)i.push(h),h=Object.getPrototypeOf(h);if(!g)throw new Error("NotSupportedError");for(var j=Object.create(g),k=i.length-1;k>=0;k--)j=Object.create(j);["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"].forEach(function(a){var b=e[a];b&&(j[a]=function(){C(this)instanceof d||y(this),b.apply(C(this),arguments)})});var l={prototype:j};f&&(l.extends=f),d.prototype=e,d.prototype.constructor=d,a.constructorTable.set(j,d),a.nativePrototypeTable.set(e,j);H.call(B(this),b,l);return d},t([window.HTMLDocument||window.Document],["registerElement"])}t([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement,window.HTMLHtmlElement],["appendChild","compareDocumentPosition","contains","getElementsByClassName","getElementsByTagName","getElementsByTagNameNS","insertBefore","querySelector","querySelectorAll","removeChild","replaceChild"].concat(u)),t([window.HTMLDocument||window.Document],["adoptNode","importNode","contains","createComment","createDocumentFragment","createElement","createElementNS","createEvent","createEventNS","createRange","createTextNode","elementFromPoint","getElementById","getElementsByName","getSelection"]),v(b.prototype,j),v(b.prototype,l),v(b.prototype,n),v(b.prototype,{get implementation(){var a=E.get(this);return a?a:(a=new g(B(this).implementation),E.set(this,a),a)},get defaultView(){return C(B(this).defaultView)}}),w(window.Document,b,document.implementation.createHTMLDocument("")),window.HTMLDocument&&w(window.HTMLDocument,b),D([window.HTMLBodyElement,window.HTMLDocument||window.Document,window.HTMLHeadElement]),h(g,"createDocumentType"),h(g,"createDocument"),h(g,"createHTMLDocument"),i(g,"hasFeature"),w(window.DOMImplementation,g),t([window.DOMImplementation],["createDocumentType","createDocument","createHTMLDocument","hasFeature"]),a.adoptNodeNoRemove=d,a.wrappers.DOMImplementation=g,a.wrappers.Document=b}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){c.call(this,a)}var c=a.wrappers.EventTarget,d=a.wrappers.Selection,e=a.mixin,f=a.registerWrapper,g=a.renderAllPending,h=a.unwrap,i=a.unwrapIfNeeded,j=a.wrap,k=window.Window,l=window.getComputedStyle,m=window.getDefaultComputedStyle,n=window.getSelection;b.prototype=Object.create(c.prototype),k.prototype.getComputedStyle=function(a,b){return j(this||window).getComputedStyle(i(a),b)},m&&(k.prototype.getDefaultComputedStyle=function(a,b){return j(this||window).getDefaultComputedStyle(i(a),b)}),k.prototype.getSelection=function(){return j(this||window).getSelection()},delete window.getComputedStyle,delete window.getDefaultComputedStyle,delete window.getSelection,["addEventListener","removeEventListener","dispatchEvent"].forEach(function(a){k.prototype[a]=function(){var b=j(this||window);return b[a].apply(b,arguments)},delete window[a]}),e(b.prototype,{getComputedStyle:function(a,b){return g(),l.call(h(this),i(a),b)},getSelection:function(){return g(),new d(n.call(h(this)))},get document(){return j(h(this).document)}}),m&&(b.prototype.getDefaultComputedStyle=function(a,b){return g(),m.call(h(this),i(a),b)}),f(k,b,window),a.wrappers.Window=b}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.unwrap,c=window.DataTransfer||window.Clipboard,d=c.prototype.setDragImage;d&&(c.prototype.setDragImage=function(a,c,e){d.call(this,b(a),c,e)})}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){var b;b=a instanceof f?a:new f(a&&e(a)),d(b,this)}var c=a.registerWrapper,d=a.setWrapper,e=a.unwrap,f=window.FormData;f&&(c(f,b,new f),a.wrappers.FormData=b)}(window.ShadowDOMPolyfill),function(a){"use strict";var b=a.unwrapIfNeeded,c=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(a){return c.call(this,b(a))}}(window.ShadowDOMPolyfill),function(a){"use strict";function b(a){var b=c[a],d=window[b];if(d){var e=document.createElement(a),f=e.constructor;window[b]=f}}var c=(a.isWrapperFor,{a:"HTMLAnchorElement",area:"HTMLAreaElement",audio:"HTMLAudioElement",base:"HTMLBaseElement",body:"HTMLBodyElement",br:"HTMLBRElement",button:"HTMLButtonElement",canvas:"HTMLCanvasElement",caption:"HTMLTableCaptionElement",col:"HTMLTableColElement",content:"HTMLContentElement",data:"HTMLDataElement",datalist:"HTMLDataListElement",del:"HTMLModElement",dir:"HTMLDirectoryElement",div:"HTMLDivElement",dl:"HTMLDListElement",embed:"HTMLEmbedElement",fieldset:"HTMLFieldSetElement",font:"HTMLFontElement",form:"HTMLFormElement",frame:"HTMLFrameElement",frameset:"HTMLFrameSetElement",h1:"HTMLHeadingElement",head:"HTMLHeadElement",hr:"HTMLHRElement",html:"HTMLHtmlElement",iframe:"HTMLIFrameElement",img:"HTMLImageElement",input:"HTMLInputElement",keygen:"HTMLKeygenElement",label:"HTMLLabelElement",legend:"HTMLLegendElement",li:"HTMLLIElement",link:"HTMLLinkElement",map:"HTMLMapElement",marquee:"HTMLMarqueeElement",menu:"HTMLMenuElement",menuitem:"HTMLMenuItemElement",meta:"HTMLMetaElement",meter:"HTMLMeterElement",object:"HTMLObjectElement",ol:"HTMLOListElement",optgroup:"HTMLOptGroupElement",option:"HTMLOptionElement",output:"HTMLOutputElement",p:"HTMLParagraphElement",param:"HTMLParamElement",pre:"HTMLPreElement",progress:"HTMLProgressElement",q:"HTMLQuoteElement",script:"HTMLScriptElement",select:"HTMLSelectElement",shadow:"HTMLShadowElement",source:"HTMLSourceElement",span:"HTMLSpanElement",style:"HTMLStyleElement",table:"HTMLTableElement",tbody:"HTMLTableSectionElement",template:"HTMLTemplateElement",textarea:"HTMLTextAreaElement",thead:"HTMLTableSectionElement",time:"HTMLTimeElement",title:"HTMLTitleElement",tr:"HTMLTableRowElement",track:"HTMLTrackElement",ul:"HTMLUListElement",video:"HTMLVideoElement"});Object.keys(c).forEach(b),Object.getOwnPropertyNames(a.wrappers).forEach(function(b){window[b]=a.wrappers[b]})}(window.ShadowDOMPolyfill),function(a){function b(a,c){var d,e,f,g,h=a.firstElementChild;for(e=[],f=a.shadowRoot;f;)e.push(f),f=f.olderShadowRoot;for(g=e.length-1;g>=0;g--)if(d=e[g].querySelector(c))return d;for(;h;){if(d=b(h,c))return d;h=h.nextElementSibling}return null}function c(a,b,d){var e,f,g,h,i,j=a.firstElementChild;for(g=[],f=a.shadowRoot;f;)g.push(f),f=f.olderShadowRoot;for(h=g.length-1;h>=0;h--)for(e=g[h].querySelectorAll(b),i=0;i<e.length;i++)d.push(e[i]);for(;j;)c(j,b,d),j=j.nextElementSibling;return d}window.wrap=ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=ShadowDOMPolyfill.unwrapIfNeeded,Object.defineProperty(Element.prototype,"webkitShadowRoot",Object.getOwnPropertyDescriptor(Element.prototype,"shadowRoot"));var d=Element.prototype.createShadowRoot;Element.prototype.createShadowRoot=function(){var a=d.call(this);return CustomElements.watchShadow(this),a},Element.prototype.webkitCreateShadowRoot=Element.prototype.createShadowRoot,a.queryAllShadows=function(a,d,e){return e?c(a,d,[]):b(a,d)}}(window.Platform),function(a){function b(a,b){var c="";return Array.prototype.forEach.call(a,function(a){c+=a.textContent+"\n\n"}),b||(c=c.replace(l,"")),c}function c(a){var b=document.createElement("style");return b.textContent=a,b}function d(a){var b=c(a);document.head.appendChild(b);var d=[];if(b.sheet)try{d=b.sheet.cssRules}catch(e){}else console.warn("sheet not found",b);return b.parentNode.removeChild(b),d}function e(){v.initialized=!0,document.body.appendChild(v);var a=v.contentDocument,b=a.createElement("base");b.href=document.baseURI,a.head.appendChild(b)}function f(a){v.initialized||e(),document.body.appendChild(v),a(v.contentDocument),document.body.removeChild(v)}function g(a,b){if(b){var e;if(a.match("@import")&&x){var g=c(a);f(function(a){a.head.appendChild(g.impl),e=Array.prototype.slice.call(g.sheet.cssRules,0),b(e)})}else e=d(a),b(e)}}function h(a){a&&j().appendChild(document.createTextNode(a))}function i(a,b){var d=c(a);d.setAttribute(b,""),d.setAttribute(z,""),document.head.appendChild(d)}function j(){return w||(w=document.createElement("style"),w.setAttribute(z,""),w[z]=!0),w}var k={strictStyling:!1,registry:{},shimStyling:function(a,c,d){var e=this.prepareRoot(a,c,d),f=this.isTypeExtension(d),g=this.makeScopeSelector(c,f),h=b(e,!0);h=this.scopeCssText(h,g),a&&(a.shimmedStyle=h),this.addCssToDocument(h,c)},shimStyle:function(a,b){return this.shimCssText(a.textContent,b)},shimCssText:function(a,b){return a=this.insertDirectives(a),this.scopeCssText(a,b)},makeScopeSelector:function(a,b){return a?b?"[is="+a+"]":a:""},isTypeExtension:function(a){return a&&a.indexOf("-")<0},prepareRoot:function(a,b,c){var d=this.registerRoot(a,b,c);return this.replaceTextInStyles(d.rootStyles,this.insertDirectives),this.removeStyles(a,d.rootStyles),this.strictStyling&&this.applyScopeToContent(a,b),d.scopeStyles},removeStyles:function(a,b){for(var c,d=0,e=b.length;e>d&&(c=b[d]);d++)c.parentNode.removeChild(c)},registerRoot:function(a,b,c){var d=this.registry[b]={root:a,name:b,extendsName:c},e=this.findStyles(a);d.rootStyles=e,d.scopeStyles=d.rootStyles;var f=this.registry[d.extendsName];return f&&(d.scopeStyles=f.scopeStyles.concat(d.scopeStyles)),d},findStyles:function(a){if(!a)return[];var b=a.querySelectorAll("style");return Array.prototype.filter.call(b,function(a){return!a.hasAttribute(A)})},applyScopeToContent:function(a,b){a&&(Array.prototype.forEach.call(a.querySelectorAll("*"),function(a){a.setAttribute(b,"")}),Array.prototype.forEach.call(a.querySelectorAll("template"),function(a){this.applyScopeToContent(a.content,b)},this))},insertDirectives:function(a){return a=this.insertPolyfillDirectivesInCssText(a),this.insertPolyfillRulesInCssText(a)},insertPolyfillDirectivesInCssText:function(a){return a=a.replace(m,function(a,b){return b.slice(0,-2)+"{"}),a.replace(n,function(a,b){return b+" {"})},insertPolyfillRulesInCssText:function(a){return a=a.replace(o,function(a,b){return b.slice(0,-1)}),a.replace(p,function(a,b,c,d){var e=a.replace(b,"").replace(c,"");return d+e})},scopeCssText:function(a,b){var c=this.extractUnscopedRulesFromCssText(a);if(a=this.insertPolyfillHostInCssText(a),a=this.convertColonHost(a),a=this.convertColonHostContext(a),a=this.convertShadowDOMSelectors(a),b){var a,d=this;g(a,function(c){a=d.scopeRules(c,b)})}return a=a+"\n"+c,a.trim()},extractUnscopedRulesFromCssText:function(a){for(var b,c="";b=q.exec(a);)c+=b[1].slice(0,-1)+"\n\n";for(;b=r.exec(a);)c+=b[0].replace(b[2],"").replace(b[1],b[3])+"\n\n";return c},convertColonHost:function(a){return this.convertColonRule(a,cssColonHostRe,this.colonHostPartReplacer)},convertColonHostContext:function(a){return this.convertColonRule(a,cssColonHostContextRe,this.colonHostContextPartReplacer)},convertColonRule:function(a,b,c){return a.replace(b,function(a,b,d,e){if(b=polyfillHostNoCombinator,d){for(var f,g=d.split(","),h=[],i=0,j=g.length;j>i&&(f=g[i]);i++)f=f.trim(),h.push(c(b,f,e));return h.join(",")}return b+e})},colonHostContextPartReplacer:function(a,b,c){return b.match(s)?this.colonHostPartReplacer(a,b,c):a+b+c+", "+b+" "+a+c},colonHostPartReplacer:function(a,b,c){return a+b.replace(s,"")+c},convertShadowDOMSelectors:function(a){for(var b=0;b<shadowDOMSelectorsRe.length;b++)a=a.replace(shadowDOMSelectorsRe[b]," ");return a},scopeRules:function(a,b){var c="";return a&&Array.prototype.forEach.call(a,function(a){if(a.selectorText&&a.style&&void 0!==a.style.cssText)c+=this.scopeSelector(a.selectorText,b,this.strictStyling)+" {\n	",c+=this.propertiesFromRule(a)+"\n}\n\n";else if(a.type===CSSRule.MEDIA_RULE)c+="@media "+a.media.mediaText+" {\n",c+=this.scopeRules(a.cssRules,b),c+="\n}\n\n";else try{a.cssText&&(c+=a.cssText+"\n\n")}catch(d){a.type===CSSRule.KEYFRAMES_RULE&&a.cssRules&&(c+=this.ieSafeCssTextFromKeyFrameRule(a))}},this),c},ieSafeCssTextFromKeyFrameRule:function(a){var b="@keyframes "+a.name+" {";return Array.prototype.forEach.call(a.cssRules,function(a){b+=" "+a.keyText+" {"+a.style.cssText+"}"}),b+=" }"},scopeSelector:function(a,b,c){var d=[],e=a.split(",");return e.forEach(function(a){a=a.trim(),this.selectorNeedsScoping(a,b)&&(a=c&&!a.match(polyfillHostNoCombinator)?this.applyStrictSelectorScope(a,b):this.applySelectorScope(a,b)),d.push(a)},this),d.join(", ")},selectorNeedsScoping:function(a,b){if(Array.isArray(b))return!0;var c=this.makeScopeMatcher(b);return!a.match(c)},makeScopeMatcher:function(a){return a=a.replace(/\[/g,"\\[").replace(/\[/g,"\\]"),new RegExp("^("+a+")"+selectorReSuffix,"m")},applySelectorScope:function(a,b){return Array.isArray(b)?this.applySelectorScopeList(a,b):this.applySimpleSelectorScope(a,b)},applySelectorScopeList:function(a,b){for(var c,d=[],e=0;c=b[e];e++)d.push(this.applySimpleSelectorScope(a,c));return d.join(", ")},applySimpleSelectorScope:function(a,b){return a.match(polyfillHostRe)?(a=a.replace(polyfillHostNoCombinator,b),a.replace(polyfillHostRe,b+" ")):b+" "+a},applyStrictSelectorScope:function(a,b){b=b.replace(/\[is=([^\]]*)\]/g,"$1");var c=[" ",">","+","~"],d=a,e="["+b+"]";return c.forEach(function(a){var b=d.split(a);d=b.map(function(a){var b=a.trim().replace(polyfillHostRe,"");return b&&c.indexOf(b)<0&&b.indexOf(e)<0&&(a=b.replace(/([^:]*)(:*)(.*)/,"$1"+e+"$2$3")),a}).join(a)}),d},insertPolyfillHostInCssText:function(a){return a.replace(colonHostContextRe,t).replace(colonHostRe,s)},propertiesFromRule:function(a){var b=a.style.cssText;a.style.content&&!a.style.content.match(/['"]+|attr/)&&(b=b.replace(/content:[^;]*;/g,"content: '"+a.style.content+"';"));var c=a.style;for(var d in c)"initial"===c[d]&&(b+=d+": initial; ");return b},replaceTextInStyles:function(a,b){a&&b&&(a instanceof Array||(a=[a]),Array.prototype.forEach.call(a,function(a){a.textContent=b.call(this,a.textContent)},this))},addCssToDocument:function(a,b){a.match("@import")?i(a,b):h(a)}},l=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,m=/\/\*\s*@polyfill ([^*]*\*+([^/*][^*]*\*+)*\/)([^{]*?){/gim,n=/polyfill-next-selector[^}]*content\:[\s]*?['"](.*?)['"][;\s]*}([^{]*?){/gim,o=/\/\*\s@polyfill-rule([^*]*\*+([^/*][^*]*\*+)*)\//gim,p=/(polyfill-rule)[^}]*(content\:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,q=/\/\*\s@polyfill-unscoped-rule([^*]*\*+([^/*][^*]*\*+)*)\//gim,r=/(polyfill-unscoped-rule)[^}]*(content\:[\s]*['"](.*?)['"])[;\s]*[^}]*}/gim,s="-shadowcsshost",t="-shadowcsscontext",u=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)";cssColonHostRe=new RegExp("("+s+u,"gim"),cssColonHostContextRe=new RegExp("("+t+u,"gim"),selectorReSuffix="([>\\s~+[.,{:][\\s\\S]*)?$",colonHostRe=/\:host/gim,colonHostContextRe=/\:host-context/gim,polyfillHostNoCombinator=s+"-no-combinator",polyfillHostRe=new RegExp(s,"gim"),polyfillHostContextRe=new RegExp(t,"gim"),shadowDOMSelectorsRe=[/\^\^/g,/\^/g,/\/shadow\//g,/\/shadow-deep\//g,/::shadow/g,/\/deep\//g,/::content/g];var v=document.createElement("iframe");v.style.display="none";var w,x=navigator.userAgent.match("Chrome"),y="shim-shadowdom",z="shim-shadowdom-css",A="no-shim";if(window.ShadowDOMPolyfill){h("style { display: none !important; }\n");var B=wrap(document),C=B.querySelector("head");C.insertBefore(j(),C.childNodes[0]),document.addEventListener("DOMContentLoaded",function(){a.urlResolver;if(window.HTMLImports&&!HTMLImports.useNative){var b="link[rel=stylesheet]["+y+"]",c="style["+y+"]";HTMLImports.importer.documentPreloadSelectors+=","+b,HTMLImports.importer.importsPreloadSelectors+=","+b,HTMLImports.parser.documentSelectors=[HTMLImports.parser.documentSelectors,b,c].join(",");var d=HTMLImports.parser.parseGeneric;HTMLImports.parser.parseGeneric=function(a){if(!a[z]){var b=a.__importElement||a;if(!b.hasAttribute(y))return void d.call(this,a);a.__resource&&(b=a.ownerDocument.createElement("style"),b.textContent=a.__resource),HTMLImports.path.resolveUrlsInStyle(b),b.textContent=k.shimStyle(b),b.removeAttribute(y,""),b.setAttribute(z,""),b[z]=!0,b.parentNode!==C&&(a.parentNode===C?C.replaceChild(b,a):this.addElementToDocument(b)),b.__importParsed=!0,this.markParsingComplete(a),this.parseNext()}};var e=HTMLImports.parser.hasResource;HTMLImports.parser.hasResource=function(a){return"link"===a.localName&&"stylesheet"===a.rel&&a.hasAttribute(y)?a.__resource:e.call(this,a)}}})}a.ShadowCSS=k}(window.Platform)):!function(){window.wrap=window.unwrap=function(a){return a},addEventListener("DOMContentLoaded",function(){if(CustomElements.useNative===!1){var a=Element.prototype.createShadowRoot;Element.prototype.createShadowRoot=function(){var b=a.call(this);return CustomElements.watchShadow(this),b}}})}(window.Platform),function(a){"use strict";function b(a){return void 0!==m[a]}function c(){h.call(this),this._isInvalid=!0}function d(a){return""==a&&c.call(this),a.toLowerCase()}function e(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,63,96].indexOf(b)?a:encodeURIComponent(a)}function f(a){var b=a.charCodeAt(0);return b>32&&127>b&&-1==[34,35,60,62,96].indexOf(b)?a:encodeURIComponent(a)}function g(a,g,h){function i(a){t.push(a)}var j=g||"scheme start",k=0,l="",r=!1,s=!1,t=[];a:for(;(a[k-1]!=o||0==k)&&!this._isInvalid;){var u=a[k];switch(j){case"scheme start":if(!u||!p.test(u)){if(g){i("Invalid scheme.");break a}l="",j="no scheme";continue}l+=u.toLowerCase(),j="scheme";break;case"scheme":if(u&&q.test(u))l+=u.toLowerCase();else{if(":"!=u){if(g){if(o==u)break a;i("Code point not allowed in scheme: "+u);break a}l="",k=0,j="no scheme";continue}if(this._scheme=l,l="",g)break a;b(this._scheme)&&(this._isRelative=!0),j="file"==this._scheme?"relative":this._isRelative&&h&&h._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==u?(query="?",j="query"):"#"==u?(this._fragment="#",j="fragment"):o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._schemeData+=e(u));break;case"no scheme":if(h&&b(h._scheme)){j="relative";continue}i("Missing scheme."),c.call(this);break;case"relative or authority":if("/"!=u||"/"!=a[k+1]){i("Expected /, got: "+u),j="relative";continue}j="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=h._scheme),o==u){this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query;break a}if("/"==u||"\\"==u)"\\"==u&&i("\\ is an invalid code point."),j="relative slash";else if("?"==u)this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query="?",j="query";
else{if("#"!=u){var v=a[k+1],w=a[k+2];("file"!=this._scheme||!p.test(u)||":"!=v&&"|"!=v||o!=w&&"/"!=w&&"\\"!=w&&"?"!=w&&"#"!=w)&&(this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._path.pop()),j="relative path";continue}this._host=h._host,this._port=h._port,this._path=h._path.slice(),this._query=h._query,this._fragment="#",j="fragment"}break;case"relative slash":if("/"!=u&&"\\"!=u){"file"!=this._scheme&&(this._host=h._host,this._port=h._port),j="relative path";continue}"\\"==u&&i("\\ is an invalid code point."),j="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=u){i("Expected '/', got: "+u),j="authority ignore slashes";continue}j="authority second slash";break;case"authority second slash":if(j="authority ignore slashes","/"!=u){i("Expected '/', got: "+u);continue}break;case"authority ignore slashes":if("/"!=u&&"\\"!=u){j="authority";continue}i("Expected authority, got: "+u);break;case"authority":if("@"==u){r&&(i("@ already seen."),l+="%40"),r=!0;for(var x=0;x<l.length;x++){var y=l[x];if("	"!=y&&"\n"!=y&&"\r"!=y)if(":"!=y||null!==this._password){var z=e(y);null!==this._password?this._password+=z:this._username+=z}else this._password="";else i("Invalid whitespace in authority.")}l=""}else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){k-=l.length,l="",j="host";continue}l+=u}break;case"file host":if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){2!=l.length||!p.test(l[0])||":"!=l[1]&&"|"!=l[1]?0==l.length?j="relative path start":(this._host=d.call(this,l),l="",j="relative path start"):j="relative path";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid whitespace in file host."):l+=u;break;case"host":case"hostname":if(":"!=u||s){if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u){if(this._host=d.call(this,l),l="",j="relative path start",g)break a;continue}"	"!=u&&"\n"!=u&&"\r"!=u?("["==u?s=!0:"]"==u&&(s=!1),l+=u):i("Invalid code point in host/hostname: "+u)}else if(this._host=d.call(this,l),l="",j="port","hostname"==g)break a;break;case"port":if(/[0-9]/.test(u))l+=u;else{if(o==u||"/"==u||"\\"==u||"?"==u||"#"==u||g){if(""!=l){var A=parseInt(l,10);A!=m[this._scheme]&&(this._port=A+""),l=""}if(g)break a;j="relative path start";continue}"	"==u||"\n"==u||"\r"==u?i("Invalid code point in port: "+u):c.call(this)}break;case"relative path start":if("\\"==u&&i("'\\' not allowed in path."),j="relative path","/"!=u&&"\\"!=u)continue;break;case"relative path":if(o!=u&&"/"!=u&&"\\"!=u&&(g||"?"!=u&&"#"!=u))"	"!=u&&"\n"!=u&&"\r"!=u&&(l+=e(u));else{"\\"==u&&i("\\ not allowed in relative path.");var B;(B=n[l.toLowerCase()])&&(l=B),".."==l?(this._path.pop(),"/"!=u&&"\\"!=u&&this._path.push("")):"."==l&&"/"!=u&&"\\"!=u?this._path.push(""):"."!=l&&("file"==this._scheme&&0==this._path.length&&2==l.length&&p.test(l[0])&&"|"==l[1]&&(l=l[0]+":"),this._path.push(l)),l="","?"==u?(this._query="?",j="query"):"#"==u&&(this._fragment="#",j="fragment")}break;case"query":g||"#"!=u?o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._query+=f(u)):(this._fragment="#",j="fragment");break;case"fragment":o!=u&&"	"!=u&&"\n"!=u&&"\r"!=u&&(this._fragment+=u)}k++}}function h(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function i(a,b){void 0===b||b instanceof i||(b=new i(String(b))),this._url=a,h.call(this);var c=a.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");g.call(this,c,null,b)}var j=!1;if(!a.forceJURL)try{var k=new URL("b","http://a");j="http://a/b"===k.href}catch(l){}if(!j){var m=Object.create(null);m.ftp=21,m.file=0,m.gopher=70,m.http=80,m.https=443,m.ws=80,m.wss=443;var n=Object.create(null);n["%2e"]=".",n[".%2e"]="..",n["%2e."]="..",n["%2e%2e"]="..";var o=void 0,p=/[a-zA-Z]/,q=/[a-zA-Z0-9\+\-\.]/;i.prototype={get href(){if(this._isInvalid)return this._url;var a="";return(""!=this._username||null!=this._password)&&(a=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+a+this.host:"")+this.pathname+this._query+this._fragment},set href(a){h.call(this),g.call(this,a)},get protocol(){return this._scheme+":"},set protocol(a){this._isInvalid||g.call(this,a+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"host")},get hostname(){return this._host},set hostname(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"hostname")},get port(){return this._port},set port(a){!this._isInvalid&&this._isRelative&&g.call(this,a,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(a){!this._isInvalid&&this._isRelative&&(this._path=[],g.call(this,a,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(a){!this._isInvalid&&this._isRelative&&(this._query="?","?"==a[0]&&(a=a.slice(1)),g.call(this,a,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(a){this._isInvalid||(this._fragment="#","#"==a[0]&&(a=a.slice(1)),g.call(this,a,"fragment"))},get origin(){var a;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return a=this.host,a?this._scheme+"://"+a:""}};var r=a.URL;r&&(i.createObjectURL=function(){return r.createObjectURL.apply(r,arguments)},i.revokeObjectURL=function(a){r.revokeObjectURL(a)}),a.URL=i}}(this),function(){Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),b.apply(a,d)}})}(window.Platform),function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p=new WeakMap,q=window.msSetImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return void(c[d-1]=f)}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g,a.MutationObserver||(a.MutationObserver=g)}(this),window.HTMLImports=window.HTMLImports||{flags:{}},function(a){function b(a,b){b=b||q,d(function(){f(a,b)},b)}function c(a){return"complete"===a.readyState||a.readyState===s}function d(a,b){if(c(b))a&&a();else{var e=function(){("complete"===b.readyState||b.readyState===s)&&(b.removeEventListener(t,e),d(a,b))};b.addEventListener(t,e)}}function e(a){a.target.__loaded=!0}function f(a,b){function c(){h==i&&a&&a()}function d(a){e(a),h++,c()}var f=b.querySelectorAll("link[rel=import]"),h=0,i=f.length;if(i)for(var j,k=0;i>k&&(j=f[k]);k++)g(j)?d.call(j,{target:j}):(j.addEventListener("load",d),j.addEventListener("error",d));else c()}function g(a){return m?a.__loaded||a.import&&"loading"!==a.import.readyState:a.__importParsed}function h(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)i(b)&&j(b)}function i(a){return"link"===a.localName&&"import"===a.rel}function j(a){var b=a.import;b?e({target:a}):(a.addEventListener("load",e),a.addEventListener("error",e))}var k="import",l=k in document.createElement("link"),m=l,n=/Trident/.test(navigator.userAgent),o=Boolean(window.ShadowDOMPolyfill),p=function(a){return o?ShadowDOMPolyfill.wrapIfNeeded(a):a},q=p(document),r={get:function(){var a=HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return p(a)},configurable:!0};Object.defineProperty(document,"_currentScript",r),Object.defineProperty(q,"_currentScript",r);var s=n?"complete":"interactive",t="readystatechange";m&&(new MutationObserver(function(a){for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)b.addedNodes&&h(b.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var a,b=document.querySelectorAll("link[rel=import]"),c=0,d=b.length;d>c&&(a=b[c]);c++)j(a)}()),b(function(){HTMLImports.ready=!0,HTMLImports.readyTime=(new Date).getTime(),q.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))}),a.useNative=m,a.isImportLoaded=g,a.whenReady=b,a.rootDocument=q,a.IMPORT_LINK_TYPE=k,a.isIE=n}(window.HTMLImports),function(a){var b=(a.path,a.xhr),c=a.flags,d=function(a,b){this.cache={},this.onload=a,this.oncomplete=b,this.inflight=0,this.pending={}};d.prototype={addNodes:function(a){this.inflight+=a.length;for(var b,c=0,d=a.length;d>c&&(b=a[c]);c++)this.require(b);this.checkDone()},addNode:function(a){this.inflight++,this.require(a),this.checkDone()},require:function(a){var b=a.src||a.href;a.__nodeUrl=b,this.dedupe(b,a)||this.fetch(b,a)},dedupe:function(a,b){if(this.pending[a])return this.pending[a].push(b),!0;return this.cache[a]?(this.onload(a,b,this.cache[a]),this.tail(),!0):(this.pending[a]=[b],!1)},fetch:function(a,d){if(c.load&&console.log("fetch",a,d),a.match(/^data:/)){var e=a.split(","),f=e[0],g=e[1];g=f.indexOf(";base64")>-1?atob(g):decodeURIComponent(g),setTimeout(function(){this.receive(a,d,null,g)}.bind(this),0)}else{var h=function(b,c,e){this.receive(a,d,b,c,e)}.bind(this);b.load(a,h)}},receive:function(a,b,c,d,e){this.cache[a]=d;for(var f,g=this.pending[a],h=0,i=g.length;i>h&&(f=g[h]);h++)this.onload(a,f,d,c,e),this.tail();this.pending[a]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},b=b||{async:!0,ok:function(a){return a.status>=200&&a.status<300||304===a.status||0===a.status},load:function(c,d,e){var f=new XMLHttpRequest;return(a.flags.debug||a.flags.bust)&&(c+="?"+Math.random()),f.open("GET",c,b.async),f.addEventListener("readystatechange",function(){if(4===f.readyState){var a=f.getResponseHeader("Location"),c=null;if(a)var c="/"===a.substr(0,1)?location.origin+a:a;d.call(e,!b.ok(f)&&f,f.response||f.responseText,c)}}),f.send(),f},loadDocument:function(a,b,c){this.load(a,b,c).responseType="document"}},a.xhr=b,a.Loader=d}(window.HTMLImports),function(a){function b(a){return"link"===a.localName&&a.rel===j}function c(a){var b=d(a);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(b)}function d(a){return a.textContent+e(a)}function e(a){var b=a.__nodeUrl;if(!b){b=a.ownerDocument.baseURI;var c="["+Math.floor(1e3*(Math.random()+1))+"]",d=a.textContent.match(/Polymer\(['"]([^'"]*)/);c=d&&d[1]||c,b+="/"+c+".js"}return"\n//# sourceURL="+b+"\n"}function f(a){var b=a.ownerDocument.createElement("style");return b.textContent=a.textContent,n.resolveUrlsInStyle(b),b}var g=a.rootDocument,h=a.flags,i=a.isIE,j=a.IMPORT_LINK_TYPE,k={documentSelectors:"link[rel="+j+"]",importsSelectors:["link[rel="+j+"]","link[rel=stylesheet]","style","script:not([type])",'script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var a=this.nextToParse();a&&this.parse(a)},parse:function(a){if(this.isParsed(a))return void(h.parse&&console.log("[%s] is already parsed",a.localName));var b=this[this.map[a.localName]];b&&(this.markParsing(a),b.call(this,a))},parseDynamic:function(a,b){this.dynamicElements.push(a),b||this.parseNext()},markParsing:function(a){h.parse&&console.log("parsing",a),this.parsingElement=a},markParsingComplete:function(a){a.__importParsed=!0,this.markDynamicParsingComplete(a),a.__importElement&&(a.__importElement.__importParsed=!0,this.markDynamicParsingComplete(a.__importElement)),this.parsingElement=null,h.parse&&console.log("completed",a)},markDynamicParsingComplete:function(a){var b=this.dynamicElements.indexOf(a);b>=0&&this.dynamicElements.splice(b,1)},parseImport:function(a){if(HTMLImports.__importsParsingHook&&HTMLImports.__importsParsingHook(a),a.import&&(a.import.__importParsed=!0),this.markParsingComplete(a),a.dispatchEvent(a.__resource&&!a.__error?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),a.__pending)for(var b;a.__pending.length;)b=a.__pending.shift(),b&&b({target:a});this.parseNext()},parseLink:function(a){b(a)?this.parseImport(a):(a.href=a.href,this.parseGeneric(a))},parseStyle:function(a){var b=a;a=f(a),a.__importElement=b,this.parseGeneric(a)},parseGeneric:function(a){this.trackElement(a),this.addElementToDocument(a)},rootImportForElement:function(a){for(var b=a;b.ownerDocument.__importLink;)b=b.ownerDocument.__importLink;return b},addElementToDocument:function(a){for(var b=this.rootImportForElement(a.__importElement||a),c=b.__insertedElements=b.__insertedElements||0,d=b.nextElementSibling,e=0;c>e;e++)d=d&&d.nextElementSibling;b.parentNode.insertBefore(a,d)},trackElement:function(a,b){var c=this,d=function(d){b&&b(d),c.markParsingComplete(a),c.parseNext()};if(a.addEventListener("load",d),a.addEventListener("error",d),i&&"style"===a.localName){var e=!1;if(-1==a.textContent.indexOf("@import"))e=!0;else if(a.sheet){e=!0;for(var f,g=a.sheet.cssRules,h=g?g.length:0,j=0;h>j&&(f=g[j]);j++)f.type===CSSRule.IMPORT_RULE&&(e=e&&Boolean(f.styleSheet))}e&&a.dispatchEvent(new CustomEvent("load",{bubbles:!1}))}},parseScript:function(b){var d=document.createElement("script");d.__importElement=b,d.src=b.src?b.src:c(b),a.currentScript=b,this.trackElement(d,function(){d.parentNode.removeChild(d),a.currentScript=null}),this.addElementToDocument(d)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(g)||this.nextToParseDynamic())},nextToParseInDoc:function(a,c){if(a&&this._mayParse.indexOf(a)<0){this._mayParse.push(a);for(var d,e=a.querySelectorAll(this.parseSelectorsForNode(a)),f=0,g=e.length;g>f&&(d=e[f]);f++)if(!this.isParsed(d))return this.hasResource(d)?b(d)?this.nextToParseInDoc(d.import,d):d:void 0}return c},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(a){var b=a.ownerDocument||a;return b===g?this.documentSelectors:this.importsSelectors},isParsed:function(a){return a.__importParsed},needsDynamicParsing:function(a){return this.dynamicElements.indexOf(a)>=0},hasResource:function(a){return b(a)&&void 0===a.import?!1:!0}},l=/(url\()([^)]*)(\))/g,m=/(@import[\s]+(?!url\())([^;]*)(;)/g,n={resolveUrlsInStyle:function(a){var b=a.ownerDocument,c=b.createElement("a");return a.textContent=this.resolveUrlsInCssText(a.textContent,c),a},resolveUrlsInCssText:function(a,b){var c=this.replaceUrls(a,b,l);return c=this.replaceUrls(c,b,m)},replaceUrls:function(a,b,c){return a.replace(c,function(a,c,d,e){var f=d.replace(/["']/g,"");return b.href=f,f=b.href,c+"'"+f+"'"+e})}};a.parser=k,a.path=n}(HTMLImports),function(a){function b(a){return c(a,g)}function c(a,b){return"link"===a.localName&&a.getAttribute("rel")===b}function d(a,b){var c=a;c instanceof Document||(c=document.implementation.createHTMLDocument(g)),c._URL=b;var d=c.createElement("base");d.setAttribute("href",b),c.baseURI||(c.baseURI=b);var e=c.createElement("meta");return e.setAttribute("charset","utf-8"),c.head.appendChild(e),c.head.appendChild(d),a instanceof Document||(c.body.innerHTML=a),window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(c),c}var e=a.useNative,f=a.flags,g=a.IMPORT_LINK_TYPE;if(e)var h={};else{var i=a.rootDocument,j=(a.xhr,a.Loader),k=a.parser,h={documents:{},documentPreloadSelectors:"link[rel="+g+"]",importsPreloadSelectors:["link[rel="+g+"]"].join(","),loadNode:function(a){l.addNode(a)},loadSubtree:function(a){var b=this.marshalNodes(a);l.addNodes(b)},marshalNodes:function(a){return a.querySelectorAll(this.loadSelectorsForNode(a))},loadSelectorsForNode:function(a){var b=a.ownerDocument||a;return b===i?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(a,c,e,g,h){if(f.load&&console.log("loaded",a,c),c.__resource=e,c.__error=g,b(c)){var i=this.documents[a];void 0===i&&(i=g?null:d(e,h||a),i&&(i.__importLink=c,this.bootDocument(i)),this.documents[a]=i),c.import=i}k.parseNext()},bootDocument:function(a){this.loadSubtree(a),this.observe(a),k.parseNext()},loadedAll:function(){k.parseNext()}},l=new j(h.loaded.bind(h),h.loadedAll.bind(h));if(!document.baseURI){var m={get:function(){var a=document.querySelector("base");return a?a.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",m),Object.defineProperty(i,"baseURI",m)}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a,b){var c=document.createEvent("HTMLEvents");return c.initEvent(a,b.bubbles===!1?!1:!0,b.cancelable===!1?!1:!0,b.detail),c})}a.importer=h,a.IMPORT_LINK_TYPE=g,a.importLoader=l}(window.HTMLImports),function(a){function b(a){for(var b,d=0,e=a.length;e>d&&(b=a[d]);d++)"childList"===b.type&&b.addedNodes.length&&c(b.addedNodes)}function c(a){for(var b,f,i,j,k=0,l=a.length;l>k&&(i=a[k]);k++)b||(b=i.ownerDocument,f=h.isParsed(b)),j=d(i),j&&g.loadNode(i),e(i)&&f&&h.parseDynamic(i,j),i.children&&i.children.length&&c(i.children)}function d(a){return 1===a.nodeType&&i.call(a,g.loadSelectorsForNode(a))}function e(a){return 1===a.nodeType&&i.call(a,h.parseSelectorsForNode(a))}function f(a){j.observe(a,{childList:!0,subtree:!0})}var g=(a.IMPORT_LINK_TYPE,a.importer),h=a.parser,i=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector,j=new MutationObserver(b);a.observe=f,g.observe=f}(HTMLImports),function(){function a(){HTMLImports.importer.bootDocument(b)}var b=window.ShadowDOMPolyfill?window.ShadowDOMPolyfill.wrapIfNeeded(document):document;HTMLImports.useNative||("complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?a():document.addEventListener("DOMContentLoaded",a))}(),window.CustomElements=window.CustomElements||{flags:{}},function(a){function b(a,c,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)c(e,d)!==!0&&b(e,c,d),e=e.nextElementSibling;return null}function c(a,b){for(var c=a.shadowRoot;c;)d(c,b),c=c.olderShadowRoot}function d(a,d){b(a,function(a){return d(a)?!0:void c(a,d)}),c(a,d)}function e(a){return h(a)?(i(a),!0):void l(a)}function f(a){d(a,function(a){return e(a)?!0:void 0})}function g(a){return e(a)||f(a)}function h(b){if(!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var c=b.getAttribute("is")||b.localName,d=a.registry[c];if(d)return B.dom&&console.group("upgrade:",b.localName),a.upgrade(b),B.dom&&console.groupEnd(),!0}}function i(a){l(a),r(a)&&d(a,function(a){l(a)})}function j(a){if(G.push(a),!F){F=!0;var b=window.Platform&&window.Platform.endOfMicrotask||setTimeout;b(k)}}function k(){F=!1;for(var a,b=G,c=0,d=b.length;d>c&&(a=b[c]);c++)a();G=[]}function l(a){D?j(function(){m(a)}):m(a)}function m(a){(a.attachedCallback||a.detachedCallback||a.__upgraded__&&B.dom)&&(B.dom&&console.group("inserted:",a.localName),r(a)&&(a.__inserted=(a.__inserted||0)+1,a.__inserted<1&&(a.__inserted=1),a.__inserted>1?B.dom&&console.warn("inserted:",a.localName,"insert/remove count:",a.__inserted):a.attachedCallback&&(B.dom&&console.log("inserted:",a.localName),a.attachedCallback())),B.dom&&console.groupEnd())}function n(a){o(a),d(a,function(a){o(a)})}function o(a){D?j(function(){p(a)}):p(a)}function p(a){(a.attachedCallback||a.detachedCallback||a.__upgraded__&&B.dom)&&(B.dom&&console.group("removed:",a.localName),r(a)||(a.__inserted=(a.__inserted||0)-1,a.__inserted>0&&(a.__inserted=0),a.__inserted<0?B.dom&&console.warn("removed:",a.localName,"insert/remove count:",a.__inserted):a.detachedCallback&&a.detachedCallback()),B.dom&&console.groupEnd())}function q(a){return window.ShadowDOMPolyfill?ShadowDOMPolyfill.wrapIfNeeded(a):a}function r(a){for(var b=a,c=q(document);b;){if(b==c)return!0;b=b.parentNode||b.host}}function s(a){if(a.shadowRoot&&!a.shadowRoot.__watched){B.dom&&console.log("watching shadow-root for: ",a.localName);for(var b=a.shadowRoot;b;)t(b),b=b.olderShadowRoot}}function t(a){w(a)}function u(a){if(B.dom){var b=a[0];if(b&&"childList"===b.type&&b.addedNodes&&b.addedNodes){for(var c=b.addedNodes[0];c&&c!==document&&!c.host;)c=c.parentNode;var d=c&&(c.URL||c._URL||c.host&&c.host.localName)||"";d=d.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",a.length,d||"")}a.forEach(function(a){"childList"===a.type&&(H(a.addedNodes,function(a){a.localName&&g(a)}),H(a.removedNodes,function(a){a.localName&&n(a)}))}),B.dom&&console.groupEnd()}function v(a){for(a||(a=q(document));a.parentNode;)a=a.parentNode;var b=a.__observer;b&&(u(b.takeRecords()),k())}function w(a){if(!a.__observer){var b=new MutationObserver(u);b.observe(a,{childList:!0,subtree:!0}),a.__observer=b}}function x(a){w(a)}function y(a){B.dom&&console.group("upgradeDocument: ",a.baseURI.split("/").pop()),g(a),B.dom&&console.groupEnd()}function z(a){E=[],A(a),E=null}function A(a){if(a=q(a),!(E.indexOf(a)>=0)){E.push(a);for(var b,c=a.querySelectorAll("link[rel="+C+"]"),d=0,e=c.length;e>d&&(b=c[d]);d++)b.import&&b.import.__parsed&&A(b.import);y(a)}}var B=window.logFlags||{},C=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",D=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;a.hasPolyfillMutations=D;var E,F=!1,G=[],H=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.IMPORT_LINK_TYPE=C,a.watchShadow=s,a.upgradeDocumentTree=z,a.upgradeAll=g,a.upgradeSubtree=f,a.insertedNode=i,a.observeDocument=x,a.upgradeDocument=y,a.takeRecords=v}(window.CustomElements),function(a){function b(b,g){var h=g||{};if(!b)throw new Error("document.registerElement: first argument `name` must not be empty");if(b.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(b)+"'.");if(c(b))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(b)+"'. The type name is invalid.");if(n(b))throw new Error("DuplicateDefinitionError: a type with name '"+String(b)+"' is already registered");if(!h.prototype)throw new Error("Options missing required prototype property");return h.__name=b.toLowerCase(),h.lifecycle=h.lifecycle||{},h.ancestry=d(h.extends),e(h),f(h),l(h.prototype),o(h.__name,h),h.ctor=p(h),h.ctor.prototype=h.prototype,h.prototype.constructor=h.ctor,a.ready&&a.upgradeDocumentTree(document),h.ctor}function c(a){for(var b=0;b<y.length;b++)if(a===y[b])return!0}function d(a){var b=n(a);return b?d(b.extends).concat([b]):[]}function e(a){for(var b,c=a.extends,d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.__name,c&&(a.is=a.__name)}function f(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag),d=Object.getPrototypeOf(c);d===a.prototype&&(b=d)}for(var e,f=a.prototype;f&&f!==b;)e=Object.getPrototypeOf(f),f.__proto__=e,f=e;a.native=b}}function g(a){return h(B(a.tag),a)}function h(b,c){return c.is&&b.setAttribute("is",c.is),i(b,c),b.__upgraded__=!0,k(b),a.insertedNode(b),a.upgradeSubtree(b),b}function i(a,b){Object.__proto__?a.__proto__=b.prototype:(j(a,b.prototype,b.native),a.__proto__=b.prototype)}function j(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function k(a){a.createdCallback&&a.createdCallback()}function l(a){if(!a.setAttribute._polyfilled){var b=a.setAttribute;a.setAttribute=function(a,c){m.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a){m.call(this,a,null,c)},a.setAttribute._polyfilled=!0}}function m(a,b,c){a=a.toLowerCase();var d=this.getAttribute(a);c.apply(this,arguments);var e=this.getAttribute(a);this.attributeChangedCallback&&e!==d&&this.attributeChangedCallback(a,d,e)}function n(a){return a?z[a.toLowerCase()]:void 0}function o(a,b){z[a]=b}function p(a){return function(){return g(a)}}function q(a,b,c){return a===A?r(b,c):C(a,b)}function r(a,b){var c=n(b||a);if(c){if(a==c.tag&&b==c.is)return new c.ctor;if(!b&&!c.is)return new c.ctor}if(b){var d=r(a);return d.setAttribute("is",b),d}var d=B(a);return a.indexOf("-")>=0&&i(d,HTMLElement),d}function s(a){if(!a.__upgraded__&&a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("is"),c=n(b||a.localName);if(c){if(b&&c.tag==a.localName)return h(a,c);if(!b&&!c.extends)return h(a,c)}}}function t(b){var c=D.call(this,b);return a.upgradeAll(c),c}a||(a=window.CustomElements={flags:{}});var u=a.flags,v=Boolean(document.registerElement),w=!u.register&&v&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||HTMLImports.useNative);if(w){var x=function(){};a.registry={},a.upgradeElement=x,a.watchShadow=x,a.upgrade=x,a.upgradeAll=x,a.upgradeSubtree=x,a.observeDocument=x,a.upgradeDocument=x,a.upgradeDocumentTree=x,a.takeRecords=x,a.reservedTagList=[]}else{var y=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],z={},A="http://www.w3.org/1999/xhtml",B=document.createElement.bind(document),C=document.createElementNS.bind(document),D=Node.prototype.cloneNode;document.registerElement=b,document.createElement=r,document.createElementNS=q,Node.prototype.cloneNode=t,a.registry=z,a.upgrade=s}var E;E=Object.__proto__||w?function(a,b){return a instanceof b}:function(a,b){for(var c=a;c;){if(c===b.prototype)return!0;c=c.__proto__}return!1},a.instanceof=E,a.reservedTagList=y,document.register=document.registerElement,a.hasNative=v,a.useNative=w}(window.CustomElements),function(a){function b(a){return"link"===a.localName&&a.getAttribute("rel")===c}var c=a.IMPORT_LINK_TYPE,d={selectors:["link[rel="+c+"]"],map:{link:"parseLink"},parse:function(a){if(!a.__parsed){a.__parsed=!0;var b=a.querySelectorAll(d.selectors);e(b,function(a){d[d.map[a.localName]](a)}),CustomElements.upgradeDocument(a),CustomElements.observeDocument(a)}},parseLink:function(a){b(a)&&this.parseImport(a)},parseImport:function(a){a.import&&d.parse(a.import)}},e=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.parser=d,a.IMPORT_LINK_TYPE=c}(window.CustomElements),function(a){function b(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document),window.HTMLImports&&(HTMLImports.__importsParsingHook=function(a){CustomElements.parser.parse(a.import)}),CustomElements.ready=!0,setTimeout(function(){CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a,b){b=b||{};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,Boolean(b.bubbles),Boolean(b.cancelable),b.detail),c},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||a.flags.eager)b();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var c=window.HTMLImports&&!HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(c,b)}else b()}(window.CustomElements),function(){if(window.ShadowDOMPolyfill){var a=["upgradeAll","upgradeSubtree","observeDocument","upgradeDocument"],b={};a.forEach(function(a){b[a]=CustomElements[a]}),a.forEach(function(a){CustomElements[a]=function(c){return b[a](wrap(c))}})}}(),function(a){"use strict";function b(){window.Polymer===e&&(window.Polymer=function(){throw new Error('You tried to use polymer without loading it first. To load polymer, <link rel="import" href="components/polymer/polymer.html">')})}if(!window.performance){var c=Date.now();window.performance={now:function(){return Date.now()-c
}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var a=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return a?function(b){return a(function(){b(performance.now())})}:function(a){return window.setTimeout(a,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(a){clearTimeout(a)}}());var d=[],e=function(a){"string"!=typeof a&&1===arguments.length&&Array.prototype.push.call(arguments,document._currentScript),d.push(arguments)};window.Polymer=e,a.consumeDeclarations=function(b){a.consumeDeclarations=function(){throw"Possible attempt to load Polymer twice"},b&&b(d),d=null},HTMLImports.useNative?b():addEventListener("DOMContentLoaded",b)}(window.Platform),function(){var a=document.createElement("style");a.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var b=document.querySelector("head");b.insertBefore(a,b.firstChild)}(Platform),function(a){function b(a,b){return b=b||[],b.map||(b=[b]),a.apply(this,b.map(d))}function c(a,c,d){var e;switch(arguments.length){case 0:return;case 1:e=null;break;case 2:e=c.apply(this);break;default:e=b(d,c)}f[a]=e}function d(a){return f[a]}function e(a,c){HTMLImports.whenImportsReady(function(){b(c,a)})}var f={};a.marshal=d,a.modularize=c,a.using=e}(window);
//# sourceMappingURL=webcomponents.js.map

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],4:[function(require,module,exports){
'use strict';

require("./../../bower_components/es6-promise/promise.js");
require("./../../bower_components/fetch/fetch.js");
require("./../../bower_components/webcomponents.js/webcomponents.js");

},{"./../../bower_components/es6-promise/promise.js":1,"./../../bower_components/fetch/fetch.js":2,"./../../bower_components/webcomponents.js/webcomponents.js":3}],5:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};

process.nextTick = (function () {
    var canSetImmediate = typeof window !== 'undefined'
    && window.setImmediate;
    var canPost = typeof window !== 'undefined'
    && window.postMessage && window.addEventListener
    ;

    if (canSetImmediate) {
        return function (f) { return window.setImmediate(f) };
    }

    if (canPost) {
        var queue = [];
        window.addEventListener('message', function (ev) {
            var source = ev.source;
            if ((source === window || source === null) && ev.data === 'process-tick') {
                ev.stopPropagation();
                if (queue.length > 0) {
                    var fn = queue.shift();
                    fn();
                }
            }
        }, true);

        return function nextTick(fn) {
            queue.push(fn);
            window.postMessage('process-tick', '*');
        };
    }

    return function nextTick(fn) {
        setTimeout(fn, 0);
    };
})();

process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
}

// TODO(shtylman)
process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};

},{}]},{},[4])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hMTMwNDIvRHJvcGJveC9QbGF5Z3JvdW5kL0NsYXlsdW1wL25vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvYTEzMDQyL0Ryb3Bib3gvUGxheWdyb3VuZC9DbGF5bHVtcC9ib3dlcl9jb21wb25lbnRzL2VzNi1wcm9taXNlL3Byb21pc2UuanMiLCIvVXNlcnMvYTEzMDQyL0Ryb3Bib3gvUGxheWdyb3VuZC9DbGF5bHVtcC9ib3dlcl9jb21wb25lbnRzL2ZldGNoL2ZldGNoLmpzIiwiL1VzZXJzL2ExMzA0Mi9Ecm9wYm94L1BsYXlncm91bmQvQ2xheWx1bXAvYm93ZXJfY29tcG9uZW50cy93ZWJjb21wb25lbnRzLmpzL3dlYmNvbXBvbmVudHMuanMiLCIvVXNlcnMvYTEzMDQyL0Ryb3Bib3gvUGxheWdyb3VuZC9DbGF5bHVtcC9kaXN0L3RlbXAvX3BvbHlmaWxsLmpzIiwiL1VzZXJzL2ExMzA0Mi9Ecm9wYm94L1BsYXlncm91bmQvQ2xheWx1bXAvbm9kZV9tb2R1bGVzL2dydW50LWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN3FCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIoZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsKXtcbihmdW5jdGlvbigpIHtcbnZhciBkZWZpbmUsIHJlcXVpcmVNb2R1bGUsIHJlcXVpcmUsIHJlcXVpcmVqcztcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgcmVnaXN0cnkgPSB7fSwgc2VlbiA9IHt9O1xuXG4gIGRlZmluZSA9IGZ1bmN0aW9uKG5hbWUsIGRlcHMsIGNhbGxiYWNrKSB7XG4gICAgcmVnaXN0cnlbbmFtZV0gPSB7IGRlcHM6IGRlcHMsIGNhbGxiYWNrOiBjYWxsYmFjayB9O1xuICB9O1xuXG4gIHJlcXVpcmVqcyA9IHJlcXVpcmUgPSByZXF1aXJlTW9kdWxlID0gZnVuY3Rpb24obmFtZSkge1xuICByZXF1aXJlanMuX2Vha19zZWVuID0gcmVnaXN0cnk7XG5cbiAgICBpZiAoc2VlbltuYW1lXSkgeyByZXR1cm4gc2VlbltuYW1lXTsgfVxuICAgIHNlZW5bbmFtZV0gPSB7fTtcblxuICAgIGlmICghcmVnaXN0cnlbbmFtZV0pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIG1vZHVsZSBcIiArIG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBtb2QgPSByZWdpc3RyeVtuYW1lXSxcbiAgICAgICAgZGVwcyA9IG1vZC5kZXBzLFxuICAgICAgICBjYWxsYmFjayA9IG1vZC5jYWxsYmFjayxcbiAgICAgICAgcmVpZmllZCA9IFtdLFxuICAgICAgICBleHBvcnRzO1xuXG4gICAgZm9yICh2YXIgaT0wLCBsPWRlcHMubGVuZ3RoOyBpPGw7IGkrKykge1xuICAgICAgaWYgKGRlcHNbaV0gPT09ICdleHBvcnRzJykge1xuICAgICAgICByZWlmaWVkLnB1c2goZXhwb3J0cyA9IHt9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlaWZpZWQucHVzaChyZXF1aXJlTW9kdWxlKHJlc29sdmUoZGVwc1tpXSkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBjYWxsYmFjay5hcHBseSh0aGlzLCByZWlmaWVkKTtcbiAgICByZXR1cm4gc2VlbltuYW1lXSA9IGV4cG9ydHMgfHwgdmFsdWU7XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlKGNoaWxkKSB7XG4gICAgICBpZiAoY2hpbGQuY2hhckF0KDApICE9PSAnLicpIHsgcmV0dXJuIGNoaWxkOyB9XG4gICAgICB2YXIgcGFydHMgPSBjaGlsZC5zcGxpdChcIi9cIik7XG4gICAgICB2YXIgcGFyZW50QmFzZSA9IG5hbWUuc3BsaXQoXCIvXCIpLnNsaWNlKDAsIC0xKTtcblxuICAgICAgZm9yICh2YXIgaT0wLCBsPXBhcnRzLmxlbmd0aDsgaTxsOyBpKyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICBpZiAocGFydCA9PT0gJy4uJykgeyBwYXJlbnRCYXNlLnBvcCgpOyB9XG4gICAgICAgIGVsc2UgaWYgKHBhcnQgPT09ICcuJykgeyBjb250aW51ZTsgfVxuICAgICAgICBlbHNlIHsgcGFyZW50QmFzZS5wdXNoKHBhcnQpOyB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnRCYXNlLmpvaW4oXCIvXCIpO1xuICAgIH1cbiAgfTtcbn0pKCk7XG5cbmRlZmluZShcInByb21pc2UvYWxsXCIsIFxuICBbXCIuL3V0aWxzXCIsXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2RlcGVuZGVuY3kxX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyogZ2xvYmFsIHRvU3RyaW5nICovXG5cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5MV9fLmlzRnVuY3Rpb247XG5cbiAgICAvKipcbiAgICAgIFJldHVybnMgYSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gYWxsIHRoZSBnaXZlbiBwcm9taXNlcyBoYXZlIGJlZW5cbiAgICAgIGZ1bGZpbGxlZCwgb3IgcmVqZWN0ZWQgaWYgYW55IG9mIHRoZW0gYmVjb21lIHJlamVjdGVkLiBUaGUgcmV0dXJuIHByb21pc2VcbiAgICAgIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IHRoYXQgZ2l2ZXMgYWxsIHRoZSB2YWx1ZXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZVxuICAgICAgcGFzc2VkIGluIHRoZSBgcHJvbWlzZXNgIGFycmF5IGFyZ3VtZW50LlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlc29sdmUoMik7XG4gICAgICB2YXIgcHJvbWlzZTMgPSBSU1ZQLnJlc29sdmUoMyk7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbIHByb21pc2UxLCBwcm9taXNlMiwgcHJvbWlzZTMgXTtcblxuICAgICAgUlNWUC5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgICAgICAvLyBUaGUgYXJyYXkgaGVyZSB3b3VsZCBiZSBbIDEsIDIsIDMgXTtcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIElmIGFueSBvZiB0aGUgYHByb21pc2VzYCBnaXZlbiB0byBgUlNWUC5hbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgICAgIHRoYXQgaXMgcmVqZWN0ZWQgd2lsbCBiZSBnaXZlbiBhcyBhbiBhcmd1bWVudCB0byB0aGUgcmV0dXJuZWQgcHJvbWlzZXMnc1xuICAgICAgcmVqZWN0aW9uIGhhbmRsZXIuIEZvciBleGFtcGxlOlxuXG4gICAgICBFeGFtcGxlOlxuXG4gICAgICBgYGBqYXZhc2NyaXB0XG4gICAgICB2YXIgcHJvbWlzZTEgPSBSU1ZQLnJlc29sdmUoMSk7XG4gICAgICB2YXIgcHJvbWlzZTIgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoXCIyXCIpKTtcbiAgICAgIHZhciBwcm9taXNlMyA9IFJTVlAucmVqZWN0KG5ldyBFcnJvcihcIjNcIikpO1xuICAgICAgdmFyIHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgICAgIFJTVlAuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnMgYmVjYXVzZSB0aGVyZSBhcmUgcmVqZWN0ZWQgcHJvbWlzZXMhXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICAgICAgfSk7XG4gICAgICBgYGBcblxuICAgICAgQG1ldGhvZCBhbGxcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXNcbiAgICAgIEBwYXJhbSB7U3RyaW5nfSBsYWJlbFxuICAgICAgQHJldHVybiB7UHJvbWlzZX0gcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIGFsbCBgcHJvbWlzZXNgIGhhdmUgYmVlblxuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gICAgKi9cbiAgICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIGlmICghaXNBcnJheShwcm9taXNlcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IG11c3QgcGFzcyBhbiBhcnJheSB0byBhbGwuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXSwgcmVtYWluaW5nID0gcHJvbWlzZXMubGVuZ3RoLFxuICAgICAgICBwcm9taXNlO1xuXG4gICAgICAgIGlmIChyZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVyKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGluZGV4LCB2YWx1ZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVBbGwoaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0c1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICBpZiAoLS1yZW1haW5pbmcgPT09IDApIHtcbiAgICAgICAgICAgIHJlc29sdmUocmVzdWx0cyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIGlzRnVuY3Rpb24ocHJvbWlzZS50aGVuKSkge1xuICAgICAgICAgICAgcHJvbWlzZS50aGVuKHJlc29sdmVyKGkpLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlQWxsKGksIHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18uYWxsID0gYWxsO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvYXNhcFwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgYnJvd3Nlckdsb2JhbCA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgPyB3aW5kb3cgOiB7fTtcbiAgICB2YXIgQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIgPSBicm93c2VyR2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgYnJvd3Nlckdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIHZhciBsb2NhbCA9ICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgPyBnbG9iYWwgOiAodGhpcyA9PT0gdW5kZWZpbmVkPyB3aW5kb3c6dGhpcyk7XG5cbiAgICAvLyBub2RlXG4gICAgZnVuY3Rpb24gdXNlTmV4dFRpY2soKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKGZsdXNoKTtcbiAgICAgIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShub2RlLCB7IGNoYXJhY3RlckRhdGE6IHRydWUgfSk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbm9kZS5kYXRhID0gKGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgbG9jYWwuc2V0VGltZW91dChmbHVzaCwgMSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgdHVwbGUgPSBxdWV1ZVtpXTtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gdHVwbGVbMF0sIGFyZyA9IHR1cGxlWzFdO1xuICAgICAgICBjYWxsYmFjayhhcmcpO1xuICAgICAgfVxuICAgICAgcXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgc2NoZWR1bGVGbHVzaDtcblxuICAgIC8vIERlY2lkZSB3aGF0IGFzeW5jIG1ldGhvZCB0byB1c2UgdG8gdHJpZ2dlcmluZyBwcm9jZXNzaW5nIG9mIHF1ZXVlZCBjYWxsYmFja3M6XG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VOZXh0VGljaygpO1xuICAgIH0gZWxzZSBpZiAoQnJvd3Nlck11dGF0aW9uT2JzZXJ2ZXIpIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2ggPSB1c2VTZXRUaW1lb3V0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXNhcChjYWxsYmFjaywgYXJnKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcXVldWUucHVzaChbY2FsbGJhY2ssIGFyZ10pO1xuICAgICAgaWYgKGxlbmd0aCA9PT0gMSkge1xuICAgICAgICAvLyBJZiBsZW5ndGggaXMgMSwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgICAgIC8vIElmIGFkZGl0aW9uYWwgY2FsbGJhY2tzIGFyZSBxdWV1ZWQgYmVmb3JlIHRoZSBxdWV1ZSBpcyBmbHVzaGVkLCB0aGV5XG4gICAgICAgIC8vIHdpbGwgYmUgcHJvY2Vzc2VkIGJ5IHRoaXMgZmx1c2ggdGhhdCB3ZSBhcmUgc2NoZWR1bGluZy5cbiAgICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIF9fZXhwb3J0c19fLmFzYXAgPSBhc2FwO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvY29uZmlnXCIsIFxuICBbXCJleHBvcnRzXCJdLFxuICBmdW5jdGlvbihfX2V4cG9ydHNfXykge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBjb25maWcgPSB7XG4gICAgICBpbnN0cnVtZW50OiBmYWxzZVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBjb25maWd1cmUobmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIGNvbmZpZ1tuYW1lXSA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZ1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5jb25maWcgPSBjb25maWc7XG4gICAgX19leHBvcnRzX18uY29uZmlndXJlID0gY29uZmlndXJlO1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcG9seWZpbGxcIiwgXG4gIFtcIi4vcHJvbWlzZVwiLFwiLi91dGlsc1wiLFwiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19kZXBlbmRlbmN5MV9fLCBfX2RlcGVuZGVuY3kyX18sIF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLypnbG9iYWwgc2VsZiovXG4gICAgdmFyIFJTVlBQcm9taXNlID0gX19kZXBlbmRlbmN5MV9fLlByb21pc2U7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSBfX2RlcGVuZGVuY3kyX18uaXNGdW5jdGlvbjtcblxuICAgIGZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICAgICAgdmFyIGxvY2FsO1xuXG4gICAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWwgPSBnbG9iYWw7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCkge1xuICAgICAgICBsb2NhbCA9IHdpbmRvdztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsID0gc2VsZjtcbiAgICAgIH1cblxuICAgICAgdmFyIGVzNlByb21pc2VTdXBwb3J0ID0gXG4gICAgICAgIFwiUHJvbWlzZVwiIGluIGxvY2FsICYmXG4gICAgICAgIC8vIFNvbWUgb2YgdGhlc2UgbWV0aG9kcyBhcmUgbWlzc2luZyBmcm9tXG4gICAgICAgIC8vIEZpcmVmb3gvQ2hyb21lIGV4cGVyaW1lbnRhbCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgXCJyZXNvbHZlXCIgaW4gbG9jYWwuUHJvbWlzZSAmJlxuICAgICAgICBcInJlamVjdFwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgXCJhbGxcIiBpbiBsb2NhbC5Qcm9taXNlICYmXG4gICAgICAgIFwicmFjZVwiIGluIGxvY2FsLlByb21pc2UgJiZcbiAgICAgICAgLy8gT2xkZXIgdmVyc2lvbiBvZiB0aGUgc3BlYyBoYWQgYSByZXNvbHZlciBvYmplY3RcbiAgICAgICAgLy8gYXMgdGhlIGFyZyByYXRoZXIgdGhhbiBhIGZ1bmN0aW9uXG4gICAgICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVzb2x2ZTtcbiAgICAgICAgICBuZXcgbG9jYWwuUHJvbWlzZShmdW5jdGlvbihyKSB7IHJlc29sdmUgPSByOyB9KTtcbiAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihyZXNvbHZlKTtcbiAgICAgICAgfSgpKTtcblxuICAgICAgaWYgKCFlczZQcm9taXNlU3VwcG9ydCkge1xuICAgICAgICBsb2NhbC5Qcm9taXNlID0gUlNWUFByb21pc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucG9seWZpbGwgPSBwb2x5ZmlsbDtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3Byb21pc2VcIiwgXG4gIFtcIi4vY29uZmlnXCIsXCIuL3V0aWxzXCIsXCIuL2FsbFwiLFwiLi9yYWNlXCIsXCIuL3Jlc29sdmVcIixcIi4vcmVqZWN0XCIsXCIuL2FzYXBcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19kZXBlbmRlbmN5Ml9fLCBfX2RlcGVuZGVuY3kzX18sIF9fZGVwZW5kZW5jeTRfXywgX19kZXBlbmRlbmN5NV9fLCBfX2RlcGVuZGVuY3k2X18sIF9fZGVwZW5kZW5jeTdfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgY29uZmlnID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZztcbiAgICB2YXIgY29uZmlndXJlID0gX19kZXBlbmRlbmN5MV9fLmNvbmZpZ3VyZTtcbiAgICB2YXIgb2JqZWN0T3JGdW5jdGlvbiA9IF9fZGVwZW5kZW5jeTJfXy5vYmplY3RPckZ1bmN0aW9uO1xuICAgIHZhciBpc0Z1bmN0aW9uID0gX19kZXBlbmRlbmN5Ml9fLmlzRnVuY3Rpb247XG4gICAgdmFyIG5vdyA9IF9fZGVwZW5kZW5jeTJfXy5ub3c7XG4gICAgdmFyIGFsbCA9IF9fZGVwZW5kZW5jeTNfXy5hbGw7XG4gICAgdmFyIHJhY2UgPSBfX2RlcGVuZGVuY3k0X18ucmFjZTtcbiAgICB2YXIgc3RhdGljUmVzb2x2ZSA9IF9fZGVwZW5kZW5jeTVfXy5yZXNvbHZlO1xuICAgIHZhciBzdGF0aWNSZWplY3QgPSBfX2RlcGVuZGVuY3k2X18ucmVqZWN0O1xuICAgIHZhciBhc2FwID0gX19kZXBlbmRlbmN5N19fLmFzYXA7XG5cbiAgICB2YXIgY291bnRlciA9IDA7XG5cbiAgICBjb25maWcuYXN5bmMgPSBhc2FwOyAvLyBkZWZhdWx0IGFzeW5jIGlzIGFzYXA7XG5cbiAgICBmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKSB7XG4gICAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBtdXN0IHBhc3MgYSByZXNvbHZlciBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gdGhlIHByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdQcm9taXNlJzogUGxlYXNlIHVzZSB0aGUgJ25ldycgb3BlcmF0b3IsIHRoaXMgb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG5cbiAgICAgIGludm9rZVJlc29sdmVyKHJlc29sdmVyLCB0aGlzKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VSZXNvbHZlcihyZXNvbHZlciwgcHJvbWlzZSkge1xuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXNvbHZlcihyZXNvbHZlUHJvbWlzZSwgcmVqZWN0UHJvbWlzZSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgcmVqZWN0UHJvbWlzZShlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBwcm9taXNlLCBjYWxsYmFjaywgZGV0YWlsKSB7XG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBpc0Z1bmN0aW9uKGNhbGxiYWNrKSxcbiAgICAgICAgICB2YWx1ZSwgZXJyb3IsIHN1Y2NlZWRlZCwgZmFpbGVkO1xuXG4gICAgICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YWx1ZSA9IGNhbGxiYWNrKGRldGFpbCk7XG4gICAgICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgZmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICBlcnJvciA9IGU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZGV0YWlsO1xuICAgICAgICBzdWNjZWVkZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChmYWlsZWQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIGVycm9yKTtcbiAgICAgIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChzZXR0bGVkID09PSBSRUpFQ1RFRCkge1xuICAgICAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBQRU5ESU5HICAgPSB2b2lkIDA7XG4gICAgdmFyIFNFQUxFRCAgICA9IDA7XG4gICAgdmFyIEZVTEZJTExFRCA9IDE7XG4gICAgdmFyIFJFSkVDVEVEICA9IDI7XG5cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgICAgIHZhciBzdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gICAgICB2YXIgbGVuZ3RoID0gc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGhdID0gY2hpbGQ7XG4gICAgICBzdWJzY3JpYmVyc1tsZW5ndGggKyBGVUxGSUxMRURdID0gb25GdWxmaWxsbWVudDtcbiAgICAgIHN1YnNjcmliZXJzW2xlbmd0aCArIFJFSkVDVEVEXSAgPSBvblJlamVjdGlvbjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKHByb21pc2UsIHNldHRsZWQpIHtcbiAgICAgIHZhciBjaGlsZCwgY2FsbGJhY2ssIHN1YnNjcmliZXJzID0gcHJvbWlzZS5fc3Vic2NyaWJlcnMsIGRldGFpbCA9IHByb21pc2UuX2RldGFpbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICBjaGlsZCA9IHN1YnNjcmliZXJzW2ldO1xuICAgICAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgICAgICBpbnZva2VDYWxsYmFjayhzZXR0bGVkLCBjaGlsZCwgY2FsbGJhY2ssIGRldGFpbCk7XG4gICAgICB9XG5cbiAgICAgIHByb21pc2UuX3N1YnNjcmliZXJzID0gbnVsbDtcbiAgICB9XG5cbiAgICBQcm9taXNlLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBQcm9taXNlLFxuXG4gICAgICBfc3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgIF9kZXRhaWw6IHVuZGVmaW5lZCxcbiAgICAgIF9zdWJzY3JpYmVyczogdW5kZWZpbmVkLFxuXG4gICAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHRoZW5Qcm9taXNlID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZnVuY3Rpb24oKSB7fSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IGFyZ3VtZW50cztcbiAgICAgICAgICBjb25maWcuYXN5bmMoZnVuY3Rpb24gaW52b2tlUHJvbWlzZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2socHJvbWlzZS5fc3RhdGUsIHRoZW5Qcm9taXNlLCBjYWxsYmFja3NbcHJvbWlzZS5fc3RhdGUgLSAxXSwgcHJvbWlzZS5fZGV0YWlsKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdWJzY3JpYmUodGhpcywgdGhlblByb21pc2UsIG9uRnVsZmlsbG1lbnQsIG9uUmVqZWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGVuUHJvbWlzZTtcbiAgICAgIH0sXG5cbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgb25SZWplY3Rpb24pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBQcm9taXNlLmFsbCA9IGFsbDtcbiAgICBQcm9taXNlLnJhY2UgPSByYWNlO1xuICAgIFByb21pc2UucmVzb2x2ZSA9IHN0YXRpY1Jlc29sdmU7XG4gICAgUHJvbWlzZS5yZWplY3QgPSBzdGF0aWNSZWplY3Q7XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVUaGVuYWJsZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgdmFyIHRoZW4gPSBudWxsLFxuICAgICAgcmVzb2x2ZWQ7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBIHByb21pc2VzIGNhbGxiYWNrIGNhbm5vdCByZXR1cm4gdGhhdCBzYW1lIHByb21pc2UuXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9iamVjdE9yRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdGhlbiA9IHZhbHVlLnRoZW47XG5cbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xuICAgICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgICAgICAgIHJlc29sdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHZhbCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICBpZiAocmVzb2x2ZWQpIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgICAgICAgcmVzb2x2ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIHJlamVjdChwcm9taXNlLCB2YWwpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKHJlc29sdmVkKSB7IHJldHVybiB0cnVlOyB9XG4gICAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSkge1xuICAgICAgaWYgKHByb21pc2UgPT09IHZhbHVlKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICghaGFuZGxlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUpKSB7XG4gICAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gdmFsdWU7XG5cbiAgICAgIGNvbmZpZy5hc3luYyhwdWJsaXNoRnVsZmlsbG1lbnQsIHByb21pc2UpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgICAgIGlmIChwcm9taXNlLl9zdGF0ZSAhPT0gUEVORElORykgeyByZXR1cm47IH1cbiAgICAgIHByb21pc2UuX3N0YXRlID0gU0VBTEVEO1xuICAgICAgcHJvbWlzZS5fZGV0YWlsID0gcmVhc29uO1xuXG4gICAgICBjb25maWcuYXN5bmMocHVibGlzaFJlamVjdGlvbiwgcHJvbWlzZSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaEZ1bGZpbGxtZW50KHByb21pc2UpIHtcbiAgICAgIHB1Ymxpc2gocHJvbWlzZSwgcHJvbWlzZS5fc3RhdGUgPSBGVUxGSUxMRUQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICAgICAgcHVibGlzaChwcm9taXNlLCBwcm9taXNlLl9zdGF0ZSA9IFJFSkVDVEVEKTtcbiAgICB9XG5cbiAgICBfX2V4cG9ydHNfXy5Qcm9taXNlID0gUHJvbWlzZTtcbiAgfSk7XG5kZWZpbmUoXCJwcm9taXNlL3JhY2VcIiwgXG4gIFtcIi4vdXRpbHNcIixcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZGVwZW5kZW5jeTFfXywgX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICAvKiBnbG9iYWwgdG9TdHJpbmcgKi9cbiAgICB2YXIgaXNBcnJheSA9IF9fZGVwZW5kZW5jeTFfXy5pc0FycmF5O1xuXG4gICAgLyoqXG4gICAgICBgUlNWUC5yYWNlYCBhbGxvd3MgeW91IHRvIHdhdGNoIGEgc2VyaWVzIG9mIHByb21pc2VzIGFuZCBhY3QgYXMgc29vbiBhcyB0aGVcbiAgICAgIGZpcnN0IHByb21pc2UgZ2l2ZW4gdG8gdGhlIGBwcm9taXNlc2AgYXJndW1lbnQgZnVsZmlsbHMgb3IgcmVqZWN0cy5cblxuICAgICAgRXhhbXBsZTpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UxID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVzb2x2ZShcInByb21pc2UgMVwiKTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgcHJvbWlzZTIgPSBuZXcgUlNWUC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICByZXNvbHZlKFwicHJvbWlzZSAyXCIpO1xuICAgICAgICB9LCAxMDApO1xuICAgICAgfSk7XG5cbiAgICAgIFJTVlAucmFjZShbcHJvbWlzZTEsIHByb21pc2UyXSkudGhlbihmdW5jdGlvbihyZXN1bHQpe1xuICAgICAgICAvLyByZXN1bHQgPT09IFwicHJvbWlzZSAyXCIgYmVjYXVzZSBpdCB3YXMgcmVzb2x2ZWQgYmVmb3JlIHByb21pc2UxXG4gICAgICAgIC8vIHdhcyByZXNvbHZlZC5cbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIGBSU1ZQLnJhY2VgIGlzIGRldGVybWluaXN0aWMgaW4gdGhhdCBvbmx5IHRoZSBzdGF0ZSBvZiB0aGUgZmlyc3QgY29tcGxldGVkXG4gICAgICBwcm9taXNlIG1hdHRlcnMuIEZvciBleGFtcGxlLCBldmVuIGlmIG90aGVyIHByb21pc2VzIGdpdmVuIHRvIHRoZSBgcHJvbWlzZXNgXG4gICAgICBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2UgaGFzIGJlY29tZVxuICAgICAgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWQgcHJvbWlzZVxuICAgICAgd2lsbCBiZWNvbWUgcmVqZWN0ZWQ6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlMSA9IG5ldyBSU1ZQLlByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgIHJlc29sdmUoXCJwcm9taXNlIDFcIik7XG4gICAgICAgIH0sIDIwMCk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIHByb21pc2UyID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihcInByb21pc2UgMlwiKSk7XG4gICAgICAgIH0sIDEwMCk7XG4gICAgICB9KTtcblxuICAgICAgUlNWUC5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgICAgIC8vIENvZGUgaGVyZSBuZXZlciBydW5zIGJlY2F1c2UgdGhlcmUgYXJlIHJlamVjdGVkIHByb21pc2VzIVxuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAgICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09IFwicHJvbWlzZTJcIiBiZWNhdXNlIHByb21pc2UgMiBiZWNhbWUgcmVqZWN0ZWQgYmVmb3JlXG4gICAgICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gICAgICB9KTtcbiAgICAgIGBgYFxuXG4gICAgICBAbWV0aG9kIHJhY2VcbiAgICAgIEBmb3IgUlNWUFxuICAgICAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICAgICAgQHBhcmFtIHtTdHJpbmd9IGxhYmVsIG9wdGlvbmFsIHN0cmluZyBmb3IgZGVzY3JpYmluZyB0aGUgcHJvbWlzZSByZXR1cm5lZC5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IGJlY29tZXMgZnVsZmlsbGVkIHdpdGggdGhlIHZhbHVlIHRoZSBmaXJzdFxuICAgICAgY29tcGxldGVkIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggaWYgdGhlIGZpcnN0IGNvbXBsZXRlZCBwcm9taXNlIHdhc1xuICAgICAgZnVsZmlsbGVkLCBvciByZWplY3RlZCB3aXRoIHRoZSByZWFzb24gdGhhdCB0aGUgZmlyc3QgY29tcGxldGVkIHByb21pc2VcbiAgICAgIHdhcyByZWplY3RlZCB3aXRoLlxuICAgICovXG4gICAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xuICAgICAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgICAgIHZhciBQcm9taXNlID0gdGhpcztcblxuICAgICAgaWYgKCFpc0FycmF5KHByb21pc2VzKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gW10sIHByb21pc2U7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHByb21pc2UgPSBwcm9taXNlc1tpXTtcblxuICAgICAgICAgIGlmIChwcm9taXNlICYmIHR5cGVvZiBwcm9taXNlLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKHByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmFjZSA9IHJhY2U7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS9yZWplY3RcIiwgXG4gIFtcImV4cG9ydHNcIl0sXG4gIGZ1bmN0aW9uKF9fZXhwb3J0c19fKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyoqXG4gICAgICBgUlNWUC5yZWplY3RgIHJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgcmVqZWN0ZWQgd2l0aCB0aGUgcGFzc2VkXG4gICAgICBgcmVhc29uYC4gYFJTVlAucmVqZWN0YCBpcyBlc3NlbnRpYWxseSBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgICAgIGBgYGphdmFzY3JpcHRcbiAgICAgIHZhciBwcm9taXNlID0gbmV3IFJTVlAuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgICAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gICAgICB9KTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEluc3RlYWQgb2Ygd3JpdGluZyB0aGUgYWJvdmUsIHlvdXIgY29kZSBub3cgc2ltcGx5IGJlY29tZXMgdGhlIGZvbGxvd2luZzpcblxuICAgICAgYGBgamF2YXNjcmlwdFxuICAgICAgdmFyIHByb21pc2UgPSBSU1ZQLnJlamVjdChuZXcgRXJyb3IoJ1dIT09QUycpKTtcblxuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gICAgICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgICAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ1dIT09QUydcbiAgICAgIH0pO1xuICAgICAgYGBgXG5cbiAgICAgIEBtZXRob2QgcmVqZWN0XG4gICAgICBAZm9yIFJTVlBcbiAgICAgIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gICAgICBAcGFyYW0ge1N0cmluZ30gbGFiZWwgb3B0aW9uYWwgc3RyaW5nIGZvciBpZGVudGlmeWluZyB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICAgIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgICAgIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuXG4gICAgICBgcmVhc29uYC5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlamVjdChyZWFzb24pIHtcbiAgICAgIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVqZWN0ID0gcmVqZWN0O1xuICB9KTtcbmRlZmluZShcInByb21pc2UvcmVzb2x2ZVwiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gICAgICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuY29uc3RydWN0b3IgPT09IHRoaXMpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgUHJvbWlzZSA9IHRoaXM7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgX19leHBvcnRzX18ucmVzb2x2ZSA9IHJlc29sdmU7XG4gIH0pO1xuZGVmaW5lKFwicHJvbWlzZS91dGlsc1wiLCBcbiAgW1wiZXhwb3J0c1wiXSxcbiAgZnVuY3Rpb24oX19leHBvcnRzX18pIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBmdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiBpc0Z1bmN0aW9uKHgpIHx8ICh0eXBlb2YgeCA9PT0gXCJvYmplY3RcIiAmJiB4ICE9PSBudWxsKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGlzQXJyYXkoeCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH1cblxuICAgIC8vIERhdGUubm93IGlzIG5vdCBhdmFpbGFibGUgaW4gYnJvd3NlcnMgPCBJRTlcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9EYXRlL25vdyNDb21wYXRpYmlsaXR5XG4gICAgdmFyIG5vdyA9IERhdGUubm93IHx8IGZ1bmN0aW9uKCkgeyByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7IH07XG5cblxuICAgIF9fZXhwb3J0c19fLm9iamVjdE9yRnVuY3Rpb24gPSBvYmplY3RPckZ1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuICAgIF9fZXhwb3J0c19fLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIF9fZXhwb3J0c19fLm5vdyA9IG5vdztcbiAgfSk7XG5yZXF1aXJlTW9kdWxlKCdwcm9taXNlL3BvbHlmaWxsJykucG9seWZpbGwoKTtcbn0oKSk7XG59KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KSIsIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGlmICh3aW5kb3cuZmV0Y2gpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGZ1bmN0aW9uIEhlYWRlcnMoaGVhZGVycykge1xuICAgIHRoaXMubWFwID0ge31cblxuICAgIHZhciBzZWxmID0gdGhpc1xuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNlbGYuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHNlbGYuYXBwZW5kKG5hbWUsIGhlYWRlcnNbbmFtZV0pXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIGxpc3QgPSB0aGlzLm1hcFtuYW1lXVxuICAgIGlmICghbGlzdCkge1xuICAgICAgbGlzdCA9IFtdXG4gICAgICB0aGlzLm1hcFtuYW1lXSA9IGxpc3RcbiAgICB9XG4gICAgbGlzdC5wdXNoKHZhbHVlKVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtuYW1lXVxuICB9XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciB2YWx1ZXMgPSB0aGlzLm1hcFtuYW1lXVxuICAgIHJldHVybiB2YWx1ZXMgPyB2YWx1ZXNbMF0gOiBudWxsXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXRBbGwgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwW25hbWVdIHx8IFtdXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpXG4gIH1cblxuICBIZWFkZXJzLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMubWFwW25hbWVdID0gW3ZhbHVlXVxuICB9XG5cbiAgLy8gSW5zdGVhZCBvZiBpdGVyYWJsZSBmb3Igbm93LlxuICBIZWFkZXJzLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0aGlzLm1hcCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICBjYWxsYmFjayhuYW1lLCBzZWxmLm1hcFtuYW1lXSlcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQm9keSBhbHJlYWR5IGNvbnN1bWVkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlXG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keSA9IG51bGxcbiAgICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkIHlldCcpXG4gICAgfVxuXG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuYm9keV0pKVxuICAgIH1cblxuICAgIHRoaXMuZm9ybURhdGEgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVjb2RlKHRoaXMuYm9keSkpXG4gICAgfVxuXG4gICAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICB2YXIgYm9keSA9IHRoaXMuYm9keVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZShib2R5KSlcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICByZWplY3QoZXgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgcmV0dXJuIHJlamVjdGVkID8gcmVqZWN0ZWQgOiBQcm9taXNlLnJlc29sdmUodGhpcy5ib2R5KVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KHVybCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gICAgdGhpcy51cmwgPSB1cmxcbiAgICB0aGlzLmJvZHkgPSBvcHRpb25zLmJvZHlcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCBudWxsXG4gICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICAgIHRoaXMubWV0aG9kID0gb3B0aW9ucy5tZXRob2QgfHwgJ0dFVCdcbiAgICB0aGlzLm1vZGUgPSBvcHRpb25zLm1vZGUgfHwgbnVsbFxuICAgIHRoaXMucmVmZXJyZXIgPSBudWxsXG4gIH1cblxuICBmdW5jdGlvbiBlbmNvZGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHBhcmFtcykuZmlsdGVyKGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHJldHVybiBwYXJhbXNbbmFtZV0gIT09IHVuZGVmaW5lZFxuICAgIH0pLm1hcChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB2YXIgdmFsdWUgPSAocGFyYW1zW25hbWVdID09PSBudWxsKSA/ICcnIDogcGFyYW1zW25hbWVdXG4gICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKVxuICAgIH0pLmpvaW4oJyYnKS5yZXBsYWNlKC8lMjAvZywgJysnKVxuICB9XG5cbiAgZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gICAgYm9keS50cmltKCkuc3BsaXQoJyYnKS5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICBpZiAoYnl0ZXMpIHtcbiAgICAgICAgdmFyIHNwbGl0ID0gYnl0ZXMuc3BsaXQoJz0nKVxuICAgICAgICB2YXIgbmFtZSA9IHNwbGl0LnNoaWZ0KCkucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignPScpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIGZvcm0uYXBwZW5kKGRlY29kZVVSSUNvbXBvbmVudChuYW1lKSwgZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiBmb3JtXG4gIH1cblxuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gT2JqZWN0LnByb3RvdHlwZVxuICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAvLyBQcm9iYWJseSBhIHN0cmluZyBsaXRlcmFsLlxuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGVhZGVycyh4aHIpIHtcbiAgICB2YXIgaGVhZCA9IG5ldyBIZWFkZXJzKClcbiAgICB2YXIgcGFpcnMgPSB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkudHJpbSgpLnNwbGl0KCdcXG4nKVxuICAgIHBhaXJzLmZvckVhY2goZnVuY3Rpb24oaGVhZGVyKSB7XG4gICAgICB2YXIgc3BsaXQgPSBoZWFkZXIudHJpbSgpLnNwbGl0KCc6JylcbiAgICAgIHZhciBrZXkgPSBzcGxpdC5zaGlmdCgpLnRyaW0oKVxuICAgICAgdmFyIHZhbHVlID0gc3BsaXQuam9pbignOicpLnRyaW0oKVxuICAgICAgaGVhZC5hcHBlbmQoa2V5LCB2YWx1ZSlcbiAgICB9KVxuICAgIHJldHVybiBoZWFkXG4gIH1cblxuICBSZXF1ZXN0LnByb3RvdHlwZS5mZXRjaCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IGhlYWRlcnMoeGhyKVxuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKHhoci5yZXNwb25zZVRleHQsIG9wdGlvbnMpKVxuICAgICAgfVxuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QoKVxuICAgICAgfVxuXG4gICAgICB4aHIub3BlbihzZWxmLm1ldGhvZCwgc2VsZi51cmwpXG5cbiAgICAgIHNlbGYuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKG5hbWUsIHZhbHVlKVxuICAgICAgICB9KVxuICAgICAgfSlcblxuICAgICAgdmFyIGJvZHkgPSBzZWxmLmJvZHlcbiAgICAgIGlmIChpc09iamVjdChzZWxmLmJvZHkpKSB7XG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04JylcbiAgICAgICAgYm9keSA9IGVuY29kZShzZWxmLmJvZHkpXG4gICAgICB9XG4gICAgICB4aHIuc2VuZChib2R5KVxuICAgIH0pXG4gIH1cblxuICBCb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbiAgZnVuY3Rpb24gUmVzcG9uc2UoYm9keSwgb3B0aW9ucykge1xuICAgIHRoaXMuYm9keSA9IGJvZHlcbiAgICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgICB0aGlzLnVybCA9IG51bGxcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzXG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gb3B0aW9ucy5zdGF0dXNUZXh0XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzXG4gIH1cblxuICBCb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG4gIHdpbmRvdy5mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCBvcHRpb25zKS5mZXRjaCgpXG4gIH1cbn0pKClcbiIsIihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAoYykgMjAxNCBUaGUgUG9seW1lciBQcm9qZWN0IEF1dGhvcnMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBUaGlzIGNvZGUgbWF5IG9ubHkgYmUgdXNlZCB1bmRlciB0aGUgQlNEIHN0eWxlIGxpY2Vuc2UgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0xJQ0VOU0UudHh0XG4gKiBUaGUgY29tcGxldGUgc2V0IG9mIGF1dGhvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9BVVRIT1JTLnR4dFxuICogVGhlIGNvbXBsZXRlIHNldCBvZiBjb250cmlidXRvcnMgbWF5IGJlIGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9DT05UUklCVVRPUlMudHh0XG4gKiBDb2RlIGRpc3RyaWJ1dGVkIGJ5IEdvb2dsZSBhcyBwYXJ0IG9mIHRoZSBwb2x5bWVyIHByb2plY3QgaXMgYWxzb1xuICogc3ViamVjdCB0byBhbiBhZGRpdGlvbmFsIElQIHJpZ2h0cyBncmFudCBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vUEFURU5UUy50eHRcbiAqL1xuLy8gQHZlcnNpb246IDAuNC4yXG5cbndpbmRvdy5QbGF0Zm9ybT13aW5kb3cuUGxhdGZvcm18fHt9LHdpbmRvdy5sb2dGbGFncz13aW5kb3cubG9nRmxhZ3N8fHt9LGZ1bmN0aW9uKGEpe3ZhciBiPWEuZmxhZ3N8fHt9O2xvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdChcIiZcIikuZm9yRWFjaChmdW5jdGlvbihhKXthPWEuc3BsaXQoXCI9XCIpLGFbMF0mJihiW2FbMF1dPWFbMV18fCEwKX0pO3ZhciBjPWRvY3VtZW50LmN1cnJlbnRTY3JpcHR8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NjcmlwdFtzcmMqPVwicGxhdGZvcm0uanNcIl0nKTtpZihjKWZvcih2YXIgZCxlPWMuYXR0cmlidXRlcyxmPTA7ZjxlLmxlbmd0aDtmKyspZD1lW2ZdLFwic3JjXCIhPT1kLm5hbWUmJihiW2QubmFtZV09ZC52YWx1ZXx8ITApO2IubG9nJiZiLmxvZy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihhKXt3aW5kb3cubG9nRmxhZ3NbYV09ITB9KSxiLnNoYWRvdz1iLnNoYWRvd3x8Yi5zaGFkb3dkb218fGIucG9seWZpbGwsYi5zaGFkb3c9XCJuYXRpdmVcIj09PWIuc2hhZG93PyExOmIuc2hhZG93fHwhSFRNTEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3QsYi5zaGFkb3cmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIikubGVuZ3RoPjEmJmNvbnNvbGUubG9nKFwiV2FybmluZzogcGxhdGZvcm0uanMgaXMgbm90IHRoZSBmaXJzdCBzY3JpcHQgb24gdGhlIHBhZ2UuIFNlZSBodHRwOi8vd3d3LnBvbHltZXItcHJvamVjdC5vcmcvZG9jcy9zdGFydC9wbGF0Zm9ybS5odG1sI3NldHVwIGZvciBkZXRhaWxzLlwiKSxiLnJlZ2lzdGVyJiYod2luZG93LkN1c3RvbUVsZW1lbnRzPXdpbmRvdy5DdXN0b21FbGVtZW50c3x8e2ZsYWdzOnt9fSx3aW5kb3cuQ3VzdG9tRWxlbWVudHMuZmxhZ3MucmVnaXN0ZXI9Yi5yZWdpc3RlciksYi5pbXBvcnRzJiYod2luZG93LkhUTUxJbXBvcnRzPXdpbmRvdy5IVE1MSW1wb3J0c3x8e2ZsYWdzOnt9fSx3aW5kb3cuSFRNTEltcG9ydHMuZmxhZ3MuaW1wb3J0cz1iLmltcG9ydHMpLGEuZmxhZ3M9Yn0oUGxhdGZvcm0pLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBXZWFrTWFwJiYhZnVuY3Rpb24oKXt2YXIgYT1PYmplY3QuZGVmaW5lUHJvcGVydHksYj1EYXRlLm5vdygpJTFlOSxjPWZ1bmN0aW9uKCl7dGhpcy5uYW1lPVwiX19zdFwiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApKyhiKysgK1wiX19cIil9O2MucHJvdG90eXBlPXtzZXQ6ZnVuY3Rpb24oYixjKXt2YXIgZD1iW3RoaXMubmFtZV07cmV0dXJuIGQmJmRbMF09PT1iP2RbMV09YzphKGIsdGhpcy5uYW1lLHt2YWx1ZTpbYixjXSx3cml0YWJsZTohMH0pLHRoaXN9LGdldDpmdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oYj1hW3RoaXMubmFtZV0pJiZiWzBdPT09YT9iWzFdOnZvaWQgMH0sXCJkZWxldGVcIjpmdW5jdGlvbihhKXt2YXIgYj1hW3RoaXMubmFtZV07aWYoIWIpcmV0dXJuITE7dmFyIGM9YlswXT09PWE7cmV0dXJuIGJbMF09YlsxXT12b2lkIDAsY30saGFzOmZ1bmN0aW9uKGEpe3ZhciBiPWFbdGhpcy5uYW1lXTtyZXR1cm4gYj9iWzBdPT09YTohMX19LHdpbmRvdy5XZWFrTWFwPWN9KCksUGxhdGZvcm0uZmxhZ3Muc2hhZG93PyghZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYigpe2Z1bmN0aW9uIGEoYSl7Yj1hfWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIE9iamVjdC5vYnNlcnZlfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBBcnJheS5vYnNlcnZlKXJldHVybiExO3ZhciBiPVtdLGM9e30sZD1bXTtyZXR1cm4gT2JqZWN0Lm9ic2VydmUoYyxhKSxBcnJheS5vYnNlcnZlKGQsYSksYy5pZD0xLGMuaWQ9MixkZWxldGUgYy5pZCxkLnB1c2goMSwyKSxkLmxlbmd0aD0wLE9iamVjdC5kZWxpdmVyQ2hhbmdlUmVjb3JkcyhhKSw1IT09Yi5sZW5ndGg/ITE6XCJhZGRcIiE9YlswXS50eXBlfHxcInVwZGF0ZVwiIT1iWzFdLnR5cGV8fFwiZGVsZXRlXCIhPWJbMl0udHlwZXx8XCJzcGxpY2VcIiE9YlszXS50eXBlfHxcInNwbGljZVwiIT1iWzRdLnR5cGU/ITE6KE9iamVjdC51bm9ic2VydmUoYyxhKSxBcnJheS51bm9ic2VydmUoZCxhKSwhMCl9ZnVuY3Rpb24gYygpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZS5hcHAmJmNocm9tZS5hcHAucnVudGltZSlyZXR1cm4hMTtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgbmF2aWdhdG9yJiZuYXZpZ2F0b3IuZ2V0RGV2aWNlU3RvcmFnZSlyZXR1cm4hMTt0cnl7dmFyIGE9bmV3IEZ1bmN0aW9uKFwiXCIsXCJyZXR1cm4gdHJ1ZTtcIik7cmV0dXJuIGEoKX1jYXRjaChiKXtyZXR1cm4hMX19ZnVuY3Rpb24gZChhKXtyZXR1cm4rYT09PWE+Pj4wJiZcIlwiIT09YX1mdW5jdGlvbiBlKGEpe3JldHVybithfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGE9PT1PYmplY3QoYSl9ZnVuY3Rpb24gZyhhLGIpe3JldHVybiBhPT09Yj8wIT09YXx8MS9hPT09MS9iOlIoYSkmJlIoYik/ITA6YSE9PWEmJmIhPT1ifWZ1bmN0aW9uIGgoYSl7aWYodm9pZCAwPT09YSlyZXR1cm5cImVvZlwiO3ZhciBiPWEuY2hhckNvZGVBdCgwKTtzd2l0Y2goYil7Y2FzZSA5MTpjYXNlIDkzOmNhc2UgNDY6Y2FzZSAzNDpjYXNlIDM5OmNhc2UgNDg6cmV0dXJuIGE7Y2FzZSA5NTpjYXNlIDM2OnJldHVyblwiaWRlbnRcIjtjYXNlIDMyOmNhc2UgOTpjYXNlIDEwOmNhc2UgMTM6Y2FzZSAxNjA6Y2FzZSA2NTI3OTpjYXNlIDgyMzI6Y2FzZSA4MjMzOnJldHVyblwid3NcIn1yZXR1cm4gYj49OTcmJjEyMj49Ynx8Yj49NjUmJjkwPj1iP1wiaWRlbnRcIjpiPj00OSYmNTc+PWI/XCJudW1iZXJcIjpcImVsc2VcIn1mdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGooYSl7ZnVuY3Rpb24gYigpe2lmKCEobT49YS5sZW5ndGgpKXt2YXIgYj1hW20rMV07cmV0dXJuXCJpblNpbmdsZVF1b3RlXCI9PW4mJlwiJ1wiPT1ifHxcImluRG91YmxlUXVvdGVcIj09biYmJ1wiJz09Yj8obSsrLGQ9YixvLmFwcGVuZCgpLCEwKTp2b2lkIDB9fWZvcih2YXIgYyxkLGUsZixnLGosayxsPVtdLG09LTEsbj1cImJlZm9yZVBhdGhcIixvPXtwdXNoOmZ1bmN0aW9uKCl7dm9pZCAwIT09ZSYmKGwucHVzaChlKSxlPXZvaWQgMCl9LGFwcGVuZDpmdW5jdGlvbigpe3ZvaWQgMD09PWU/ZT1kOmUrPWR9fTtuOylpZihtKyssYz1hW21dLFwiXFxcXFwiIT1jfHwhYihuKSl7aWYoZj1oKGMpLGs9V1tuXSxnPWtbZl18fGtbXCJlbHNlXCJdfHxcImVycm9yXCIsXCJlcnJvclwiPT1nKXJldHVybjtpZihuPWdbMF0saj1vW2dbMV1dfHxpLGQ9dm9pZCAwPT09Z1syXT9jOmdbMl0saigpLFwiYWZ0ZXJQYXRoXCI9PT1uKXJldHVybiBsfX1mdW5jdGlvbiBrKGEpe3JldHVybiBWLnRlc3QoYSl9ZnVuY3Rpb24gbChhLGIpe2lmKGIhPT1YKXRocm93IEVycm9yKFwiVXNlIFBhdGguZ2V0IHRvIHJldHJpZXZlIHBhdGggb2JqZWN0c1wiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl0aGlzLnB1c2goU3RyaW5nKGFbY10pKTtRJiZ0aGlzLmxlbmd0aCYmKHRoaXMuZ2V0VmFsdWVGcm9tPXRoaXMuY29tcGlsZWRHZXRWYWx1ZUZyb21GbigpKX1mdW5jdGlvbiBtKGEpe2lmKGEgaW5zdGFuY2VvZiBsKXJldHVybiBhO2lmKChudWxsPT1hfHwwPT1hLmxlbmd0aCkmJihhPVwiXCIpLFwic3RyaW5nXCIhPXR5cGVvZiBhKXtpZihkKGEubGVuZ3RoKSlyZXR1cm4gbmV3IGwoYSxYKTthPVN0cmluZyhhKX12YXIgYj1ZW2FdO2lmKGIpcmV0dXJuIGI7dmFyIGM9aihhKTtpZighYylyZXR1cm4gWjt2YXIgYj1uZXcgbChjLFgpO3JldHVybiBZW2FdPWIsYn1mdW5jdGlvbiBuKGEpe3JldHVybiBkKGEpP1wiW1wiK2ErXCJdXCI6J1tcIicrYS5yZXBsYWNlKC9cIi9nLCdcXFxcXCInKSsnXCJdJ31mdW5jdGlvbiBvKGIpe2Zvcih2YXIgYz0wO18+YyYmYi5jaGVja18oKTspYysrO3JldHVybiBPJiYoYS5kaXJ0eUNoZWNrQ3ljbGVDb3VudD1jKSxjPjB9ZnVuY3Rpb24gcChhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBxKGEpe3JldHVybiBwKGEuYWRkZWQpJiZwKGEucmVtb3ZlZCkmJnAoYS5jaGFuZ2VkKX1mdW5jdGlvbiByKGEsYil7dmFyIGM9e30sZD17fSxlPXt9O2Zvcih2YXIgZiBpbiBiKXt2YXIgZz1hW2ZdOyh2b2lkIDA9PT1nfHxnIT09YltmXSkmJihmIGluIGE/ZyE9PWJbZl0mJihlW2ZdPWcpOmRbZl09dm9pZCAwKX1mb3IodmFyIGYgaW4gYSlmIGluIGJ8fChjW2ZdPWFbZl0pO3JldHVybiBBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aCE9PWIubGVuZ3RoJiYoZS5sZW5ndGg9YS5sZW5ndGgpLHthZGRlZDpjLHJlbW92ZWQ6ZCxjaGFuZ2VkOmV9fWZ1bmN0aW9uIHMoKXtpZighYWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8YWIubGVuZ3RoO2ErKylhYlthXSgpO3JldHVybiBhYi5sZW5ndGg9MCwhMH1mdW5jdGlvbiB0KCl7ZnVuY3Rpb24gYShhKXtiJiZiLnN0YXRlXz09PWZiJiYhZCYmYi5jaGVja18oYSl9dmFyIGIsYyxkPSExLGU9ITA7cmV0dXJue29wZW46ZnVuY3Rpb24oYyl7aWYoYil0aHJvdyBFcnJvcihcIk9ic2VydmVkT2JqZWN0IGluIHVzZVwiKTtlfHxPYmplY3QuZGVsaXZlckNoYW5nZVJlY29yZHMoYSksYj1jLGU9ITF9LG9ic2VydmU6ZnVuY3Rpb24oYixkKXtjPWIsZD9BcnJheS5vYnNlcnZlKGMsYSk6T2JqZWN0Lm9ic2VydmUoYyxhKX0sZGVsaXZlcjpmdW5jdGlvbihiKXtkPWIsT2JqZWN0LmRlbGl2ZXJDaGFuZ2VSZWNvcmRzKGEpLGQ9ITF9LGNsb3NlOmZ1bmN0aW9uKCl7Yj12b2lkIDAsT2JqZWN0LnVub2JzZXJ2ZShjLGEpLGNiLnB1c2godGhpcyl9fX1mdW5jdGlvbiB1KGEsYixjKXt2YXIgZD1jYi5wb3AoKXx8dCgpO3JldHVybiBkLm9wZW4oYSksZC5vYnNlcnZlKGIsYyksZH1mdW5jdGlvbiB2KCl7ZnVuY3Rpb24gYShiLGYpe2ImJihiPT09ZCYmKGVbZl09ITApLGguaW5kZXhPZihiKTwwJiYoaC5wdXNoKGIpLE9iamVjdC5vYnNlcnZlKGIsYykpLGEoT2JqZWN0LmdldFByb3RvdHlwZU9mKGIpLGYpKX1mdW5jdGlvbiBiKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2lmKGMub2JqZWN0IT09ZHx8ZVtjLm5hbWVdfHxcInNldFByb3RvdHlwZVwiPT09Yy50eXBlKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIGMoYyl7aWYoIWIoYykpe2Zvcih2YXIgZCxlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5pdGVyYXRlT2JqZWN0c18oYSk7Zm9yKHZhciBlPTA7ZTxnLmxlbmd0aDtlKyspZD1nW2VdLGQuc3RhdGVfPT1mYiYmZC5jaGVja18oKX19dmFyIGQsZSxmPTAsZz1bXSxoPVtdLGk9e29iamVjdDp2b2lkIDAsb2JqZWN0czpoLG9wZW46ZnVuY3Rpb24oYixjKXtkfHwoZD1jLGU9e30pLGcucHVzaChiKSxmKyssYi5pdGVyYXRlT2JqZWN0c18oYSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoZi0tLCEoZj4wKSl7Zm9yKHZhciBhPTA7YTxoLmxlbmd0aDthKyspT2JqZWN0LnVub2JzZXJ2ZShoW2FdLGMpLHgudW5vYnNlcnZlZENvdW50Kys7Zy5sZW5ndGg9MCxoLmxlbmd0aD0wLGQ9dm9pZCAwLGU9dm9pZCAwLGRiLnB1c2godGhpcyl9fX07cmV0dXJuIGl9ZnVuY3Rpb24gdyhhLGIpe3JldHVybiAkJiYkLm9iamVjdD09PWJ8fCgkPWRiLnBvcCgpfHx2KCksJC5vYmplY3Q9YiksJC5vcGVuKGEsYiksJH1mdW5jdGlvbiB4KCl7dGhpcy5zdGF0ZV89ZWIsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLmlkXz1pYisrfWZ1bmN0aW9uIHkoYSl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQrKyxrYiYmamIucHVzaChhKX1mdW5jdGlvbiB6KCl7eC5fYWxsT2JzZXJ2ZXJzQ291bnQtLX1mdW5jdGlvbiBBKGEpe3guY2FsbCh0aGlzKSx0aGlzLnZhbHVlXz1hLHRoaXMub2xkT2JqZWN0Xz12b2lkIDB9ZnVuY3Rpb24gQihhKXtpZighQXJyYXkuaXNBcnJheShhKSl0aHJvdyBFcnJvcihcIlByb3ZpZGVkIG9iamVjdCBpcyBub3QgYW4gQXJyYXlcIik7QS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gQyhhLGIpe3guY2FsbCh0aGlzKSx0aGlzLm9iamVjdF89YSx0aGlzLnBhdGhfPW0oYiksdGhpcy5kaXJlY3RPYnNlcnZlcl89dm9pZCAwfWZ1bmN0aW9uIEQoYSl7eC5jYWxsKHRoaXMpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl89YSx0aGlzLnZhbHVlXz1bXSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDAsdGhpcy5vYnNlcnZlZF89W119ZnVuY3Rpb24gRShhKXtyZXR1cm4gYX1mdW5jdGlvbiBGKGEsYixjLGQpe3RoaXMuY2FsbGJhY2tfPXZvaWQgMCx0aGlzLnRhcmdldF89dm9pZCAwLHRoaXMudmFsdWVfPXZvaWQgMCx0aGlzLm9ic2VydmFibGVfPWEsdGhpcy5nZXRWYWx1ZUZuXz1ifHxFLHRoaXMuc2V0VmFsdWVGbl89Y3x8RSx0aGlzLmRvbnRQYXNzVGhyb3VnaFNldF89ZH1mdW5jdGlvbiBHKGEsYixjKXtmb3IodmFyIGQ9e30sZT17fSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07bmJbZy50eXBlXT8oZy5uYW1lIGluIGN8fChjW2cubmFtZV09Zy5vbGRWYWx1ZSksXCJ1cGRhdGVcIiE9Zy50eXBlJiYoXCJhZGRcIiE9Zy50eXBlP2cubmFtZSBpbiBkPyhkZWxldGUgZFtnLm5hbWVdLGRlbGV0ZSBjW2cubmFtZV0pOmVbZy5uYW1lXT0hMDpnLm5hbWUgaW4gZT9kZWxldGUgZVtnLm5hbWVdOmRbZy5uYW1lXT0hMCkpOihjb25zb2xlLmVycm9yKFwiVW5rbm93biBjaGFuZ2VSZWNvcmQgdHlwZTogXCIrZy50eXBlKSxjb25zb2xlLmVycm9yKGcpKX1mb3IodmFyIGggaW4gZClkW2hdPWFbaF07Zm9yKHZhciBoIGluIGUpZVtoXT12b2lkIDA7dmFyIGk9e307Zm9yKHZhciBoIGluIGMpaWYoIShoIGluIGR8fGggaW4gZSkpe3ZhciBqPWFbaF07Y1toXSE9PWomJihpW2hdPWopfXJldHVybnthZGRlZDpkLHJlbW92ZWQ6ZSxjaGFuZ2VkOml9fWZ1bmN0aW9uIEgoYSxiLGMpe3JldHVybntpbmRleDphLHJlbW92ZWQ6YixhZGRlZENvdW50OmN9fWZ1bmN0aW9uIEkoKXt9ZnVuY3Rpb24gSihhLGIsYyxkLGUsZil7cmV0dXJuIHNiLmNhbGNTcGxpY2VzKGEsYixjLGQsZSxmKX1mdW5jdGlvbiBLKGEsYixjLGQpe3JldHVybiBjPmJ8fGE+ZD8tMTpiPT1jfHxkPT1hPzA6Yz5hP2Q+Yj9iLWM6ZC1jOmI+ZD9kLWE6Yi1hfWZ1bmN0aW9uIEwoYSxiLGMsZCl7Zm9yKHZhciBlPUgoYixjLGQpLGY9ITEsZz0wLGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIGk9YVtoXTtpZihpLmluZGV4Kz1nLCFmKXt2YXIgaj1LKGUuaW5kZXgsZS5pbmRleCtlLnJlbW92ZWQubGVuZ3RoLGkuaW5kZXgsaS5pbmRleCtpLmFkZGVkQ291bnQpO2lmKGo+PTApe2Euc3BsaWNlKGgsMSksaC0tLGctPWkuYWRkZWRDb3VudC1pLnJlbW92ZWQubGVuZ3RoLGUuYWRkZWRDb3VudCs9aS5hZGRlZENvdW50LWo7dmFyIGs9ZS5yZW1vdmVkLmxlbmd0aCtpLnJlbW92ZWQubGVuZ3RoLWo7aWYoZS5hZGRlZENvdW50fHxrKXt2YXIgYz1pLnJlbW92ZWQ7aWYoZS5pbmRleDxpLmluZGV4KXt2YXIgbD1lLnJlbW92ZWQuc2xpY2UoMCxpLmluZGV4LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGwsYyksYz1sfWlmKGUuaW5kZXgrZS5yZW1vdmVkLmxlbmd0aD5pLmluZGV4K2kuYWRkZWRDb3VudCl7dmFyIG09ZS5yZW1vdmVkLnNsaWNlKGkuaW5kZXgraS5hZGRlZENvdW50LWUuaW5kZXgpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGMsbSl9ZS5yZW1vdmVkPWMsaS5pbmRleDxlLmluZGV4JiYoZS5pbmRleD1pLmluZGV4KX1lbHNlIGY9ITB9ZWxzZSBpZihlLmluZGV4PGkuaW5kZXgpe2Y9ITAsYS5zcGxpY2UoaCwwLGUpLGgrKzt2YXIgbj1lLmFkZGVkQ291bnQtZS5yZW1vdmVkLmxlbmd0aDtpLmluZGV4Kz1uLGcrPW59fX1mfHxhLnB1c2goZSl9ZnVuY3Rpb24gTShhLGIpe2Zvcih2YXIgYz1bXSxmPTA7ZjxiLmxlbmd0aDtmKyspe3ZhciBnPWJbZl07c3dpdGNoKGcudHlwZSl7Y2FzZVwic3BsaWNlXCI6TChjLGcuaW5kZXgsZy5yZW1vdmVkLnNsaWNlKCksZy5hZGRlZENvdW50KTticmVhaztjYXNlXCJhZGRcIjpjYXNlXCJ1cGRhdGVcIjpjYXNlXCJkZWxldGVcIjppZighZChnLm5hbWUpKWNvbnRpbnVlO3ZhciBoPWUoZy5uYW1lKTtpZigwPmgpY29udGludWU7TChjLGgsW2cub2xkVmFsdWVdLDEpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgcmVjb3JkIHR5cGU6IFwiK0pTT04uc3RyaW5naWZ5KGcpKX19cmV0dXJuIGN9ZnVuY3Rpb24gTihhLGIpe3ZhciBjPVtdO3JldHVybiBNKGEsYikuZm9yRWFjaChmdW5jdGlvbihiKXtyZXR1cm4gMT09Yi5hZGRlZENvdW50JiYxPT1iLnJlbW92ZWQubGVuZ3RoP3ZvaWQoYi5yZW1vdmVkWzBdIT09YVtiLmluZGV4XSYmYy5wdXNoKGIpKTp2b2lkKGM9Yy5jb25jYXQoSihhLGIuaW5kZXgsYi5pbmRleCtiLmFkZGVkQ291bnQsYi5yZW1vdmVkLDAsYi5yZW1vdmVkLmxlbmd0aCkpKX0pLGN9dmFyIE89YS50ZXN0aW5nRXhwb3NlQ3ljbGVDb3VudCxQPWIoKSxRPWMoKSxSPWEuTnVtYmVyLmlzTmFOfHxmdW5jdGlvbihiKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYiYmYS5pc05hTihiKX0sUz1cIl9fcHJvdG9fX1wiaW57fT9mdW5jdGlvbihhKXtyZXR1cm4gYX06ZnVuY3Rpb24oYSl7dmFyIGI9YS5fX3Byb3RvX187aWYoIWIpcmV0dXJuIGE7dmFyIGM9T2JqZWN0LmNyZWF0ZShiKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYSkuZm9yRWFjaChmdW5jdGlvbihiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoYyxiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYSxiKSl9KSxjfSxUPVwiWyRfYS16QS1aXVwiLFU9XCJbJF9hLXpBLVowLTldXCIsVj1uZXcgUmVnRXhwKFwiXlwiK1QrXCIrXCIrVStcIiokXCIpLFc9e2JlZm9yZVBhdGg6e3dzOltcImJlZm9yZVBhdGhcIl0saWRlbnQ6W1wiaW5JZGVudFwiLFwiYXBwZW5kXCJdLFwiW1wiOltcImJlZm9yZUVsZW1lbnRcIl0sZW9mOltcImFmdGVyUGF0aFwiXX0saW5QYXRoOnt3czpbXCJpblBhdGhcIl0sXCIuXCI6W1wiYmVmb3JlSWRlbnRcIl0sXCJbXCI6W1wiYmVmb3JlRWxlbWVudFwiXSxlb2Y6W1wiYWZ0ZXJQYXRoXCJdfSxiZWZvcmVJZGVudDp7d3M6W1wiYmVmb3JlSWRlbnRcIl0saWRlbnQ6W1wiaW5JZGVudFwiLFwiYXBwZW5kXCJdfSxpbklkZW50OntpZGVudDpbXCJpbklkZW50XCIsXCJhcHBlbmRcIl0sMDpbXCJpbklkZW50XCIsXCJhcHBlbmRcIl0sbnVtYmVyOltcImluSWRlbnRcIixcImFwcGVuZFwiXSx3czpbXCJpblBhdGhcIixcInB1c2hcIl0sXCIuXCI6W1wiYmVmb3JlSWRlbnRcIixcInB1c2hcIl0sXCJbXCI6W1wiYmVmb3JlRWxlbWVudFwiLFwicHVzaFwiXSxlb2Y6W1wiYWZ0ZXJQYXRoXCIsXCJwdXNoXCJdfSxiZWZvcmVFbGVtZW50Ont3czpbXCJiZWZvcmVFbGVtZW50XCJdLDA6W1wiYWZ0ZXJaZXJvXCIsXCJhcHBlbmRcIl0sbnVtYmVyOltcImluSW5kZXhcIixcImFwcGVuZFwiXSxcIidcIjpbXCJpblNpbmdsZVF1b3RlXCIsXCJhcHBlbmRcIixcIlwiXSwnXCInOltcImluRG91YmxlUXVvdGVcIixcImFwcGVuZFwiLFwiXCJdfSxhZnRlclplcm86e3dzOltcImFmdGVyRWxlbWVudFwiLFwicHVzaFwiXSxcIl1cIjpbXCJpblBhdGhcIixcInB1c2hcIl19LGluSW5kZXg6ezA6W1wiaW5JbmRleFwiLFwiYXBwZW5kXCJdLG51bWJlcjpbXCJpbkluZGV4XCIsXCJhcHBlbmRcIl0sd3M6W1wiYWZ0ZXJFbGVtZW50XCJdLFwiXVwiOltcImluUGF0aFwiLFwicHVzaFwiXX0saW5TaW5nbGVRdW90ZTp7XCInXCI6W1wiYWZ0ZXJFbGVtZW50XCJdLGVvZjpbXCJlcnJvclwiXSxcImVsc2VcIjpbXCJpblNpbmdsZVF1b3RlXCIsXCJhcHBlbmRcIl19LGluRG91YmxlUXVvdGU6eydcIic6W1wiYWZ0ZXJFbGVtZW50XCJdLGVvZjpbXCJlcnJvclwiXSxcImVsc2VcIjpbXCJpbkRvdWJsZVF1b3RlXCIsXCJhcHBlbmRcIl19LGFmdGVyRWxlbWVudDp7d3M6W1wiYWZ0ZXJFbGVtZW50XCJdLFwiXVwiOltcImluUGF0aFwiLFwicHVzaFwiXX19LFg9e30sWT17fTtsLmdldD1tLGwucHJvdG90eXBlPVMoe19fcHJvdG9fXzpbXSx2YWxpZDohMCx0b1N0cmluZzpmdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7dmFyIGM9dGhpc1tiXTthKz1rKGMpP2I/XCIuXCIrYzpjOm4oYyl9cmV0dXJuIGF9LGdldFZhbHVlRnJvbTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHRoaXMubGVuZ3RoO2IrKyl7aWYobnVsbD09YSlyZXR1cm47YT1hW3RoaXNbYl1dfXJldHVybiBhfSxpdGVyYXRlT2JqZWN0czpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXtpZihjJiYoYT1hW3RoaXNbYy0xXV0pLCFmKGEpKXJldHVybjtiKGEsdGhpc1swXSl9fSxjb21waWxlZEdldFZhbHVlRnJvbUZuOmZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiPVwib2JqXCI7YSs9XCJpZiAob2JqICE9IG51bGxcIjtmb3IodmFyIGMsZD0wO2Q8dGhpcy5sZW5ndGgtMTtkKyspYz10aGlzW2RdLGIrPWsoYyk/XCIuXCIrYzpuKGMpLGErPVwiICYmXFxuICAgICBcIitiK1wiICE9IG51bGxcIjthKz1cIilcXG5cIjt2YXIgYz10aGlzW2RdO3JldHVybiBiKz1rKGMpP1wiLlwiK2M6bihjKSxhKz1cIiAgcmV0dXJuIFwiK2IrXCI7XFxuZWxzZVxcbiAgcmV0dXJuIHVuZGVmaW5lZDtcIixuZXcgRnVuY3Rpb24oXCJvYmpcIixhKX0sc2V0VmFsdWVGcm9tOmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGgtMTtjKyspe2lmKCFmKGEpKXJldHVybiExO2E9YVt0aGlzW2NdXX1yZXR1cm4gZihhKT8oYVt0aGlzW2NdXT1iLCEwKTohMX19KTt2YXIgWj1uZXcgbChcIlwiLFgpO1oudmFsaWQ9ITEsWi5nZXRWYWx1ZUZyb209Wi5zZXRWYWx1ZUZyb209ZnVuY3Rpb24oKXt9O3ZhciAkLF89MWUzLGFiPVtdLGJiPVA/ZnVuY3Rpb24oKXt2YXIgYT17cGluZ1Bvbmc6ITB9LGI9ITE7cmV0dXJuIE9iamVjdC5vYnNlcnZlKGEsZnVuY3Rpb24oKXtzKCksYj0hMX0pLGZ1bmN0aW9uKGMpe2FiLnB1c2goYyksYnx8KGI9ITAsYS5waW5nUG9uZz0hYS5waW5nUG9uZyl9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2FiLnB1c2goYSl9fSgpLGNiPVtdLGRiPVtdLGViPTAsZmI9MSxnYj0yLGhiPTMsaWI9MTt4LnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe2lmKHRoaXMuc3RhdGVfIT1lYil0aHJvdyBFcnJvcihcIk9ic2VydmVyIGhhcyBhbHJlYWR5IGJlZW4gb3BlbmVkLlwiKTtyZXR1cm4geSh0aGlzKSx0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMuY29ubmVjdF8oKSx0aGlzLnN0YXRlXz1mYix0aGlzLnZhbHVlX30sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLnN0YXRlXz09ZmImJih6KHRoaXMpLHRoaXMuZGlzY29ubmVjdF8oKSx0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5zdGF0ZV89Z2IpfSxkZWxpdmVyOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZV89PWZiJiZvKHRoaXMpfSxyZXBvcnRfOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLmNhbGxiYWNrXy5hcHBseSh0aGlzLnRhcmdldF8sYSl9Y2F0Y2goYil7eC5fZXJyb3JUaHJvd25EdXJpbmdDYWxsYmFjaz0hMCxjb25zb2xlLmVycm9yKFwiRXhjZXB0aW9uIGNhdWdodCBkdXJpbmcgb2JzZXJ2ZXIgY2FsbGJhY2s6IFwiKyhiLnN0YWNrfHxiKSl9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrXyh2b2lkIDAsITApLHRoaXMudmFsdWVffX07dmFyIGpiLGtiPSFQO3guX2FsbE9ic2VydmVyc0NvdW50PTAsa2ImJihqYj1bXSk7dmFyIGxiPSExO2EuUGxhdGZvcm09YS5QbGF0Zm9ybXx8e30sYS5QbGF0Zm9ybS5wZXJmb3JtTWljcm90YXNrQ2hlY2twb2ludD1mdW5jdGlvbigpe2lmKCFsYiYma2Ipe2xiPSEwO3ZhciBiLGMsZD0wO2Rve2QrKyxjPWpiLGpiPVtdLGI9ITE7Zm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWNbZV07Zi5zdGF0ZV89PWZiJiYoZi5jaGVja18oKSYmKGI9ITApLGpiLnB1c2goZikpfXMoKSYmKGI9ITApfXdoaWxlKF8+ZCYmYik7TyYmKGEuZGlydHlDaGVja0N5Y2xlQ291bnQ9ZCksbGI9ITF9fSxrYiYmKGEuUGxhdGZvcm0uY2xlYXJPYnNlcnZlcnM9ZnVuY3Rpb24oKXtqYj1bXX0pLEEucHJvdG90eXBlPVMoe19fcHJvdG9fXzp4LnByb3RvdHlwZSxhcnJheU9ic2VydmU6ITEsY29ubmVjdF86ZnVuY3Rpb24oKXtQP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfPXUodGhpcyx0aGlzLnZhbHVlXyx0aGlzLmFycmF5T2JzZXJ2ZSk6dGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXyl9LGNvcHlPYmplY3Q6ZnVuY3Rpb24oYSl7dmFyIGI9QXJyYXkuaXNBcnJheShhKT9bXTp7fTtmb3IodmFyIGMgaW4gYSliW2NdPWFbY107cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkmJihiLmxlbmd0aD1hLmxlbmd0aCksYn0sY2hlY2tfOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoUCl7aWYoIWEpcmV0dXJuITE7Yz17fSxiPUcodGhpcy52YWx1ZV8sYSxjKX1lbHNlIGM9dGhpcy5vbGRPYmplY3RfLGI9cih0aGlzLnZhbHVlXyx0aGlzLm9sZE9iamVjdF8pO3JldHVybiBxKGIpPyExOihQfHwodGhpcy5vbGRPYmplY3RfPXRoaXMuY29weU9iamVjdCh0aGlzLnZhbHVlXykpLHRoaXMucmVwb3J0XyhbYi5hZGRlZHx8e30sYi5yZW1vdmVkfHx7fSxiLmNoYW5nZWR8fHt9LGZ1bmN0aW9uKGEpe3JldHVybiBjW2FdfV0pLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXtQPyh0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSgpLHRoaXMuZGlyZWN0T2JzZXJ2ZXJfPXZvaWQgMCk6dGhpcy5vbGRPYmplY3RfPXZvaWQgMH0sZGVsaXZlcjpmdW5jdGlvbigpe3RoaXMuc3RhdGVfPT1mYiYmKFA/dGhpcy5kaXJlY3RPYnNlcnZlcl8uZGVsaXZlcighMSk6byh0aGlzKSl9LGRpc2NhcmRDaGFuZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlyZWN0T2JzZXJ2ZXJfP3RoaXMuZGlyZWN0T2JzZXJ2ZXJfLmRlbGl2ZXIoITApOnRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pLHRoaXMudmFsdWVffX0pLEIucHJvdG90eXBlPVMoe19fcHJvdG9fXzpBLnByb3RvdHlwZSxhcnJheU9ic2VydmU6ITAsY29weU9iamVjdDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zbGljZSgpfSxjaGVja186ZnVuY3Rpb24oYSl7dmFyIGI7aWYoUCl7aWYoIWEpcmV0dXJuITE7Yj1OKHRoaXMudmFsdWVfLGEpfWVsc2UgYj1KKHRoaXMudmFsdWVfLDAsdGhpcy52YWx1ZV8ubGVuZ3RoLHRoaXMub2xkT2JqZWN0XywwLHRoaXMub2xkT2JqZWN0Xy5sZW5ndGgpO3JldHVybiBiJiZiLmxlbmd0aD8oUHx8KHRoaXMub2xkT2JqZWN0Xz10aGlzLmNvcHlPYmplY3QodGhpcy52YWx1ZV8pKSx0aGlzLnJlcG9ydF8oW2JdKSwhMCk6ITF9fSksQi5hcHBseVNwbGljZXM9ZnVuY3Rpb24oYSxiLGMpe2MuZm9yRWFjaChmdW5jdGlvbihjKXtmb3IodmFyIGQ9W2MuaW5kZXgsYy5yZW1vdmVkLmxlbmd0aF0sZT1jLmluZGV4O2U8Yy5pbmRleCtjLmFkZGVkQ291bnQ7KWQucHVzaChiW2VdKSxlKys7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShhLGQpfSl9LEMucHJvdG90eXBlPVMoe19fcHJvdG9fXzp4LnByb3RvdHlwZSxnZXQgcGF0aCgpe3JldHVybiB0aGlzLnBhdGhffSxjb25uZWN0XzpmdW5jdGlvbigpe1AmJih0aGlzLmRpcmVjdE9ic2VydmVyXz13KHRoaXMsdGhpcy5vYmplY3RfKSksdGhpcy5jaGVja18odm9pZCAwLCEwKX0sZGlzY29ubmVjdF86ZnVuY3Rpb24oKXt0aGlzLnZhbHVlXz12b2lkIDAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxpdGVyYXRlT2JqZWN0c186ZnVuY3Rpb24oYSl7dGhpcy5wYXRoXy5pdGVyYXRlT2JqZWN0cyh0aGlzLm9iamVjdF8sYSl9LGNoZWNrXzpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMudmFsdWVfO3JldHVybiB0aGlzLnZhbHVlXz10aGlzLnBhdGhfLmdldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8pLGJ8fGcodGhpcy52YWx1ZV8sYyk/ITE6KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzXSksITApfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLnBhdGhfJiZ0aGlzLnBhdGhfLnNldFZhbHVlRnJvbSh0aGlzLm9iamVjdF8sYSl9fSk7dmFyIG1iPXt9O0QucHJvdG90eXBlPVMoe19fcHJvdG9fXzp4LnByb3RvdHlwZSxjb25uZWN0XzpmdW5jdGlvbigpe2lmKFApe2Zvcih2YXIgYSxiPSExLGM9MDtjPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtjKz0yKWlmKGE9dGhpcy5vYnNlcnZlZF9bY10sYSE9PW1iKXtiPSEwO2JyZWFrfWImJih0aGlzLmRpcmVjdE9ic2VydmVyXz13KHRoaXMsYSkpfXRoaXMuY2hlY2tfKHZvaWQgMCwhdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl9LGRpc2Nvbm5lY3RfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTx0aGlzLm9ic2VydmVkXy5sZW5ndGg7YSs9Mil0aGlzLm9ic2VydmVkX1thXT09PW1iJiZ0aGlzLm9ic2VydmVkX1thKzFdLmNsb3NlKCk7dGhpcy5vYnNlcnZlZF8ubGVuZ3RoPTAsdGhpcy52YWx1ZV8ubGVuZ3RoPTAsdGhpcy5kaXJlY3RPYnNlcnZlcl8mJih0aGlzLmRpcmVjdE9ic2VydmVyXy5jbG9zZSh0aGlzKSx0aGlzLmRpcmVjdE9ic2VydmVyXz12b2lkIDApfSxhZGRQYXRoOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5zdGF0ZV8hPWViJiZ0aGlzLnN0YXRlXyE9aGIpdGhyb3cgRXJyb3IoXCJDYW5ub3QgYWRkIHBhdGhzIG9uY2Ugc3RhcnRlZC5cIik7dmFyIGI9bShiKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKGEsYiksdGhpcy5yZXBvcnRDaGFuZ2VzT25PcGVuXyl7dmFyIGM9dGhpcy5vYnNlcnZlZF8ubGVuZ3RoLzItMTt0aGlzLnZhbHVlX1tjXT1iLmdldFZhbHVlRnJvbShhKX19LGFkZE9ic2VydmVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGVfIT1lYiYmdGhpcy5zdGF0ZV8hPWhiKXRocm93IEVycm9yKFwiQ2Fubm90IGFkZCBvYnNlcnZlcnMgb25jZSBzdGFydGVkLlwiKTtpZih0aGlzLm9ic2VydmVkXy5wdXNoKG1iLGEpLHRoaXMucmVwb3J0Q2hhbmdlc09uT3Blbl8pe3ZhciBiPXRoaXMub2JzZXJ2ZWRfLmxlbmd0aC8yLTE7dGhpcy52YWx1ZV9bYl09YS5vcGVuKHRoaXMuZGVsaXZlcix0aGlzKX19LHN0YXJ0UmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9ZmIpdGhyb3cgRXJyb3IoXCJDYW4gb25seSByZXNldCB3aGlsZSBvcGVuXCIpO3RoaXMuc3RhdGVfPWhiLHRoaXMuZGlzY29ubmVjdF8oKX0sZmluaXNoUmVzZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLnN0YXRlXyE9aGIpdGhyb3cgRXJyb3IoXCJDYW4gb25seSBmaW5pc2hSZXNldCBhZnRlciBzdGFydFJlc2V0XCIpO3JldHVybiB0aGlzLnN0YXRlXz1mYix0aGlzLmNvbm5lY3RfKCksdGhpcy52YWx1ZV99LGl0ZXJhdGVPYmplY3RzXzpmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wO2M8dGhpcy5vYnNlcnZlZF8ubGVuZ3RoO2MrPTIpYj10aGlzLm9ic2VydmVkX1tjXSxiIT09bWImJnRoaXMub2JzZXJ2ZWRfW2MrMV0uaXRlcmF0ZU9iamVjdHMoYixhKX0sY2hlY2tfOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjLGQ9MDtkPHRoaXMub2JzZXJ2ZWRfLmxlbmd0aDtkKz0yKXt2YXIgZSxmPXRoaXMub2JzZXJ2ZWRfW2RdLGg9dGhpcy5vYnNlcnZlZF9bZCsxXTtpZihmPT09bWIpe3ZhciBpPWg7ZT10aGlzLnN0YXRlXz09PWViP2kub3Blbih0aGlzLmRlbGl2ZXIsdGhpcyk6aS5kaXNjYXJkQ2hhbmdlcygpfWVsc2UgZT1oLmdldFZhbHVlRnJvbShmKTtiP3RoaXMudmFsdWVfW2QvMl09ZTpnKGUsdGhpcy52YWx1ZV9bZC8yXSl8fChjPWN8fFtdLGNbZC8yXT10aGlzLnZhbHVlX1tkLzJdLHRoaXMudmFsdWVfW2QvMl09ZSl9cmV0dXJuIGM/KHRoaXMucmVwb3J0XyhbdGhpcy52YWx1ZV8sYyx0aGlzLm9ic2VydmVkX10pLCEwKTohMX19KSxGLnByb3RvdHlwZT17b3BlbjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNhbGxiYWNrXz1hLHRoaXMudGFyZ2V0Xz1iLHRoaXMudmFsdWVfPXRoaXMuZ2V0VmFsdWVGbl8odGhpcy5vYnNlcnZhYmxlXy5vcGVuKHRoaXMub2JzZXJ2ZWRDYWxsYmFja18sdGhpcykpLHRoaXMudmFsdWVffSxvYnNlcnZlZENhbGxiYWNrXzpmdW5jdGlvbihhKXtpZihhPXRoaXMuZ2V0VmFsdWVGbl8oYSksIWcoYSx0aGlzLnZhbHVlXykpe3ZhciBiPXRoaXMudmFsdWVfO3RoaXMudmFsdWVfPWEsdGhpcy5jYWxsYmFja18uY2FsbCh0aGlzLnRhcmdldF8sdGhpcy52YWx1ZV8sYil9fSxkaXNjYXJkQ2hhbmdlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlXz10aGlzLmdldFZhbHVlRm5fKHRoaXMub2JzZXJ2YWJsZV8uZGlzY2FyZENoYW5nZXMoKSksdGhpcy52YWx1ZV99LGRlbGl2ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vYnNlcnZhYmxlXy5kZWxpdmVyKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhPXRoaXMuc2V0VmFsdWVGbl8oYSksIXRoaXMuZG9udFBhc3NUaHJvdWdoU2V0XyYmdGhpcy5vYnNlcnZhYmxlXy5zZXRWYWx1ZT90aGlzLm9ic2VydmFibGVfLnNldFZhbHVlKGEpOnZvaWQgMH0sY2xvc2U6ZnVuY3Rpb24oKXt0aGlzLm9ic2VydmFibGVfJiZ0aGlzLm9ic2VydmFibGVfLmNsb3NlKCksdGhpcy5jYWxsYmFja189dm9pZCAwLHRoaXMudGFyZ2V0Xz12b2lkIDAsdGhpcy5vYnNlcnZhYmxlXz12b2lkIDAsdGhpcy52YWx1ZV89dm9pZCAwLHRoaXMuZ2V0VmFsdWVGbl89dm9pZCAwLHRoaXMuc2V0VmFsdWVGbl89dm9pZCAwfX07dmFyIG5iPXthZGQ6ITAsdXBkYXRlOiEwLFwiZGVsZXRlXCI6ITB9LG9iPTAscGI9MSxxYj0yLHJiPTM7SS5wcm90b3R5cGU9e2NhbGNFZGl0RGlzdGFuY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXtmb3IodmFyIGc9Zi1lKzEsaD1jLWIrMSxpPW5ldyBBcnJheShnKSxqPTA7Zz5qO2orKylpW2pdPW5ldyBBcnJheShoKSxpW2pdWzBdPWo7Zm9yKHZhciBrPTA7aD5rO2srKylpWzBdW2tdPWs7Zm9yKHZhciBqPTE7Zz5qO2orKylmb3IodmFyIGs9MTtoPms7aysrKWlmKHRoaXMuZXF1YWxzKGFbYitrLTFdLGRbZStqLTFdKSlpW2pdW2tdPWlbai0xXVtrLTFdO2Vsc2V7dmFyIGw9aVtqLTFdW2tdKzEsbT1pW2pdW2stMV0rMTtpW2pdW2tdPW0+bD9sOm19cmV0dXJuIGl9LHNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlczpmdW5jdGlvbihhKXtmb3IodmFyIGI9YS5sZW5ndGgtMSxjPWFbMF0ubGVuZ3RoLTEsZD1hW2JdW2NdLGU9W107Yj4wfHxjPjA7KWlmKDAhPWIpaWYoMCE9Yyl7dmFyIGYsZz1hW2ItMV1bYy0xXSxoPWFbYi0xXVtjXSxpPWFbYl1bYy0xXTtmPWk+aD9nPmg/aDpnOmc+aT9pOmcsZj09Zz8oZz09ZD9lLnB1c2gob2IpOihlLnB1c2gocGIpLGQ9ZyksYi0tLGMtLSk6Zj09aD8oZS5wdXNoKHJiKSxiLS0sZD1oKTooZS5wdXNoKHFiKSxjLS0sZD1pKX1lbHNlIGUucHVzaChyYiksYi0tO2Vsc2UgZS5wdXNoKHFiKSxjLS07cmV0dXJuIGUucmV2ZXJzZSgpLGV9LGNhbGNTcGxpY2VzOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz0wLGg9MCxpPU1hdGgubWluKGMtYixmLWUpO2lmKDA9PWImJjA9PWUmJihnPXRoaXMuc2hhcmVkUHJlZml4KGEsZCxpKSksYz09YS5sZW5ndGgmJmY9PWQubGVuZ3RoJiYoaD10aGlzLnNoYXJlZFN1ZmZpeChhLGQsaS1nKSksYis9ZyxlKz1nLGMtPWgsZi09aCxjLWI9PTAmJmYtZT09MClyZXR1cm5bXTtpZihiPT1jKXtmb3IodmFyIGo9SChiLFtdLDApO2Y+ZTspai5yZW1vdmVkLnB1c2goZFtlKytdKTtyZXR1cm5bal19aWYoZT09ZilyZXR1cm5bSChiLFtdLGMtYildO2Zvcih2YXIgaz10aGlzLnNwbGljZU9wZXJhdGlvbnNGcm9tRWRpdERpc3RhbmNlcyh0aGlzLmNhbGNFZGl0RGlzdGFuY2VzKGEsYixjLGQsZSxmKSksaj12b2lkIDAsbD1bXSxtPWIsbj1lLG89MDtvPGsubGVuZ3RoO28rKylzd2l0Y2goa1tvXSl7Y2FzZSBvYjpqJiYobC5wdXNoKGopLGo9dm9pZCAwKSxtKyssbisrO2JyZWFrO2Nhc2UgcGI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKyssai5yZW1vdmVkLnB1c2goZFtuXSksbisrO2JyZWFrO2Nhc2UgcWI6anx8KGo9SChtLFtdLDApKSxqLmFkZGVkQ291bnQrKyxtKys7YnJlYWs7Y2FzZSByYjpqfHwoaj1IKG0sW10sMCkpLGoucmVtb3ZlZC5wdXNoKGRbbl0pLG4rK31yZXR1cm4gaiYmbC5wdXNoKGopLGx9LHNoYXJlZFByZWZpeDpmdW5jdGlvbihhLGIsYyl7Zm9yKHZhciBkPTA7Yz5kO2QrKylpZighdGhpcy5lcXVhbHMoYVtkXSxiW2RdKSlyZXR1cm4gZDtyZXR1cm4gY30sc2hhcmVkU3VmZml4OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1iLmxlbmd0aCxmPTA7Yz5mJiZ0aGlzLmVxdWFscyhhWy0tZF0sYlstLWVdKTspZisrO3JldHVybiBmfSxjYWxjdWxhdGVTcGxpY2VzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuY2FsY1NwbGljZXMoYSwwLGEubGVuZ3RoLGIsMCxiLmxlbmd0aCl9LGVxdWFsczpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Yn19O3ZhciBzYj1uZXcgSTthLk9ic2VydmVyPXgsYS5PYnNlcnZlci5ydW5FT01fPWJiLGEuT2JzZXJ2ZXIub2JzZXJ2ZXJTZW50aW5lbF89bWIsYS5PYnNlcnZlci5oYXNPYmplY3RPYnNlcnZlPVAsYS5BcnJheU9ic2VydmVyPUIsYS5BcnJheU9ic2VydmVyLmNhbGN1bGF0ZVNwbGljZXM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gc2IuY2FsY3VsYXRlU3BsaWNlcyhhLGIpfSxhLkFycmF5U3BsaWNlPUksYS5PYmplY3RPYnNlcnZlcj1BLGEuUGF0aE9ic2VydmVyPUMsYS5Db21wb3VuZE9ic2VydmVyPUQsYS5QYXRoPWwsYS5PYnNlcnZlclRyYW5zZm9ybT1GfShcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsJiZnbG9iYWwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZT9nbG9iYWw6dGhpc3x8d2luZG93KSx3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw9e30sZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjaHJvbWUmJmNocm9tZS5hcHAmJmNocm9tZS5hcHAucnVudGltZSlyZXR1cm4hMTtpZihuYXZpZ2F0b3IuZ2V0RGV2aWNlU3RvcmFnZSlyZXR1cm4hMTt0cnl7dmFyIGE9bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRydWU7XCIpO3JldHVybiBhKCl9Y2F0Y2goYil7cmV0dXJuITF9fWZ1bmN0aW9uIGMoYSl7aWYoIWEpdGhyb3cgbmV3IEVycm9yKFwiQXNzZXJ0aW9uIGZhaWxlZFwiKX1mdW5jdGlvbiBkKGEsYil7Zm9yKHZhciBjPU4oYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO00oYSxlLE8oYixlKSl9cmV0dXJuIGF9ZnVuY3Rpb24gZShhLGIpe2Zvcih2YXIgYz1OKGIpLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXTtzd2l0Y2goZSl7Y2FzZVwiYXJndW1lbnRzXCI6Y2FzZVwiY2FsbGVyXCI6Y2FzZVwibGVuZ3RoXCI6Y2FzZVwibmFtZVwiOmNhc2VcInByb3RvdHlwZVwiOmNhc2VcInRvU3RyaW5nXCI6Y29udGludWV9TShhLGUsTyhiLGUpKX1yZXR1cm4gYX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspaWYoYltjXWluIGEpcmV0dXJuIGJbY119ZnVuY3Rpb24gZyhhLGIsYyl7UC52YWx1ZT1jLE0oYSxiLFApfWZ1bmN0aW9uIGgoYSl7dmFyIGI9YS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihhKSxjPUkuZ2V0KGIpO2lmKGMpcmV0dXJuIGM7dmFyIGQ9aChiKSxlPXYoZCk7cmV0dXJuIHMoYixlLGEpLGV9ZnVuY3Rpb24gaShhLGIpe3EoYSxiLCEwKX1mdW5jdGlvbiBqKGEsYil7cShiLGEsITEpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuL15vblthLXpdKyQvLnRlc3QoYSl9ZnVuY3Rpb24gbChhKXtyZXR1cm4vXlxcd1thLXpBLVpfMC05XSokLy50ZXN0KGEpfWZ1bmN0aW9uIG0oYSl7cmV0dXJuIEwmJmwoYSk/bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLlwiK2EpOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdfX1mdW5jdGlvbiBuKGEpe3JldHVybiBMJiZsKGEpP25ldyBGdW5jdGlvbihcInZcIixcInRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLlwiK2ErXCIgPSB2XCIpOmZ1bmN0aW9uKGIpe3RoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2FdPWJ9fWZ1bmN0aW9uIG8oYSl7cmV0dXJuIEwmJmwoYSk/bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fLlwiK2ErXCIuYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sIGFyZ3VtZW50cylcIik6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fX2ltcGw0Y2YxZTc4MmhnX19bYV0uYXBwbHkodGhpcy5fX2ltcGw0Y2YxZTc4MmhnX18sYXJndW1lbnRzKX19ZnVuY3Rpb24gcChhLGIpe3RyeXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhLGIpfWNhdGNoKGMpe3JldHVybiBSfX1mdW5jdGlvbiBxKGIsYyxkKXtmb3IodmFyIGU9TihiKSxmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPWVbZl07aWYoXCJwb2x5bWVyQmxhY2tMaXN0X1wiIT09ZyYmIShnIGluIGN8fGIucG9seW1lckJsYWNrTGlzdF8mJmIucG9seW1lckJsYWNrTGlzdF9bZ10pKXtRJiZiLl9fbG9va3VwR2V0dGVyX18oZyk7dmFyIGgsaSxqPXAoYixnKTtpZihkJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBqLnZhbHVlKWNbZ109byhnKTtlbHNle3ZhciBsPWsoZyk7aD1sP2EuZ2V0RXZlbnRIYW5kbGVyR2V0dGVyKGcpOm0oZyksKGoud3JpdGFibGV8fGouc2V0fHxTKSYmKGk9bD9hLmdldEV2ZW50SGFuZGxlclNldHRlcihnKTpuKGcpKSxNKGMsZyx7Z2V0Omgsc2V0OmksY29uZmlndXJhYmxlOmouY29uZmlndXJhYmxlLGVudW1lcmFibGU6ai5lbnVtZXJhYmxlfSl9fX19ZnVuY3Rpb24gcihhLGIsYyl7dmFyIGQ9YS5wcm90b3R5cGU7cyhkLGIsYyksZShiLGEpfWZ1bmN0aW9uIHMoYSxiLGQpe3ZhciBlPWIucHJvdG90eXBlO2Modm9pZCAwPT09SS5nZXQoYSkpLEkuc2V0KGEsYiksSi5zZXQoZSxhKSxpKGEsZSksZCYmaihlLGQpLGcoZSxcImNvbnN0cnVjdG9yXCIsYiksYi5wcm90b3R5cGU9ZX1mdW5jdGlvbiB0KGEsYil7cmV0dXJuIEkuZ2V0KGIucHJvdG90eXBlKT09PWF9ZnVuY3Rpb24gdShhKXt2YXIgYj1PYmplY3QuZ2V0UHJvdG90eXBlT2YoYSksYz1oKGIpLGQ9dihjKTtyZXR1cm4gcyhiLGQsYSksZH1mdW5jdGlvbiB2KGEpe2Z1bmN0aW9uIGIoYil7YS5jYWxsKHRoaXMsYil9dmFyIGM9T2JqZWN0LmNyZWF0ZShhLnByb3RvdHlwZSk7cmV0dXJuIGMuY29uc3RydWN0b3I9YixiLnByb3RvdHlwZT1jLGJ9ZnVuY3Rpb24gdyhhKXtyZXR1cm4gYSYmYS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24geChhKXtyZXR1cm4hdyhhKX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT09YT9udWxsOihjKHgoYSkpLGEuX193cmFwcGVyOGUzZGQ5M2E2MF9ffHwoYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189bmV3KGgoYSkpKGEpKSl9ZnVuY3Rpb24geihhKXtyZXR1cm4gbnVsbD09PWE/bnVsbDooYyh3KGEpKSxhLl9faW1wbDRjZjFlNzgyaGdfXyl9ZnVuY3Rpb24gQShhKXtyZXR1cm4gYS5fX2ltcGw0Y2YxZTc4MmhnX199ZnVuY3Rpb24gQihhLGIpe2IuX19pbXBsNGNmMWU3ODJoZ19fPWEsYS5fX3dyYXBwZXI4ZTNkZDkzYTYwX189Yn1mdW5jdGlvbiBDKGEpe3JldHVybiBhJiZ3KGEpP3ooYSk6YX1mdW5jdGlvbiBEKGEpe3JldHVybiBhJiYhdyhhKT95KGEpOmF9ZnVuY3Rpb24gRShhLGIpe251bGwhPT1iJiYoYyh4KGEpKSxjKHZvaWQgMD09PWJ8fHcoYikpLGEuX193cmFwcGVyOGUzZGQ5M2E2MF9fPWIpfWZ1bmN0aW9uIEYoYSxiLGMpe1QuZ2V0PWMsTShhLnByb3RvdHlwZSxiLFQpfWZ1bmN0aW9uIEcoYSxiKXtGKGEsYixmdW5jdGlvbigpe3JldHVybiB5KHRoaXMuX19pbXBsNGNmMWU3ODJoZ19fW2JdKX0pfWZ1bmN0aW9uIEgoYSxiKXthLmZvckVhY2goZnVuY3Rpb24oYSl7Yi5mb3JFYWNoKGZ1bmN0aW9uKGIpe2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7dmFyIGE9RCh0aGlzKTtyZXR1cm4gYVtiXS5hcHBseShhLGFyZ3VtZW50cyl9fSl9KX12YXIgST1uZXcgV2Vha01hcCxKPW5ldyBXZWFrTWFwLEs9T2JqZWN0LmNyZWF0ZShudWxsKSxMPWIoKSxNPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxOPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLE89T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixQPXt2YWx1ZTp2b2lkIDAsY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITB9O04od2luZG93KTt2YXIgUT0vRmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxSPXtnZXQ6ZnVuY3Rpb24oKXt9LHNldDpmdW5jdGlvbigpe30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9LFM9ZnVuY3Rpb24oKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE5vZGUucHJvdG90eXBlLFwibm9kZVR5cGVcIik7cmV0dXJuISFhJiZcInNldFwiaW4gYX0oKSxUPXtnZXQ6dm9pZCAwLGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfTthLmFzc2VydD1jLGEuY29uc3RydWN0b3JUYWJsZT1JLGEuZGVmaW5lR2V0dGVyPUYsYS5kZWZpbmVXcmFwR2V0dGVyPUcsYS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcj1ILGEuaXNXcmFwcGVyPXcsYS5pc1dyYXBwZXJGb3I9dCxhLm1peGluPWQsYS5uYXRpdmVQcm90b3R5cGVUYWJsZT1KLGEub25lT2Y9ZixhLnJlZ2lzdGVyT2JqZWN0PXUsYS5yZWdpc3RlcldyYXBwZXI9cixhLnJld3JhcD1FLGEuc2V0V3JhcHBlcj1CLGEudW5zYWZlVW53cmFwPUEsYS51bndyYXA9eixhLnVud3JhcElmTmVlZGVkPUMsYS53cmFwPXksYS53cmFwSWZOZWVkZWQ9RCxhLndyYXBwZXJzPUt9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYigpe2c9ITE7dmFyIGE9Zi5zbGljZSgwKTtmPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWFbYl0oKX1mdW5jdGlvbiBjKGEpe2YucHVzaChhKSxnfHwoZz0hMCxkKGIsMCkpfXZhciBkLGU9d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIsZj1bXSxnPSExO2lmKGUpe3ZhciBoPTEsaT1uZXcgZShiKSxqPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpO2kub2JzZXJ2ZShqLHtjaGFyYWN0ZXJEYXRhOiEwfSksZD1mdW5jdGlvbigpe2g9KGgrMSklMixqLmRhdGE9aH19ZWxzZSBkPXdpbmRvdy5zZXRJbW1lZGlhdGV8fHdpbmRvdy5zZXRUaW1lb3V0O2Euc2V0RW5kT2ZNaWNyb3Rhc2s9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2Euc2NoZWR1bGVkX3x8KGEuc2NoZWR1bGVkXz0hMCxvLnB1c2goYSkscHx8KGsoYykscD0hMCkpfWZ1bmN0aW9uIGMoKXtmb3IocD0hMTtvLmxlbmd0aDspe3ZhciBhPW87bz1bXSxhLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS51aWRfLWIudWlkX30pO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO2Muc2NoZWR1bGVkXz0hMTt2YXIgZD1jLnRha2VSZWNvcmRzKCk7ZihjKSxkLmxlbmd0aCYmYy5jYWxsYmFja18oZCxjKX19fWZ1bmN0aW9uIGQoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnJlbW92ZWROb2Rlcz1uZXcgbS5Ob2RlTGlzdCx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBlKGEsYil7Zm9yKDthO2E9YS5wYXJlbnROb2RlKXt2YXIgYz1uLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO2Uub3B0aW9ucy5zdWJ0cmVlJiZlLmFkZFRyYW5zaWVudE9ic2VydmVyKGIpfX19ZnVuY3Rpb24gZihhKXtmb3IodmFyIGI9MDtiPGEubm9kZXNfLmxlbmd0aDtiKyspe3ZhciBjPWEubm9kZXNfW2JdLGQ9bi5nZXQoYyk7aWYoIWQpcmV0dXJuO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO2Yub2JzZXJ2ZXI9PT1hJiZmLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfX19ZnVuY3Rpb24gZyhhLGMsZSl7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksZz1PYmplY3QuY3JlYXRlKG51bGwpLGg9YTtoO2g9aC5wYXJlbnROb2RlKXt2YXIgaT1uLmdldChoKTtpZihpKWZvcih2YXIgaj0wO2o8aS5sZW5ndGg7aisrKXt2YXIgaz1pW2pdLGw9ay5vcHRpb25zO2lmKChoPT09YXx8bC5zdWJ0cmVlKSYmIShcImF0dHJpYnV0ZXNcIj09PWMmJiFsLmF0dHJpYnV0ZXN8fFwiYXR0cmlidXRlc1wiPT09YyYmbC5hdHRyaWJ1dGVGaWx0ZXImJihudWxsIT09ZS5uYW1lc3BhY2V8fC0xPT09bC5hdHRyaWJ1dGVGaWx0ZXIuaW5kZXhPZihlLm5hbWUpKXx8XCJjaGFyYWN0ZXJEYXRhXCI9PT1jJiYhbC5jaGFyYWN0ZXJEYXRhfHxcImNoaWxkTGlzdFwiPT09YyYmIWwuY2hpbGRMaXN0KSl7dmFyIG09ay5vYnNlcnZlcjtmW20udWlkX109bSwoXCJhdHRyaWJ1dGVzXCI9PT1jJiZsLmF0dHJpYnV0ZU9sZFZhbHVlfHxcImNoYXJhY3RlckRhdGFcIj09PWMmJmwuY2hhcmFjdGVyRGF0YU9sZFZhbHVlKSYmKGdbbS51aWRfXT1lLm9sZFZhbHVlKX19fWZvcih2YXIgbyBpbiBmKXt2YXIgbT1mW29dLHA9bmV3IGQoYyxhKTtcIm5hbWVcImluIGUmJlwibmFtZXNwYWNlXCJpbiBlJiYocC5hdHRyaWJ1dGVOYW1lPWUubmFtZSxwLmF0dHJpYnV0ZU5hbWVzcGFjZT1lLm5hbWVzcGFjZSksZS5hZGRlZE5vZGVzJiYocC5hZGRlZE5vZGVzPWUuYWRkZWROb2RlcyksZS5yZW1vdmVkTm9kZXMmJihwLnJlbW92ZWROb2Rlcz1lLnJlbW92ZWROb2RlcyksZS5wcmV2aW91c1NpYmxpbmcmJihwLnByZXZpb3VzU2libGluZz1lLnByZXZpb3VzU2libGluZyksZS5uZXh0U2libGluZyYmKHAubmV4dFNpYmxpbmc9ZS5uZXh0U2libGluZyksdm9pZCAwIT09Z1tvXSYmKHAub2xkVmFsdWU9Z1tvXSksYihtKSxtLnJlY29yZHNfLnB1c2gocCl9fWZ1bmN0aW9uIGgoYSl7aWYodGhpcy5jaGlsZExpc3Q9ISFhLmNoaWxkTGlzdCx0aGlzLnN1YnRyZWU9ISFhLnN1YnRyZWUsdGhpcy5hdHRyaWJ1dGVzPVwiYXR0cmlidXRlc1wiaW4gYXx8IShcImF0dHJpYnV0ZU9sZFZhbHVlXCJpbiBhfHxcImF0dHJpYnV0ZUZpbHRlclwiaW4gYSk/ISFhLmF0dHJpYnV0ZXM6ITAsdGhpcy5jaGFyYWN0ZXJEYXRhPVwiY2hhcmFjdGVyRGF0YU9sZFZhbHVlXCJpbiBhJiYhKFwiY2hhcmFjdGVyRGF0YVwiaW4gYSk/ITA6ISFhLmNoYXJhY3RlckRhdGEsIXRoaXMuYXR0cmlidXRlcyYmKGEuYXR0cmlidXRlT2xkVmFsdWV8fFwiYXR0cmlidXRlRmlsdGVyXCJpbiBhKXx8IXRoaXMuY2hhcmFjdGVyRGF0YSYmYS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcjtpZih0aGlzLmNoYXJhY3RlckRhdGE9ISFhLmNoYXJhY3RlckRhdGEsdGhpcy5hdHRyaWJ1dGVPbGRWYWx1ZT0hIWEuYXR0cmlidXRlT2xkVmFsdWUsdGhpcy5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU9ISFhLmNoYXJhY3RlckRhdGFPbGRWYWx1ZSxcImF0dHJpYnV0ZUZpbHRlclwiaW4gYSl7aWYobnVsbD09YS5hdHRyaWJ1dGVGaWx0ZXJ8fFwib2JqZWN0XCIhPXR5cGVvZiBhLmF0dHJpYnV0ZUZpbHRlcil0aHJvdyBuZXcgVHlwZUVycm9yO3RoaXMuYXR0cmlidXRlRmlsdGVyPXEuY2FsbChhLmF0dHJpYnV0ZUZpbHRlcil9ZWxzZSB0aGlzLmF0dHJpYnV0ZUZpbHRlcj1udWxsfWZ1bmN0aW9uIGkoYSl7dGhpcy5jYWxsYmFja189YSx0aGlzLm5vZGVzXz1bXSx0aGlzLnJlY29yZHNfPVtdLHRoaXMudWlkXz0rK3IsdGhpcy5zY2hlZHVsZWRfPSExfWZ1bmN0aW9uIGooYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgaz1hLnNldEVuZE9mTWljcm90YXNrLGw9YS53cmFwSWZOZWVkZWQsbT1hLndyYXBwZXJzLG49bmV3IFdlYWtNYXAsbz1bXSxwPSExLHE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHI9MDtpLnByb3RvdHlwZT17Y29uc3RydWN0b3I6aSxvYnNlcnZlOmZ1bmN0aW9uKGEsYil7YT1sKGEpO3ZhciBjLGQ9bmV3IGgoYiksZT1uLmdldChhKTtlfHxuLnNldChhLGU9W10pO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKWVbZl0ub2JzZXJ2ZXI9PT10aGlzJiYoYz1lW2ZdLGMucmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzKCksYy5vcHRpb25zPWQpO2N8fChjPW5ldyBqKHRoaXMsYSxkKSxlLnB1c2goYyksdGhpcy5ub2Rlc18ucHVzaChhKSl9LGRpc2Nvbm5lY3Q6ZnVuY3Rpb24oKXt0aGlzLm5vZGVzXy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1uLmdldChhKSxjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107aWYoZC5vYnNlcnZlcj09PXRoaXMpe2Iuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fSxqLnByb3RvdHlwZT17YWRkVHJhbnNpZW50T2JzZXJ2ZXI6ZnVuY3Rpb24oYSl7aWYoYSE9PXRoaXMudGFyZ2V0KXtiKHRoaXMub2JzZXJ2ZXIpLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcy5wdXNoKGEpO3ZhciBjPW4uZ2V0KGEpO2N8fG4uc2V0KGEsYz1bXSksYy5wdXNoKHRoaXMpfX0scmVtb3ZlVHJhbnNpZW50T2JzZXJ2ZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50cmFuc2llbnRPYnNlcnZlZE5vZGVzO3RoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylmb3IodmFyIGM9YVtiXSxkPW4uZ2V0KGMpLGU9MDtlPGQubGVuZ3RoO2UrKylpZihkW2VdPT09dGhpcyl7ZC5zcGxpY2UoZSwxKTticmVha319fSxhLmVucXVldWVNdXRhdGlvbj1nLGEucmVnaXN0ZXJUcmFuc2llbnRPYnNlcnZlcnM9ZSxhLndyYXBwZXJzLk11dGF0aW9uT2JzZXJ2ZXI9aSxhLndyYXBwZXJzLk11dGF0aW9uUmVjb3JkPWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe3RoaXMucm9vdD1hLHRoaXMucGFyZW50PWJ9ZnVuY3Rpb24gYyhhLGIpe2lmKGEudHJlZVNjb3BlXyE9PWIpe2EudHJlZVNjb3BlXz1iO2Zvcih2YXIgZD1hLnNoYWRvd1Jvb3Q7ZDtkPWQub2xkZXJTaGFkb3dSb290KWQudHJlZVNjb3BlXy5wYXJlbnQ9Yjtmb3IodmFyIGU9YS5maXJzdENoaWxkO2U7ZT1lLm5leHRTaWJsaW5nKWMoZSxiKX19ZnVuY3Rpb24gZChjKXtpZihjIGluc3RhbmNlb2YgYS53cmFwcGVycy5XaW5kb3csYy50cmVlU2NvcGVfKXJldHVybiBjLnRyZWVTY29wZV87dmFyIGUsZj1jLnBhcmVudE5vZGU7cmV0dXJuIGU9Zj9kKGYpOm5ldyBiKGMsbnVsbCksYy50cmVlU2NvcGVfPWV9Yi5wcm90b3R5cGU9e2dldCByZW5kZXJlcigpe3JldHVybiB0aGlzLnJvb3QgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3Q/YS5nZXRSZW5kZXJlckZvckhvc3QodGhpcy5yb290Lmhvc3QpOm51bGx9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe2Zvcig7YTthPWEucGFyZW50KWlmKGE9PT10aGlzKXJldHVybiEwO3JldHVybiExfX0sYS5UcmVlU2NvcGU9YixhLmdldFRyZWVTY29wZT1kLGEuc2V0VHJlZVNjb3BlPWN9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFQuU2hhZG93Um9vdH1mdW5jdGlvbiBjKGEpe3JldHVybiBNKGEpLnJvb3R9ZnVuY3Rpb24gZChhLGQpe3ZhciBoPVtdLGk9YTtmb3IoaC5wdXNoKGkpO2k7KXt2YXIgaj1nKGkpO2lmKGomJmoubGVuZ3RoPjApe2Zvcih2YXIgaz0wO2s8ai5sZW5ndGg7aysrKXt2YXIgbT1qW2tdO2lmKGYobSkpe3ZhciBuPWMobSksbz1uLm9sZGVyU2hhZG93Um9vdDtvJiZoLnB1c2gobyl9aC5wdXNoKG0pfWk9altqLmxlbmd0aC0xXX1lbHNlIGlmKGIoaSkpe2lmKGwoYSxpKSYmZShkKSlicmVhaztpPWkuaG9zdCxoLnB1c2goaSl9ZWxzZSBpPWkucGFyZW50Tm9kZSxpJiZoLnB1c2goaSl9cmV0dXJuIGh9ZnVuY3Rpb24gZShhKXtpZighYSlyZXR1cm4hMTtzd2l0Y2goYS50eXBlKXtjYXNlXCJhYm9ydFwiOmNhc2VcImVycm9yXCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwiY2hhbmdlXCI6Y2FzZVwibG9hZFwiOmNhc2VcInJlc2V0XCI6Y2FzZVwicmVzaXplXCI6Y2FzZVwic2Nyb2xsXCI6Y2FzZVwic2VsZWN0c3RhcnRcIjpyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKGEpe3JldHVybiBhIGluc3RhbmNlb2YgSFRNTFNoYWRvd0VsZW1lbnR9ZnVuY3Rpb24gZyhiKXtyZXR1cm4gYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cyhiKX1mdW5jdGlvbiBoKGEsYil7aWYoMD09PWEubGVuZ3RoKXJldHVybiBiO2IgaW5zdGFuY2VvZiBULldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7Zm9yKHZhciBjPU0oYiksZD1hWzBdLGU9TShkKSxmPWooYyxlKSxnPTA7ZzxhLmxlbmd0aDtnKyspe3ZhciBoPWFbZ107aWYoTShoKT09PWYpcmV0dXJuIGh9cmV0dXJuIGFbYS5sZW5ndGgtMV19ZnVuY3Rpb24gaShhKXtmb3IodmFyIGI9W107YTthPWEucGFyZW50KWIucHVzaChhKTtyZXR1cm4gYn1mdW5jdGlvbiBqKGEsYil7Zm9yKHZhciBjPWkoYSksZD1pKGIpLGU9bnVsbDtjLmxlbmd0aD4wJiZkLmxlbmd0aD4wOyl7dmFyIGY9Yy5wb3AoKSxnPWQucG9wKCk7aWYoZiE9PWcpYnJlYWs7ZT1mfXJldHVybiBlfWZ1bmN0aW9uIGsoYSxiLGMpe2IgaW5zdGFuY2VvZiBULldpbmRvdyYmKGI9Yi5kb2N1bWVudCk7dmFyIGUsZj1NKGIpLGc9TShjKSxoPWQoYyxhKSxlPWooZixnKTtlfHwoZT1nLnJvb3QpO2Zvcih2YXIgaT1lO2k7aT1pLnBhcmVudClmb3IodmFyIGs9MDtrPGgubGVuZ3RoO2srKyl7dmFyIGw9aFtrXTtpZihNKGwpPT09aSlyZXR1cm4gbH1yZXR1cm4gbnVsbH1mdW5jdGlvbiBsKGEsYil7cmV0dXJuIE0oYSk9PT1NKGIpfWZ1bmN0aW9uIG0oYSl7aWYoIVYuZ2V0KGEpJiYoVi5zZXQoYSwhMCksbyhTKGEpLFMoYS50YXJnZXQpKSxLKSl7dmFyIGI9Szt0aHJvdyBLPW51bGwsYn19ZnVuY3Rpb24gbihhKXtzd2l0Y2goYS50eXBlKXtjYXNlXCJsb2FkXCI6Y2FzZVwiYmVmb3JldW5sb2FkXCI6Y2FzZVwidW5sb2FkXCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbyhiLGMpe2lmKFcuZ2V0KGIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWRTdGF0ZUVycm9yXCIpO1cuc2V0KGIsITApLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlLGYsZztpZihuKGIpJiYhYi5idWJibGVzKXt2YXIgaD1jO2ggaW5zdGFuY2VvZiBULkRvY3VtZW50JiYoZz1oLmRlZmF1bHRWaWV3KSYmKGY9aCxlPVtdKX1pZighZSlpZihjIGluc3RhbmNlb2YgVC5XaW5kb3cpZz1jLGU9W107ZWxzZSBpZihlPWQoYyxiKSwhbihiKSl7dmFyIGg9ZVtlLmxlbmd0aC0xXTtoIGluc3RhbmNlb2YgVC5Eb2N1bWVudCYmKGc9aC5kZWZhdWx0Vmlldyl9cmV0dXJuIGNiLnNldChiLGUpLHAoYixlLGcsZikmJnEoYixlLGcsZikmJnIoYixlLGcsZiksJC5zZXQoYixkYiksWS5kZWxldGUoYixudWxsKSxXLmRlbGV0ZShiKSxiLmRlZmF1bHRQcmV2ZW50ZWR9ZnVuY3Rpb24gcChhLGIsYyxkKXt2YXIgZT1lYjtpZihjJiYhcyhjLGEsZSxiLGQpKXJldHVybiExO2Zvcih2YXIgZj1iLmxlbmd0aC0xO2Y+MDtmLS0paWYoIXMoYltmXSxhLGUsYixkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBxKGEsYixjLGQpe3ZhciBlPWZiLGY9YlswXXx8YztyZXR1cm4gcyhmLGEsZSxiLGQpfWZ1bmN0aW9uIHIoYSxiLGMsZCl7Zm9yKHZhciBlPWdiLGY9MTtmPGIubGVuZ3RoO2YrKylpZighcyhiW2ZdLGEsZSxiLGQpKXJldHVybjtjJiZiLmxlbmd0aD4wJiZzKGMsYSxlLGIsZCl9ZnVuY3Rpb24gcyhhLGIsYyxkLGUpe3ZhciBmPVUuZ2V0KGEpO2lmKCFmKXJldHVybiEwO3ZhciBnPWV8fGgoZCxhKTtpZihnPT09YSl7aWYoYz09PWViKXJldHVybiEwO2M9PT1nYiYmKGM9ZmIpfWVsc2UgaWYoYz09PWdiJiYhYi5idWJibGVzKXJldHVybiEwO2lmKFwicmVsYXRlZFRhcmdldFwiaW4gYil7dmFyIGk9UihiKSxqPWkucmVsYXRlZFRhcmdldDtpZihqKXtpZihqIGluc3RhbmNlb2YgT2JqZWN0JiZqLmFkZEV2ZW50TGlzdGVuZXIpe3ZhciBsPVMoaiksbT1rKGIsYSxsKTtpZihtPT09ZylyZXR1cm4hMH1lbHNlIG09bnVsbDtaLnNldChiLG0pfX0kLnNldChiLGMpO3ZhciBuPWIudHlwZSxvPSExO1guc2V0KGIsZyksWS5zZXQoYixhKSxmLmRlcHRoKys7Zm9yKHZhciBwPTAscT1mLmxlbmd0aDtxPnA7cCsrKXt2YXIgcj1mW3BdO2lmKHIucmVtb3ZlZClvPSEwO2Vsc2UgaWYoIShyLnR5cGUhPT1ufHwhci5jYXB0dXJlJiZjPT09ZWJ8fHIuY2FwdHVyZSYmYz09PWdiKSl0cnl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygci5oYW5kbGVyP3IuaGFuZGxlci5jYWxsKGEsYik6ci5oYW5kbGVyLmhhbmRsZUV2ZW50KGIpLGFiLmdldChiKSlyZXR1cm4hMX1jYXRjaChzKXtLfHwoSz1zKX19aWYoZi5kZXB0aC0tLG8mJjA9PT1mLmRlcHRoKXt2YXIgdD1mLnNsaWNlKCk7Zi5sZW5ndGg9MDtmb3IodmFyIHA9MDtwPHQubGVuZ3RoO3ArKyl0W3BdLnJlbW92ZWR8fGYucHVzaCh0W3BdKX1yZXR1cm4hXy5nZXQoYil9ZnVuY3Rpb24gdChhLGIsYyl7dGhpcy50eXBlPWEsdGhpcy5oYW5kbGVyPWIsdGhpcy5jYXB0dXJlPUJvb2xlYW4oYyl9ZnVuY3Rpb24gdShhLGIpe2lmKCEoYSBpbnN0YW5jZW9mIGhiKSlyZXR1cm4gUyh5KGhiLFwiRXZlbnRcIixhLGIpKTt2YXIgYz1hO3JldHVybiBzYnx8XCJiZWZvcmV1bmxvYWRcIiE9PWMudHlwZXx8dGhpcyBpbnN0YW5jZW9mIHo/dm9pZCBQKGMsdGhpcyk6bmV3IHooYyl9ZnVuY3Rpb24gdihhKXtyZXR1cm4gYSYmYS5yZWxhdGVkVGFyZ2V0P09iamVjdC5jcmVhdGUoYSx7cmVsYXRlZFRhcmdldDp7dmFsdWU6UihhLnJlbGF0ZWRUYXJnZXQpfX0pOmF9ZnVuY3Rpb24gdyhhLGIsYyl7dmFyIGQ9d2luZG93W2FdLGU9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYiBpbnN0YW5jZW9mIGQ/dm9pZCBQKGIsdGhpcyk6Uyh5KGQsYSxiLGMpKX07aWYoZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShiLnByb3RvdHlwZSksYyYmTihlLnByb3RvdHlwZSxjKSxkKXRyeXtPKGQsZSxuZXcgZChcInRlbXBcIikpfWNhdGNoKGYpe08oZCxlLGRvY3VtZW50LmNyZWF0ZUV2ZW50KGEpKX1yZXR1cm4gZX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7YXJndW1lbnRzW2JdPVIoYXJndW1lbnRzW2JdKTt2YXIgYz1SKHRoaXMpO2NbYV0uYXBwbHkoYyxhcmd1bWVudHMpfX1mdW5jdGlvbiB5KGEsYixjLGQpe2lmKHFiKXJldHVybiBuZXcgYShjLHYoZCkpO3ZhciBlPVIoZG9jdW1lbnQuY3JlYXRlRXZlbnQoYikpLGY9cGJbYl0sZz1bY107cmV0dXJuIE9iamVjdC5rZXlzKGYpLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGI9bnVsbCE9ZCYmYSBpbiBkP2RbYV06ZlthXTtcInJlbGF0ZWRUYXJnZXRcIj09PWEmJihiPVIoYikpLGcucHVzaChiKX0pLGVbXCJpbml0XCIrYl0uYXBwbHkoZSxnKSxlfWZ1bmN0aW9uIHooYSl7dS5jYWxsKHRoaXMsYSl9ZnVuY3Rpb24gQShhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhPyEwOmEmJmEuaGFuZGxlRXZlbnR9ZnVuY3Rpb24gQihhKXtzd2l0Y2goYSl7Y2FzZVwiRE9NQXR0ck1vZGlmaWVkXCI6Y2FzZVwiRE9NQXR0cmlidXRlTmFtZUNoYW5nZWRcIjpjYXNlXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIjpjYXNlXCJET01FbGVtZW50TmFtZUNoYW5nZWRcIjpjYXNlXCJET01Ob2RlSW5zZXJ0ZWRcIjpjYXNlXCJET01Ob2RlSW5zZXJ0ZWRJbnRvRG9jdW1lbnRcIjpjYXNlXCJET01Ob2RlUmVtb3ZlZFwiOmNhc2VcIkRPTU5vZGVSZW1vdmVkRnJvbURvY3VtZW50XCI6Y2FzZVwiRE9NU3VidHJlZU1vZGlmaWVkXCI6cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gQyhhKXtQKGEsdGhpcyl9ZnVuY3Rpb24gRChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIFQuU2hhZG93Um9vdCYmKGE9YS5ob3N0KSxSKGEpfWZ1bmN0aW9uIEUoYSxiKXt2YXIgYz1VLmdldChhKTtpZihjKWZvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKWlmKCFjW2RdLnJlbW92ZWQmJmNbZF0udHlwZT09PWIpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gRihhLGIpe2Zvcih2YXIgYz1SKGEpO2M7Yz1jLnBhcmVudE5vZGUpaWYoRShTKGMpLGIpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEcoYSl7TChhLHViKX1mdW5jdGlvbiBIKGIsYyxlLGYpe2EucmVuZGVyQWxsUGVuZGluZygpO3ZhciBnPVModmIuY2FsbChRKGMpLGUsZikpO2lmKCFnKXJldHVybiBudWxsO3ZhciBpPWQoZyxudWxsKSxqPWkubGFzdEluZGV4T2YoYik7cmV0dXJuLTE9PWo/bnVsbDooaT1pLnNsaWNlKDAsaiksaChpLGIpKX1mdW5jdGlvbiBJKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiPWJiLmdldCh0aGlzKTtcbnJldHVybiBiJiZiW2FdJiZiW2FdLnZhbHVlfHxudWxsfX1mdW5jdGlvbiBKKGEpe3ZhciBiPWEuc2xpY2UoMik7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWJiLmdldCh0aGlzKTtkfHwoZD1PYmplY3QuY3JlYXRlKG51bGwpLGJiLnNldCh0aGlzLGQpKTt2YXIgZT1kW2FdO2lmKGUmJnRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGUud3JhcHBlZCwhMSksXCJmdW5jdGlvblwiPT10eXBlb2YgYyl7dmFyIGY9ZnVuY3Rpb24oYil7dmFyIGQ9Yy5jYWxsKHRoaXMsYik7ZD09PSExP2IucHJldmVudERlZmF1bHQoKTpcIm9uYmVmb3JldW5sb2FkXCI9PT1hJiZcInN0cmluZ1wiPT10eXBlb2YgZCYmKGIucmV0dXJuVmFsdWU9ZCl9O3RoaXMuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRbYV09e3ZhbHVlOmMsd3JhcHBlZDpmfX19fXZhciBLLEw9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcixNPWEuZ2V0VHJlZVNjb3BlLE49YS5taXhpbixPPWEucmVnaXN0ZXJXcmFwcGVyLFA9YS5zZXRXcmFwcGVyLFE9YS51bnNhZmVVbndyYXAsUj1hLnVud3JhcCxTPWEud3JhcCxUPWEud3JhcHBlcnMsVT0obmV3IFdlYWtNYXAsbmV3IFdlYWtNYXApLFY9bmV3IFdlYWtNYXAsVz1uZXcgV2Vha01hcCxYPW5ldyBXZWFrTWFwLFk9bmV3IFdlYWtNYXAsWj1uZXcgV2Vha01hcCwkPW5ldyBXZWFrTWFwLF89bmV3IFdlYWtNYXAsYWI9bmV3IFdlYWtNYXAsYmI9bmV3IFdlYWtNYXAsY2I9bmV3IFdlYWtNYXAsZGI9MCxlYj0xLGZiPTIsZ2I9Mzt0LnByb3RvdHlwZT17ZXF1YWxzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmhhbmRsZXI9PT1hLmhhbmRsZXImJnRoaXMudHlwZT09PWEudHlwZSYmdGhpcy5jYXB0dXJlPT09YS5jYXB0dXJlfSxnZXQgcmVtb3ZlZCgpe3JldHVybiBudWxsPT09dGhpcy5oYW5kbGVyfSxyZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLmhhbmRsZXI9bnVsbH19O3ZhciBoYj13aW5kb3cuRXZlbnQ7aGIucHJvdG90eXBlLnBvbHltZXJCbGFja0xpc3RfPXtyZXR1cm5WYWx1ZTohMCxrZXlMb2NhdGlvbjohMH0sdS5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gWC5nZXQodGhpcyl9LGdldCBjdXJyZW50VGFyZ2V0KCl7cmV0dXJuIFkuZ2V0KHRoaXMpfSxnZXQgZXZlbnRQaGFzZSgpe3JldHVybiAkLmdldCh0aGlzKX0sZ2V0IHBhdGgoKXt2YXIgYT1jYi5nZXQodGhpcyk7cmV0dXJuIGE/YS5zbGljZSgpOltdfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtfLnNldCh0aGlzLCEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7Xy5zZXQodGhpcywhMCksYWIuc2V0KHRoaXMsITApfX0sTyhoYix1LGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpO3ZhciBpYj13KFwiVUlFdmVudFwiLHUpLGpiPXcoXCJDdXN0b21FdmVudFwiLHUpLGtiPXtnZXQgcmVsYXRlZFRhcmdldCgpe3ZhciBhPVouZ2V0KHRoaXMpO3JldHVybiB2b2lkIDAhPT1hP2E6UyhSKHRoaXMpLnJlbGF0ZWRUYXJnZXQpfX0sbGI9Tih7aW5pdE1vdXNlRXZlbnQ6eChcImluaXRNb3VzZUV2ZW50XCIsMTQpfSxrYiksbWI9Tih7aW5pdEZvY3VzRXZlbnQ6eChcImluaXRGb2N1c0V2ZW50XCIsNSl9LGtiKSxuYj13KFwiTW91c2VFdmVudFwiLGliLGxiKSxvYj13KFwiRm9jdXNFdmVudFwiLGliLG1iKSxwYj1PYmplY3QuY3JlYXRlKG51bGwpLHFiPWZ1bmN0aW9uKCl7dHJ5e25ldyB3aW5kb3cuRm9jdXNFdmVudChcImZvY3VzXCIpfWNhdGNoKGEpe3JldHVybiExfXJldHVybiEwfSgpO2lmKCFxYil7dmFyIHJiPWZ1bmN0aW9uKGEsYixjKXtpZihjKXt2YXIgZD1wYltjXTtiPU4oTih7fSxkKSxiKX1wYlthXT1ifTtyYihcIkV2ZW50XCIse2J1YmJsZXM6ITEsY2FuY2VsYWJsZTohMX0pLHJiKFwiQ3VzdG9tRXZlbnRcIix7ZGV0YWlsOm51bGx9LFwiRXZlbnRcIikscmIoXCJVSUV2ZW50XCIse3ZpZXc6bnVsbCxkZXRhaWw6MH0sXCJFdmVudFwiKSxyYihcIk1vdXNlRXZlbnRcIix7c2NyZWVuWDowLHNjcmVlblk6MCxjbGllbnRYOjAsY2xpZW50WTowLGN0cmxLZXk6ITEsYWx0S2V5OiExLHNoaWZ0S2V5OiExLG1ldGFLZXk6ITEsYnV0dG9uOjAscmVsYXRlZFRhcmdldDpudWxsfSxcIlVJRXZlbnRcIikscmIoXCJGb2N1c0V2ZW50XCIse3JlbGF0ZWRUYXJnZXQ6bnVsbH0sXCJVSUV2ZW50XCIpfXZhciBzYj13aW5kb3cuQmVmb3JlVW5sb2FkRXZlbnQ7ei5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh1LnByb3RvdHlwZSksTih6LnByb3RvdHlwZSx7Z2V0IHJldHVyblZhbHVlKCl7cmV0dXJuIFEodGhpcykucmV0dXJuVmFsdWV9LHNldCByZXR1cm5WYWx1ZShhKXtRKHRoaXMpLnJldHVyblZhbHVlPWF9fSksc2ImJk8oc2Iseik7dmFyIHRiPXdpbmRvdy5FdmVudFRhcmdldCx1Yj1bXCJhZGRFdmVudExpc3RlbmVyXCIsXCJyZW1vdmVFdmVudExpc3RlbmVyXCIsXCJkaXNwYXRjaEV2ZW50XCJdO1tOb2RlLFdpbmRvd10uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1hLnByb3RvdHlwZTt1Yi5mb3JFYWNoKGZ1bmN0aW9uKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShiLGErXCJfXCIse3ZhbHVlOmJbYV19KX0pfSksQy5wcm90b3R5cGU9e2FkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2lmKEEoYikmJiFCKGEpKXt2YXIgZD1uZXcgdChhLGIsYyksZT1VLmdldCh0aGlzKTtpZihlKXtmb3IodmFyIGY9MDtmPGUubGVuZ3RoO2YrKylpZihkLmVxdWFscyhlW2ZdKSlyZXR1cm59ZWxzZSBlPVtdLGUuZGVwdGg9MCxVLnNldCh0aGlzLGUpO2UucHVzaChkKTt2YXIgZz1EKHRoaXMpO2cuYWRkRXZlbnRMaXN0ZW5lcl8oYSxtLCEwKX19LHJlbW92ZUV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oYSxiLGMpe2M9Qm9vbGVhbihjKTt2YXIgZD1VLmdldCh0aGlzKTtpZihkKXtmb3IodmFyIGU9MCxmPSExLGc9MDtnPGQubGVuZ3RoO2crKylkW2ddLnR5cGU9PT1hJiZkW2ddLmNhcHR1cmU9PT1jJiYoZSsrLGRbZ10uaGFuZGxlcj09PWImJihmPSEwLGRbZ10ucmVtb3ZlKCkpKTtpZihmJiYxPT09ZSl7dmFyIGg9RCh0aGlzKTtoLnJlbW92ZUV2ZW50TGlzdGVuZXJfKGEsbSwhMCl9fX0sZGlzcGF0Y2hFdmVudDpmdW5jdGlvbihiKXt2YXIgYz1SKGIpLGQ9Yy50eXBlO1Yuc2V0KGMsITEpLGEucmVuZGVyQWxsUGVuZGluZygpO3ZhciBlO0YodGhpcyxkKXx8KGU9ZnVuY3Rpb24oKXt9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihkLGUsITApKTt0cnl7cmV0dXJuIFIodGhpcykuZGlzcGF0Y2hFdmVudF8oYyl9ZmluYWxseXtlJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZCxlLCEwKX19fSx0YiYmTyh0YixDKTt2YXIgdmI9ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludDthLmVsZW1lbnRGcm9tUG9pbnQ9SCxhLmdldEV2ZW50SGFuZGxlckdldHRlcj1JLGEuZ2V0RXZlbnRIYW5kbGVyU2V0dGVyPUosYS53cmFwRXZlbnRUYXJnZXRNZXRob2RzPUcsYS53cmFwcGVycy5CZWZvcmVVbmxvYWRFdmVudD16LGEud3JhcHBlcnMuQ3VzdG9tRXZlbnQ9amIsYS53cmFwcGVycy5FdmVudD11LGEud3JhcHBlcnMuRXZlbnRUYXJnZXQ9QyxhLndyYXBwZXJzLkZvY3VzRXZlbnQ9b2IsYS53cmFwcGVycy5Nb3VzZUV2ZW50PW5iLGEud3JhcHBlcnMuVUlFdmVudD1pYn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEsYil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsYixwKX1mdW5jdGlvbiBjKGEpe2ooYSx0aGlzKX1mdW5jdGlvbiBkKCl7dGhpcy5sZW5ndGg9MCxiKHRoaXMsXCJsZW5ndGhcIil9ZnVuY3Rpb24gZShhKXtmb3IodmFyIGI9bmV3IGQsZT0wO2U8YS5sZW5ndGg7ZSsrKWJbZV09bmV3IGMoYVtlXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBmKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBnPWEud3JhcHBlcnMuVUlFdmVudCxoPWEubWl4aW4saT1hLnJlZ2lzdGVyV3JhcHBlcixqPWEuc2V0V3JhcHBlcixrPWEudW5zYWZlVW53cmFwLGw9YS53cmFwLG09d2luZG93LlRvdWNoRXZlbnQ7aWYobSl7dmFyIG47dHJ5e249ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJUb3VjaEV2ZW50XCIpfWNhdGNoKG8pe3JldHVybn12YXIgcD17ZW51bWVyYWJsZTohMX07Yy5wcm90b3R5cGU9e2dldCB0YXJnZXQoKXtyZXR1cm4gbChrKHRoaXMpLnRhcmdldCl9fTt2YXIgcT17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsZ2V0Om51bGx9O1tcImNsaWVudFhcIixcImNsaWVudFlcIixcInNjcmVlblhcIixcInNjcmVlbllcIixcInBhZ2VYXCIsXCJwYWdlWVwiLFwiaWRlbnRpZmllclwiLFwid2Via2l0UmFkaXVzWFwiLFwid2Via2l0UmFkaXVzWVwiLFwid2Via2l0Um90YXRpb25BbmdsZVwiLFwid2Via2l0Rm9yY2VcIl0uZm9yRWFjaChmdW5jdGlvbihhKXtxLmdldD1mdW5jdGlvbigpe3JldHVybiBrKHRoaXMpW2FdfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsYSxxKX0pLGQucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sZi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksaChmLnByb3RvdHlwZSx7Z2V0IHRvdWNoZXMoKXtyZXR1cm4gZShrKHRoaXMpLnRvdWNoZXMpfSxnZXQgdGFyZ2V0VG91Y2hlcygpe3JldHVybiBlKGsodGhpcykudGFyZ2V0VG91Y2hlcyl9LGdldCBjaGFuZ2VkVG91Y2hlcygpe3JldHVybiBlKGsodGhpcykuY2hhbmdlZFRvdWNoZXMpfSxpbml0VG91Y2hFdmVudDpmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKX19KSxpKG0sZixuKSxhLndyYXBwZXJzLlRvdWNoPWMsYS53cmFwcGVycy5Ub3VjaEV2ZW50PWYsYS53cmFwcGVycy5Ub3VjaExpc3Q9ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhLGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShhLGIsaCl9ZnVuY3Rpb24gYygpe3RoaXMubGVuZ3RoPTAsYih0aGlzLFwibGVuZ3RoXCIpfWZ1bmN0aW9uIGQoYSl7aWYobnVsbD09YSlyZXR1cm4gYTtmb3IodmFyIGI9bmV3IGMsZD0wLGU9YS5sZW5ndGg7ZT5kO2QrKyliW2RdPWcoYVtkXSk7cmV0dXJuIGIubGVuZ3RoPWUsYn1mdW5jdGlvbiBlKGEsYil7YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gZChmKHRoaXMpW2JdLmFwcGx5KGYodGhpcyksYXJndW1lbnRzKSl9fXZhciBmPWEudW5zYWZlVW53cmFwLGc9YS53cmFwLGg9e2VudW1lcmFibGU6ITF9O2MucHJvdG90eXBlPXtpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2FdfX0sYihjLnByb3RvdHlwZSxcIml0ZW1cIiksYS53cmFwcGVycy5Ob2RlTGlzdD1jLGEuYWRkV3JhcE5vZGVMaXN0TWV0aG9kPWUsYS53cmFwTm9kZUxpc3Q9ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjthLndyYXBIVE1MQ29sbGVjdGlvbj1hLndyYXBOb2RlTGlzdCxhLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uPWEud3JhcHBlcnMuTm9kZUxpc3R9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtBKGEgaW5zdGFuY2VvZiB3KX1mdW5jdGlvbiBjKGEpe3ZhciBiPW5ldyB5O3JldHVybiBiWzBdPWEsYi5sZW5ndGg9MSxifWZ1bmN0aW9uIGQoYSxiLGMpe0MoYixcImNoaWxkTGlzdFwiLHtyZW1vdmVkTm9kZXM6YyxwcmV2aW91c1NpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmcsbmV4dFNpYmxpbmc6YS5uZXh0U2libGluZ30pfWZ1bmN0aW9uIGUoYSxiKXtDKGEsXCJjaGlsZExpc3RcIix7cmVtb3ZlZE5vZGVzOmJ9KX1mdW5jdGlvbiBmKGEsYixkLGUpe2lmKGEgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KXt2YXIgZj1oKGEpO1A9ITA7Zm9yKHZhciBnPWYubGVuZ3RoLTE7Zz49MDtnLS0pYS5yZW1vdmVDaGlsZChmW2ddKSxmW2ddLnBhcmVudE5vZGVfPWI7UD0hMTtmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylmW2ddLnByZXZpb3VzU2libGluZ189ZltnLTFdfHxkLGZbZ10ubmV4dFNpYmxpbmdfPWZbZysxXXx8ZTtyZXR1cm4gZCYmKGQubmV4dFNpYmxpbmdfPWZbMF0pLGUmJihlLnByZXZpb3VzU2libGluZ189ZltmLmxlbmd0aC0xXSksZn12YXIgZj1jKGEpLGk9YS5wYXJlbnROb2RlO3JldHVybiBpJiZpLnJlbW92ZUNoaWxkKGEpLGEucGFyZW50Tm9kZV89YixhLnByZXZpb3VzU2libGluZ189ZCxhLm5leHRTaWJsaW5nXz1lLGQmJihkLm5leHRTaWJsaW5nXz1hKSxlJiYoZS5wcmV2aW91c1NpYmxpbmdfPWEpLGZ9ZnVuY3Rpb24gZyhhKXtpZihhIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudClyZXR1cm4gaChhKTt2YXIgYj1jKGEpLGU9YS5wYXJlbnROb2RlO3JldHVybiBlJiZkKGEsZSxiKSxifWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiPW5ldyB5LGM9MCxkPWEuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZyliW2MrK109ZDtyZXR1cm4gYi5sZW5ndGg9YyxlKGEsYiksYn1mdW5jdGlvbiBpKGEpe3JldHVybiBhfWZ1bmN0aW9uIGooYSxiKXtJKGEsYiksYS5ub2RlSXNJbnNlcnRlZF8oKX1mdW5jdGlvbiBrKGEsYil7Zm9yKHZhciBjPUQoYiksZD0wO2Q8YS5sZW5ndGg7ZCsrKWooYVtkXSxjKX1mdW5jdGlvbiBsKGEpe0koYSxuZXcgeihhLG51bGwpKX1mdW5jdGlvbiBtKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKWwoYVtiXSl9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubm9kZVR5cGU9PT13LkRPQ1VNRU5UX05PREU/YTphLm93bmVyRG9jdW1lbnQ7YyE9PWIub3duZXJEb2N1bWVudCYmYy5hZG9wdE5vZGUoYil9ZnVuY3Rpb24gbyhiLGMpe2lmKGMubGVuZ3RoKXt2YXIgZD1iLm93bmVyRG9jdW1lbnQ7aWYoZCE9PWNbMF0ub3duZXJEb2N1bWVudClmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKylhLmFkb3B0Tm9kZU5vUmVtb3ZlKGNbZV0sZCl9fWZ1bmN0aW9uIHAoYSxiKXtvKGEsYik7dmFyIGM9Yi5sZW5ndGg7aWYoMT09PWMpcmV0dXJuIEsoYlswXSk7Zm9yKHZhciBkPUsoYS5vd25lckRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSksZT0wO2M+ZTtlKyspZC5hcHBlbmRDaGlsZChLKGJbZV0pKTtyZXR1cm4gZH1mdW5jdGlvbiBxKGEpe2lmKHZvaWQgMCE9PWEuZmlyc3RDaGlsZF8pZm9yKHZhciBiPWEuZmlyc3RDaGlsZF87Yjspe3ZhciBjPWI7Yj1iLm5leHRTaWJsaW5nXyxjLnBhcmVudE5vZGVfPWMucHJldmlvdXNTaWJsaW5nXz1jLm5leHRTaWJsaW5nXz12b2lkIDB9YS5maXJzdENoaWxkXz1hLmxhc3RDaGlsZF89dm9pZCAwfWZ1bmN0aW9uIHIoYSl7aWYoYS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7Zm9yKHZhciBiPWEuZmlyc3RDaGlsZDtiOyl7QShiLnBhcmVudE5vZGU9PT1hKTt2YXIgYz1iLm5leHRTaWJsaW5nLGQ9SyhiKSxlPWQucGFyZW50Tm9kZTtlJiZXLmNhbGwoZSxkKSxiLnByZXZpb3VzU2libGluZ189Yi5uZXh0U2libGluZ189Yi5wYXJlbnROb2RlXz1udWxsLGI9Y31hLmZpcnN0Q2hpbGRfPWEubGFzdENoaWxkXz1udWxsfWVsc2UgZm9yKHZhciBjLGY9SyhhKSxnPWYuZmlyc3RDaGlsZDtnOyljPWcubmV4dFNpYmxpbmcsVy5jYWxsKGYsZyksZz1jfWZ1bmN0aW9uIHMoYSl7dmFyIGI9YS5wYXJlbnROb2RlO3JldHVybiBiJiZiLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpfWZ1bmN0aW9uIHQoYSl7Zm9yKHZhciBiLGM9MDtjPGEubGVuZ3RoO2MrKyliPWFbY10sYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIHUoYSxiLGMpe3ZhciBkO2lmKGQ9TShjP1EuY2FsbChjLEooYSksITEpOlIuY2FsbChKKGEpLCExKSksYil7Zm9yKHZhciBlPWEuZmlyc3RDaGlsZDtlO2U9ZS5uZXh0U2libGluZylkLmFwcGVuZENoaWxkKHUoZSwhMCxjKSk7aWYoYSBpbnN0YW5jZW9mIE8uSFRNTFRlbXBsYXRlRWxlbWVudClmb3IodmFyIGY9ZC5jb250ZW50LGU9YS5jb250ZW50LmZpcnN0Q2hpbGQ7ZTtlPWUubmV4dFNpYmxpbmcpZi5hcHBlbmRDaGlsZCh1KGUsITAsYykpfXJldHVybiBkfWZ1bmN0aW9uIHYoYSxiKXtpZighYnx8RChhKSE9PUQoYikpcmV0dXJuITE7Zm9yKHZhciBjPWI7YztjPWMucGFyZW50Tm9kZSlpZihjPT09YSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB3KGEpe0EoYSBpbnN0YW5jZW9mIFMpLHguY2FsbCh0aGlzLGEpLHRoaXMucGFyZW50Tm9kZV89dm9pZCAwLHRoaXMuZmlyc3RDaGlsZF89dm9pZCAwLHRoaXMubGFzdENoaWxkXz12b2lkIDAsdGhpcy5uZXh0U2libGluZ189dm9pZCAwLHRoaXMucHJldmlvdXNTaWJsaW5nXz12b2lkIDAsdGhpcy50cmVlU2NvcGVfPXZvaWQgMH12YXIgeD1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LHk9YS53cmFwcGVycy5Ob2RlTGlzdCx6PWEuVHJlZVNjb3BlLEE9YS5hc3NlcnQsQj1hLmRlZmluZVdyYXBHZXR0ZXIsQz1hLmVucXVldWVNdXRhdGlvbixEPWEuZ2V0VHJlZVNjb3BlLEU9YS5pc1dyYXBwZXIsRj1hLm1peGluLEc9YS5yZWdpc3RlclRyYW5zaWVudE9ic2VydmVycyxIPWEucmVnaXN0ZXJXcmFwcGVyLEk9YS5zZXRUcmVlU2NvcGUsSj1hLnVuc2FmZVVud3JhcCxLPWEudW53cmFwLEw9YS51bndyYXBJZk5lZWRlZCxNPWEud3JhcCxOPWEud3JhcElmTmVlZGVkLE89YS53cmFwcGVycyxQPSExLFE9ZG9jdW1lbnQuaW1wb3J0Tm9kZSxSPXdpbmRvdy5Ob2RlLnByb3RvdHlwZS5jbG9uZU5vZGUsUz13aW5kb3cuTm9kZSxUPXdpbmRvdy5Eb2N1bWVudEZyYWdtZW50LFU9KFMucHJvdG90eXBlLmFwcGVuZENoaWxkLFMucHJvdG90eXBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSxWPVMucHJvdG90eXBlLmluc2VydEJlZm9yZSxXPVMucHJvdG90eXBlLnJlbW92ZUNoaWxkLFg9Uy5wcm90b3R5cGUucmVwbGFjZUNoaWxkLFk9L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksWj1ZP2Z1bmN0aW9uKGEsYil7dHJ5e1cuY2FsbChhLGIpfWNhdGNoKGMpe2lmKCEoYSBpbnN0YW5jZW9mIFQpKXRocm93IGN9fTpmdW5jdGlvbihhLGIpe1cuY2FsbChhLGIpfTt3LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHgucHJvdG90eXBlKSxGKHcucHJvdG90eXBlLHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnNlcnRCZWZvcmUoYSxudWxsKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyl7YihhKTt2YXIgZDtjP0UoYyk/ZD1LKGMpOihkPWMsYz1NKGQpKTooYz1udWxsLGQ9bnVsbCksYyYmQShjLnBhcmVudE5vZGU9PT10aGlzKTt2YXIgZSxoPWM/Yy5wcmV2aW91c1NpYmxpbmc6dGhpcy5sYXN0Q2hpbGQsaT0hdGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSYmIXMoYSk7aWYoZT1pP2coYSk6ZihhLHRoaXMsaCxjKSxpKW4odGhpcyxhKSxxKHRoaXMpLFYuY2FsbChKKHRoaXMpLEsoYSksZCk7ZWxzZXtofHwodGhpcy5maXJzdENoaWxkXz1lWzBdKSxjfHwodGhpcy5sYXN0Q2hpbGRfPWVbZS5sZW5ndGgtMV0sdm9pZCAwPT09dGhpcy5maXJzdENoaWxkXyYmKHRoaXMuZmlyc3RDaGlsZF89dGhpcy5maXJzdENoaWxkKSk7dmFyIGo9ZD9kLnBhcmVudE5vZGU6Sih0aGlzKTtqP1YuY2FsbChqLHAodGhpcyxlKSxkKTpvKHRoaXMsZSl9cmV0dXJuIEModGhpcyxcImNoaWxkTGlzdFwiLHthZGRlZE5vZGVzOmUsbmV4dFNpYmxpbmc6YyxwcmV2aW91c1NpYmxpbmc6aH0pLGsoZSx0aGlzKSxhfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihhKXtpZihiKGEpLGEucGFyZW50Tm9kZSE9PXRoaXMpe2Zvcih2YXIgZD0hMSxlPSh0aGlzLmNoaWxkTm9kZXMsdGhpcy5maXJzdENoaWxkKTtlO2U9ZS5uZXh0U2libGluZylpZihlPT09YSl7ZD0hMDticmVha31pZighZCl0aHJvdyBuZXcgRXJyb3IoXCJOb3RGb3VuZEVycm9yXCIpfXZhciBmPUsoYSksZz1hLm5leHRTaWJsaW5nLGg9YS5wcmV2aW91c1NpYmxpbmc7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7dmFyIGk9dGhpcy5maXJzdENoaWxkLGo9dGhpcy5sYXN0Q2hpbGQsaz1mLnBhcmVudE5vZGU7ayYmWihrLGYpLGk9PT1hJiYodGhpcy5maXJzdENoaWxkXz1nKSxqPT09YSYmKHRoaXMubGFzdENoaWxkXz1oKSxoJiYoaC5uZXh0U2libGluZ189ZyksZyYmKGcucHJldmlvdXNTaWJsaW5nXz1oKSxhLnByZXZpb3VzU2libGluZ189YS5uZXh0U2libGluZ189YS5wYXJlbnROb2RlXz12b2lkIDB9ZWxzZSBxKHRoaXMpLFooSih0aGlzKSxmKTtyZXR1cm4gUHx8Qyh0aGlzLFwiY2hpbGRMaXN0XCIse3JlbW92ZWROb2RlczpjKGEpLG5leHRTaWJsaW5nOmcscHJldmlvdXNTaWJsaW5nOmh9KSxHKHRoaXMsYSksYX0scmVwbGFjZUNoaWxkOmZ1bmN0aW9uKGEsZCl7YihhKTt2YXIgZTtpZihFKGQpP2U9SyhkKTooZT1kLGQ9TShlKSksZC5wYXJlbnROb2RlIT09dGhpcyl0aHJvdyBuZXcgRXJyb3IoXCJOb3RGb3VuZEVycm9yXCIpO3ZhciBoLGk9ZC5uZXh0U2libGluZyxqPWQucHJldmlvdXNTaWJsaW5nLG09IXRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCkmJiFzKGEpO3JldHVybiBtP2g9ZyhhKTooaT09PWEmJihpPWEubmV4dFNpYmxpbmcpLGg9ZihhLHRoaXMsaixpKSksbT8obih0aGlzLGEpLHEodGhpcyksWC5jYWxsKEoodGhpcyksSyhhKSxlKSk6KHRoaXMuZmlyc3RDaGlsZD09PWQmJih0aGlzLmZpcnN0Q2hpbGRfPWhbMF0pLHRoaXMubGFzdENoaWxkPT09ZCYmKHRoaXMubGFzdENoaWxkXz1oW2gubGVuZ3RoLTFdKSxkLnByZXZpb3VzU2libGluZ189ZC5uZXh0U2libGluZ189ZC5wYXJlbnROb2RlXz12b2lkIDAsZS5wYXJlbnROb2RlJiZYLmNhbGwoZS5wYXJlbnROb2RlLHAodGhpcyxoKSxlKSksQyh0aGlzLFwiY2hpbGRMaXN0XCIse2FkZGVkTm9kZXM6aCxyZW1vdmVkTm9kZXM6YyhkKSxuZXh0U2libGluZzppLHByZXZpb3VzU2libGluZzpqfSksbChkKSxrKGgsdGhpcyksZH0sbm9kZUlzSW5zZXJ0ZWRfOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZmlyc3RDaGlsZDthO2E9YS5uZXh0U2libGluZylhLm5vZGVJc0luc2VydGVkXygpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmZpcnN0Q2hpbGR9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMucGFyZW50Tm9kZV8/dGhpcy5wYXJlbnROb2RlXzpNKEoodGhpcykucGFyZW50Tm9kZSl9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlyc3RDaGlsZF8/dGhpcy5maXJzdENoaWxkXzpNKEoodGhpcykuZmlyc3RDaGlsZCl9LGdldCBsYXN0Q2hpbGQoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5sYXN0Q2hpbGRfP3RoaXMubGFzdENoaWxkXzpNKEoodGhpcykubGFzdENoaWxkKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMubmV4dFNpYmxpbmdfP3RoaXMubmV4dFNpYmxpbmdfOk0oSih0aGlzKS5uZXh0U2libGluZyl9LGdldCBwcmV2aW91c1NpYmxpbmcoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5wcmV2aW91c1NpYmxpbmdfP3RoaXMucHJldmlvdXNTaWJsaW5nXzpNKEoodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IHBhcmVudEVsZW1lbnQoKXtmb3IodmFyIGE9dGhpcy5wYXJlbnROb2RlO2EmJmEubm9kZVR5cGUhPT13LkVMRU1FTlRfTk9ERTspYT1hLnBhcmVudE5vZGU7cmV0dXJuIGF9LGdldCB0ZXh0Q29udGVudCgpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKWIubm9kZVR5cGUhPXcuQ09NTUVOVF9OT0RFJiYoYSs9Yi50ZXh0Q29udGVudCk7cmV0dXJuIGF9LHNldCB0ZXh0Q29udGVudChhKXt2YXIgYj1pKHRoaXMuY2hpbGROb2Rlcyk7aWYodGhpcy5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXIoKSl7aWYocih0aGlzKSxcIlwiIT09YSl7dmFyIGM9Sih0aGlzKS5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGEpO3RoaXMuYXBwZW5kQ2hpbGQoYyl9fWVsc2UgcSh0aGlzKSxKKHRoaXMpLnRleHRDb250ZW50PWE7dmFyIGQ9aSh0aGlzLmNoaWxkTm9kZXMpO0ModGhpcyxcImNoaWxkTGlzdFwiLHthZGRlZE5vZGVzOmQscmVtb3ZlZE5vZGVzOmJ9KSxtKGIpLGsoZCx0aGlzKX0sZ2V0IGNoaWxkTm9kZXMoKXtmb3IodmFyIGE9bmV3IHksYj0wLGM9dGhpcy5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LGNsb25lTm9kZTpmdW5jdGlvbihhKXtyZXR1cm4gdSh0aGlzLGEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdih0aGlzLE4oYSkpfSxjb21wYXJlRG9jdW1lbnRQb3NpdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gVS5jYWxsKEoodGhpcyksTChhKSl9LG5vcm1hbGl6ZTpmdW5jdGlvbigpe2Zvcih2YXIgYSxiLGM9aSh0aGlzLmNoaWxkTm9kZXMpLGQ9W10sZT1cIlwiLGY9MDtmPGMubGVuZ3RoO2YrKyliPWNbZl0sYi5ub2RlVHlwZT09PXcuVEVYVF9OT0RFP2F8fGIuZGF0YS5sZW5ndGg/YT8oZSs9Yi5kYXRhLGQucHVzaChiKSk6YT1iOnRoaXMucmVtb3ZlTm9kZShiKTooYSYmZC5sZW5ndGgmJihhLmRhdGErPWUsdChkKSksZD1bXSxlPVwiXCIsYT1udWxsLGIuY2hpbGROb2Rlcy5sZW5ndGgmJmIubm9ybWFsaXplKCkpO2EmJmQubGVuZ3RoJiYoYS5kYXRhKz1lLHQoZCkpfX0pLEIodyxcIm93bmVyRG9jdW1lbnRcIiksSChTLHcsZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKSxkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvcixkZWxldGUgdy5wcm90b3R5cGUucXVlcnlTZWxlY3RvckFsbCx3LnByb3RvdHlwZT1GKE9iamVjdC5jcmVhdGUoeC5wcm90b3R5cGUpLHcucHJvdG90eXBlKSxhLmNsb25lTm9kZT11LGEubm9kZVdhc0FkZGVkPWosYS5ub2RlV2FzUmVtb3ZlZD1sLGEubm9kZXNXZXJlQWRkZWQ9ayxhLm5vZGVzV2VyZVJlbW92ZWQ9bSxhLm9yaWdpbmFsSW5zZXJ0QmVmb3JlPVYsYS5vcmlnaW5hbFJlbW92ZUNoaWxkPVcsYS5zbmFwc2hvdE5vZGVMaXN0PWksYS53cmFwcGVycy5Ob2RlPXd9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiLGMsZCxlKXtmb3IodmFyIGY9bnVsbCxnPW51bGwsaD0wLGk9Yi5sZW5ndGg7aT5oO2grKylmPXMoYltoXSksIWUmJihnPXEoZikucm9vdCkmJmcgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3R8fChkW2MrK109Zik7cmV0dXJuIGN9ZnVuY3Rpb24gYyhhKXtyZXR1cm4gU3RyaW5nKGEpLnJlcGxhY2UoL1xcL2RlZXBcXC8vZyxcIiBcIil9ZnVuY3Rpb24gZChhLGIpe2Zvcih2YXIgYyxlPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZTspe2lmKGUubWF0Y2hlcyhiKSlyZXR1cm4gZTtpZihjPWQoZSxiKSlyZXR1cm4gYztlPWUubmV4dEVsZW1lbnRTaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGUoYSxiKXtyZXR1cm4gYS5tYXRjaGVzKGIpfWZ1bmN0aW9uIGYoYSxiLGMpe3ZhciBkPWEubG9jYWxOYW1lO3JldHVybiBkPT09Ynx8ZD09PWMmJmEubmFtZXNwYWNlVVJJPT09RH1mdW5jdGlvbiBnKCl7cmV0dXJuITB9ZnVuY3Rpb24gaChhLGIsYyl7cmV0dXJuIGEubG9jYWxOYW1lPT09Y31mdW5jdGlvbiBpKGEsYil7cmV0dXJuIGEubmFtZXNwYWNlVVJJPT09Yn1mdW5jdGlvbiBqKGEsYixjKXtyZXR1cm4gYS5uYW1lc3BhY2VVUkk9PT1iJiZhLmxvY2FsTmFtZT09PWN9ZnVuY3Rpb24gayhhLGIsYyxkLGUsZil7Zm9yKHZhciBnPWEuZmlyc3RFbGVtZW50Q2hpbGQ7ZzspZChnLGUsZikmJihjW2IrK109ZyksYj1rKGcsYixjLGQsZSxmKSxnPWcubmV4dEVsZW1lbnRTaWJsaW5nO3JldHVybiBifWZ1bmN0aW9uIGwoYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsbnVsbCk7aWYoaSBpbnN0YW5jZW9mIEIpaD13LmNhbGwoaSxmKTtlbHNle2lmKCEoaSBpbnN0YW5jZW9mIEMpKXJldHVybiBrKHRoaXMsZCxlLGMsZixudWxsKTtoPXYuY2FsbChpLGYpfXJldHVybiBiKGgsZCxlLGcpfWZ1bmN0aW9uIG0oYyxkLGUsZixnKXt2YXIgaCxpPXIodGhpcyksaj1xKHRoaXMpLnJvb3Q7aWYoaiBpbnN0YW5jZW9mIGEud3JhcHBlcnMuU2hhZG93Um9vdClyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aWYoaSBpbnN0YW5jZW9mIEIpaD15LmNhbGwoaSxmLGcpO2Vsc2V7aWYoIShpIGluc3RhbmNlb2YgQykpcmV0dXJuIGsodGhpcyxkLGUsYyxmLGcpO2g9eC5jYWxsKGksZixnKX1yZXR1cm4gYihoLGQsZSwhMSl9ZnVuY3Rpb24gbihjLGQsZSxmLGcpe3ZhciBoLGk9cih0aGlzKSxqPXEodGhpcykucm9vdDtpZihqIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiBrKHRoaXMsZCxlLGMsZixnKTtpZihpIGluc3RhbmNlb2YgQiloPUEuY2FsbChpLGYsZyk7ZWxzZXtpZighKGkgaW5zdGFuY2VvZiBDKSlyZXR1cm4gayh0aGlzLGQsZSxjLGYsZyk7aD16LmNhbGwoaSxmLGcpfXJldHVybiBiKGgsZCxlLCExKX12YXIgbz1hLndyYXBwZXJzLkhUTUxDb2xsZWN0aW9uLHA9YS53cmFwcGVycy5Ob2RlTGlzdCxxPWEuZ2V0VHJlZVNjb3BlLHI9YS51bnNhZmVVbndyYXAscz1hLndyYXAsdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLHU9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3Isdj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsLHc9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwseD1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx5PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSx6PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lTlMsQT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWVOUyxCPXdpbmRvdy5FbGVtZW50LEM9d2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50LEQ9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCIsRT17cXVlcnlTZWxlY3RvcjpmdW5jdGlvbihiKXt2YXIgZT1jKGIpLGY9ZSE9PWI7Yj1lO3ZhciBnLGg9cih0aGlzKSxpPXEodGhpcykucm9vdDtpZihpIGluc3RhbmNlb2YgYS53cmFwcGVycy5TaGFkb3dSb290KXJldHVybiBkKHRoaXMsYik7aWYoaCBpbnN0YW5jZW9mIEIpZz1zKHUuY2FsbChoLGIpKTtlbHNle2lmKCEoaCBpbnN0YW5jZW9mIEMpKXJldHVybiBkKHRoaXMsYik7Zz1zKHQuY2FsbChoLGIpKX1yZXR1cm4gZyYmIWYmJihpPXEoZykucm9vdCkmJmkgaW5zdGFuY2VvZiBhLndyYXBwZXJzLlNoYWRvd1Jvb3Q/ZCh0aGlzLGIpOmd9LHF1ZXJ5U2VsZWN0b3JBbGw6ZnVuY3Rpb24oYSl7dmFyIGI9YyhhKSxkPWIhPT1hO2E9Yjt2YXIgZj1uZXcgcDtyZXR1cm4gZi5sZW5ndGg9bC5jYWxsKHRoaXMsZSwwLGYsYSxkKSxmfX0sRj17Z2V0RWxlbWVudHNCeVRhZ05hbWU6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG8sYz1cIipcIj09PWE/ZzpmO3JldHVybiBiLmxlbmd0aD1tLmNhbGwodGhpcyxjLDAsYixhLGEudG9Mb3dlckNhc2UoKSksYn0sZ2V0RWxlbWVudHNCeUNsYXNzTmFtZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFwiLlwiK2EpfSxnZXRFbGVtZW50c0J5VGFnTmFtZU5TOmZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IG8sZD1udWxsO3JldHVybiBkPVwiKlwiPT09YT9cIipcIj09PWI/ZzpoOlwiKlwiPT09Yj9pOmosYy5sZW5ndGg9bi5jYWxsKHRoaXMsZCwwLGMsYXx8bnVsbCxiKSxjfX07YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlPUYsYS5TZWxlY3RvcnNJbnRlcmZhY2U9RX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2Zvcig7YSYmYS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOylhPWEubmV4dFNpYmxpbmc7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhKXtmb3IoO2EmJmEubm9kZVR5cGUhPT1Ob2RlLkVMRU1FTlRfTk9ERTspYT1hLnByZXZpb3VzU2libGluZztyZXR1cm4gYX12YXIgZD1hLndyYXBwZXJzLk5vZGVMaXN0LGU9e2dldCBmaXJzdEVsZW1lbnRDaGlsZCgpe3JldHVybiBiKHRoaXMuZmlyc3RDaGlsZCl9LGdldCBsYXN0RWxlbWVudENoaWxkKCl7cmV0dXJuIGModGhpcy5sYXN0Q2hpbGQpfSxnZXQgY2hpbGRFbGVtZW50Q291bnQoKXtmb3IodmFyIGE9MCxiPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YjtiPWIubmV4dEVsZW1lbnRTaWJsaW5nKWErKztyZXR1cm4gYX0sZ2V0IGNoaWxkcmVuKCl7Zm9yKHZhciBhPW5ldyBkLGI9MCxjPXRoaXMuZmlyc3RFbGVtZW50Q2hpbGQ7YztjPWMubmV4dEVsZW1lbnRTaWJsaW5nKWFbYisrXT1jO3JldHVybiBhLmxlbmd0aD1iLGF9LHJlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50Tm9kZTthJiZhLnJlbW92ZUNoaWxkKHRoaXMpfX0sZj17Z2V0IG5leHRFbGVtZW50U2libGluZygpe3JldHVybiBiKHRoaXMubmV4dFNpYmxpbmcpfSxnZXQgcHJldmlvdXNFbGVtZW50U2libGluZygpe3JldHVybiBjKHRoaXMucHJldmlvdXNTaWJsaW5nKX19O2EuQ2hpbGROb2RlSW50ZXJmYWNlPWYsYS5QYXJlbnROb2RlSW50ZXJmYWNlPWV9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX12YXIgYz1hLkNoaWxkTm9kZUludGVyZmFjZSxkPWEud3JhcHBlcnMuTm9kZSxlPWEuZW5xdWV1ZU11dGF0aW9uLGY9YS5taXhpbixnPWEucmVnaXN0ZXJXcmFwcGVyLGg9YS51bnNhZmVVbndyYXAsaT13aW5kb3cuQ2hhcmFjdGVyRGF0YTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxmKGIucHJvdG90eXBlLHtnZXQgdGV4dENvbnRlbnQoKXtyZXR1cm4gdGhpcy5kYXRhfSxzZXQgdGV4dENvbnRlbnQoYSl7dGhpcy5kYXRhPWF9LGdldCBkYXRhKCl7cmV0dXJuIGgodGhpcykuZGF0YX0sc2V0IGRhdGEoYSl7dmFyIGI9aCh0aGlzKS5kYXRhO2UodGhpcyxcImNoYXJhY3RlckRhdGFcIix7b2xkVmFsdWU6Yn0pLGgodGhpcykuZGF0YT1hfX0pLGYoYi5wcm90b3R5cGUsYyksZyhpLGIsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIikpLGEud3JhcHBlcnMuQ2hhcmFjdGVyRGF0YT1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGE+Pj4wfWZ1bmN0aW9uIGMoYSl7ZC5jYWxsKHRoaXMsYSl9dmFyIGQ9YS53cmFwcGVycy5DaGFyYWN0ZXJEYXRhLGU9KGEuZW5xdWV1ZU11dGF0aW9uLGEubWl4aW4pLGY9YS5yZWdpc3RlcldyYXBwZXIsZz13aW5kb3cuVGV4dDtjLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxlKGMucHJvdG90eXBlLHtzcGxpdFRleHQ6ZnVuY3Rpb24oYSl7YT1iKGEpO3ZhciBjPXRoaXMuZGF0YTtpZihhPmMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkluZGV4U2l6ZUVycm9yXCIpO3ZhciBkPWMuc2xpY2UoMCxhKSxlPWMuc2xpY2UoYSk7dGhpcy5kYXRhPWQ7dmFyIGY9dGhpcy5vd25lckRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGUpO3JldHVybiB0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZix0aGlzLm5leHRTaWJsaW5nKSxmfX0pLGYoZyxjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpKSxhLndyYXBwZXJzLlRleHQ9Y30od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIpe2EuaW52YWxpZGF0ZVJlbmRlcmVyQmFzZWRPbkF0dHJpYnV0ZShiLFwiY2xhc3NcIil9ZnVuY3Rpb24gYyhhLGIpe2QoYSx0aGlzKSx0aGlzLm93bmVyRWxlbWVudF89Yn12YXIgZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcDtjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YyxnZXQgbGVuZ3RoKCl7cmV0dXJuIGUodGhpcykubGVuZ3RofSxpdGVtOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLml0ZW0oYSl9LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmNvbnRhaW5zKGEpfSxhZGQ6ZnVuY3Rpb24oKXtlKHRoaXMpLmFkZC5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSxyZW1vdmU6ZnVuY3Rpb24oKXtlKHRoaXMpLnJlbW92ZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyksYih0aGlzLm93bmVyRWxlbWVudF8pfSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgYT1lKHRoaXMpLnRvZ2dsZS5hcHBseShlKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGIodGhpcy5vd25lckVsZW1lbnRfKSxhfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxhLndyYXBwZXJzLkRPTVRva2VuTGlzdD1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYixjKXt2YXIgZD1iLnBhcmVudE5vZGU7aWYoZCYmZC5zaGFkb3dSb290KXt2YXIgZT1hLmdldFJlbmRlcmVyRm9ySG9zdChkKTtlLmRlcGVuZHNPbkF0dHJpYnV0ZShjKSYmZS5pbnZhbGlkYXRlKCl9fWZ1bmN0aW9uIGMoYSxiLGMpe2soYSxcImF0dHJpYnV0ZXNcIix7bmFtZTpiLG5hbWVzcGFjZTpudWxsLG9sZFZhbHVlOmN9KX1mdW5jdGlvbiBkKGEpe2cuY2FsbCh0aGlzLGEpfXZhciBlPWEuQ2hpbGROb2RlSW50ZXJmYWNlLGY9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGc9YS53cmFwcGVycy5Ob2RlLGg9YS53cmFwcGVycy5ET01Ub2tlbkxpc3QsaT1hLlBhcmVudE5vZGVJbnRlcmZhY2Usaj1hLlNlbGVjdG9yc0ludGVyZmFjZSxrPShhLmFkZFdyYXBOb2RlTGlzdE1ldGhvZCxhLmVucXVldWVNdXRhdGlvbiksbD1hLm1peGluLG09KGEub25lT2YsYS5yZWdpc3RlcldyYXBwZXIpLG49YS51bnNhZmVVbndyYXAsbz1hLndyYXBwZXJzLHA9d2luZG93LkVsZW1lbnQscT1bXCJtYXRjaGVzXCIsXCJtb3pNYXRjaGVzU2VsZWN0b3JcIixcIm1zTWF0Y2hlc1NlbGVjdG9yXCIsXCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3JcIl0uZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBwLnByb3RvdHlwZVthXX0pLHI9cVswXSxzPXAucHJvdG90eXBlW3JdLHQ9bmV3IFdlYWtNYXA7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShnLnByb3RvdHlwZSksbChkLnByb3RvdHlwZSx7Y3JlYXRlU2hhZG93Um9vdDpmdW5jdGlvbigpe3ZhciBiPW5ldyBvLlNoYWRvd1Jvb3QodGhpcyk7bih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF89Yjt2YXIgYz1hLmdldFJlbmRlcmVyRm9ySG9zdCh0aGlzKTtyZXR1cm4gYy5pbnZhbGlkYXRlKCksYn0sZ2V0IHNoYWRvd1Jvb3QoKXtyZXR1cm4gbih0aGlzKS5wb2x5bWVyU2hhZG93Um9vdF98fG51bGx9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGQpe3ZhciBlPW4odGhpcykuZ2V0QXR0cmlidXRlKGEpO24odGhpcykuc2V0QXR0cmlidXRlKGEsZCksYyh0aGlzLGEsZSksYih0aGlzLGEpfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dmFyIGQ9bih0aGlzKS5nZXRBdHRyaWJ1dGUoYSk7bih0aGlzKS5yZW1vdmVBdHRyaWJ1dGUoYSksYyh0aGlzLGEsZCksYih0aGlzLGEpfSxtYXRjaGVzOmZ1bmN0aW9uKGEpe3JldHVybiBzLmNhbGwobih0aGlzKSxhKX0sZ2V0IGNsYXNzTGlzdCgpe3ZhciBhPXQuZ2V0KHRoaXMpO3JldHVybiBhfHx0LnNldCh0aGlzLGE9bmV3IGgobih0aGlzKS5jbGFzc0xpc3QsdGhpcykpLGF9LGdldCBjbGFzc05hbWUoKXtyZXR1cm4gbih0aGlzKS5jbGFzc05hbWV9LHNldCBjbGFzc05hbWUoYSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGEpfSxnZXQgaWQoKXtyZXR1cm4gbih0aGlzKS5pZH0sc2V0IGlkKGEpe3RoaXMuc2V0QXR0cmlidXRlKFwiaWRcIixhKX19KSxxLmZvckVhY2goZnVuY3Rpb24oYSl7XCJtYXRjaGVzXCIhPT1hJiYoZC5wcm90b3R5cGVbYV09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWF0Y2hlcyhhKX0pfSkscC5wcm90b3R5cGUud2Via2l0Q3JlYXRlU2hhZG93Um9vdCYmKGQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9ZC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCksbChkLnByb3RvdHlwZSxlKSxsKGQucHJvdG90eXBlLGYpLGwoZC5wcm90b3R5cGUsaSksbChkLnByb3RvdHlwZSxqKSxtKHAsZCxkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnVsbCxcInhcIikpLGEuaW52YWxpZGF0ZVJlbmRlcmVyQmFzZWRPbkF0dHJpYnV0ZT1iLGEubWF0Y2hlc05hbWVzPXEsYS53cmFwcGVycy5FbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtzd2l0Y2goYSl7Y2FzZVwiJlwiOnJldHVyblwiJmFtcDtcIjtjYXNlXCI8XCI6cmV0dXJuXCImbHQ7XCI7Y2FzZVwiPlwiOnJldHVyblwiJmd0O1wiO2Nhc2UnXCInOnJldHVyblwiJnF1b3Q7XCI7Y2FzZVwiXFx4YTBcIjpyZXR1cm5cIiZuYnNwO1wifX1mdW5jdGlvbiBjKGEpe3JldHVybiBhLnJlcGxhY2UoQSxiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnJlcGxhY2UoQixiKX1mdW5jdGlvbiBlKGEpe2Zvcih2YXIgYj17fSxjPTA7YzxhLmxlbmd0aDtjKyspYlthW2NdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiBmKGEsYil7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgTm9kZS5FTEVNRU5UX05PREU6Zm9yKHZhciBlLGY9YS50YWdOYW1lLnRvTG93ZXJDYXNlKCksaD1cIjxcIitmLGk9YS5hdHRyaWJ1dGVzLGo9MDtlPWlbal07aisrKWgrPVwiIFwiK2UubmFtZSsnPVwiJytjKGUudmFsdWUpKydcIic7cmV0dXJuIGgrPVwiPlwiLENbZl0/aDpoK2coYSkrXCI8L1wiK2YrXCI+XCI7Y2FzZSBOb2RlLlRFWFRfTk9ERTp2YXIgaz1hLmRhdGE7cmV0dXJuIGImJkRbYi5sb2NhbE5hbWVdP2s6ZChrKTtjYXNlIE5vZGUuQ09NTUVOVF9OT0RFOnJldHVyblwiPCEtLVwiK2EuZGF0YStcIi0tPlwiO2RlZmF1bHQ6dGhyb3cgY29uc29sZS5lcnJvcihhKSxuZXcgRXJyb3IoXCJub3QgaW1wbGVtZW50ZWRcIil9fWZ1bmN0aW9uIGcoYSl7YSBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudCYmKGE9YS5jb250ZW50KTtmb3IodmFyIGI9XCJcIixjPWEuZmlyc3RDaGlsZDtjO2M9Yy5uZXh0U2libGluZyliKz1mKGMsYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9Y3x8XCJkaXZcIjthLnRleHRDb250ZW50PVwiXCI7dmFyIGU9eChhLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKSk7ZS5pbm5lckhUTUw9Yjtmb3IodmFyIGY7Zj1lLmZpcnN0Q2hpbGQ7KWEuYXBwZW5kQ2hpbGQoeShmKSl9ZnVuY3Rpb24gaShhKXtvLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBqKGEsYil7dmFyIGM9eChhLmNsb25lTm9kZSghMSkpO2MuaW5uZXJIVE1MPWI7Zm9yKHZhciBkLGU9eChkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2Q9Yy5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGQpO3JldHVybiB5KGUpfWZ1bmN0aW9uIGsoYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl19fWZ1bmN0aW9uIGwoYSl7cChpLGEsayhhKSl9ZnVuY3Rpb24gbShiKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsYix7Z2V0OmsoYiksc2V0OmZ1bmN0aW9uKGMpe2EucmVuZGVyQWxsUGVuZGluZygpLHcodGhpcylbYl09Y30sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX1mdW5jdGlvbiBuKGIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSxiLHt2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBhLnJlbmRlckFsbFBlbmRpbmcoKSx3KHRoaXMpW2JdLmFwcGx5KHcodGhpcyksYXJndW1lbnRzKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9KX12YXIgbz1hLndyYXBwZXJzLkVsZW1lbnQscD1hLmRlZmluZUdldHRlcixxPWEuZW5xdWV1ZU11dGF0aW9uLHI9YS5taXhpbixzPWEubm9kZXNXZXJlQWRkZWQsdD1hLm5vZGVzV2VyZVJlbW92ZWQsdT1hLnJlZ2lzdGVyV3JhcHBlcix2PWEuc25hcHNob3ROb2RlTGlzdCx3PWEudW5zYWZlVW53cmFwLHg9YS51bndyYXAseT1hLndyYXAsej1hLndyYXBwZXJzLEE9L1smXFx1MDBBMFwiXS9nLEI9L1smXFx1MDBBMDw+XS9nLEM9ZShbXCJhcmVhXCIsXCJiYXNlXCIsXCJiclwiLFwiY29sXCIsXCJjb21tYW5kXCIsXCJlbWJlZFwiLFwiaHJcIixcImltZ1wiLFwiaW5wdXRcIixcImtleWdlblwiLFwibGlua1wiLFwibWV0YVwiLFwicGFyYW1cIixcInNvdXJjZVwiLFwidHJhY2tcIixcIndiclwiXSksRD1lKFtcInN0eWxlXCIsXCJzY3JpcHRcIixcInhtcFwiLFwiaWZyYW1lXCIsXCJub2VtYmVkXCIsXCJub2ZyYW1lc1wiLFwicGxhaW50ZXh0XCIsXCJub3NjcmlwdFwiXSksRT0vTVNJRS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxGPXdpbmRvdy5IVE1MRWxlbWVudCxHPXdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50O2kucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoby5wcm90b3R5cGUpLHIoaS5wcm90b3R5cGUse2dldCBpbm5lckhUTUwoKXtyZXR1cm4gZyh0aGlzKX0sc2V0IGlubmVySFRNTChhKXtpZihFJiZEW3RoaXMubG9jYWxOYW1lXSlyZXR1cm4gdm9pZCh0aGlzLnRleHRDb250ZW50PWEpO3ZhciBiPXYodGhpcy5jaGlsZE5vZGVzKTt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpP3RoaXMgaW5zdGFuY2VvZiB6LkhUTUxUZW1wbGF0ZUVsZW1lbnQ/aCh0aGlzLmNvbnRlbnQsYSk6aCh0aGlzLGEsdGhpcy50YWdOYW1lKTohRyYmdGhpcyBpbnN0YW5jZW9mIHouSFRNTFRlbXBsYXRlRWxlbWVudD9oKHRoaXMuY29udGVudCxhKTp3KHRoaXMpLmlubmVySFRNTD1hO3ZhciBjPXYodGhpcy5jaGlsZE5vZGVzKTtxKHRoaXMsXCJjaGlsZExpc3RcIix7YWRkZWROb2RlczpjLHJlbW92ZWROb2RlczpifSksdChiKSxzKGMsdGhpcyl9LGdldCBvdXRlckhUTUwoKXtyZXR1cm4gZih0aGlzLHRoaXMucGFyZW50Tm9kZSl9LHNldCBvdXRlckhUTUwoYSl7dmFyIGI9dGhpcy5wYXJlbnROb2RlO2lmKGIpe2IuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCk7dmFyIGM9aihiLGEpO2IucmVwbGFjZUNoaWxkKGMsdGhpcyl9fSxpbnNlcnRBZGphY2VudEhUTUw6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkO3N3aXRjaChTdHJpbmcoYSkudG9Mb3dlckNhc2UoKSl7Y2FzZVwiYmVmb3JlYmVnaW5cIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXM7YnJlYWs7Y2FzZVwiYWZ0ZXJlbmRcIjpjPXRoaXMucGFyZW50Tm9kZSxkPXRoaXMubmV4dFNpYmxpbmc7YnJlYWs7Y2FzZVwiYWZ0ZXJiZWdpblwiOmM9dGhpcyxkPXRoaXMuZmlyc3RDaGlsZDticmVhaztjYXNlXCJiZWZvcmVlbmRcIjpjPXRoaXMsZD1udWxsO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXZhciBlPWooYyxiKTtjLmluc2VydEJlZm9yZShlLGQpfSxnZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuaGFzQXR0cmlidXRlKFwiaGlkZGVuXCIpfSxzZXQgaGlkZGVuKGEpe2E/dGhpcy5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIixcIlwiKTp0aGlzLnJlbW92ZUF0dHJpYnV0ZShcImhpZGRlblwiKX19KSxbXCJjbGllbnRIZWlnaHRcIixcImNsaWVudExlZnRcIixcImNsaWVudFRvcFwiLFwiY2xpZW50V2lkdGhcIixcIm9mZnNldEhlaWdodFwiLFwib2Zmc2V0TGVmdFwiLFwib2Zmc2V0VG9wXCIsXCJvZmZzZXRXaWR0aFwiLFwic2Nyb2xsSGVpZ2h0XCIsXCJzY3JvbGxXaWR0aFwiXS5mb3JFYWNoKGwpLFtcInNjcm9sbExlZnRcIixcInNjcm9sbFRvcFwiXS5mb3JFYWNoKG0pLFtcImdldEJvdW5kaW5nQ2xpZW50UmVjdFwiLFwiZ2V0Q2xpZW50UmVjdHNcIixcInNjcm9sbEludG9WaWV3XCJdLmZvckVhY2gobiksdShGLGksZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJcIikpLGEud3JhcHBlcnMuSFRNTEVsZW1lbnQ9aSxhLmdldElubmVySFRNTD1nLGEuc2V0SW5uZXJIVE1MPWh9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS51bnNhZmVVbndyYXAsZz1hLndyYXAsaD13aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0Q29udGV4dDpmdW5jdGlvbigpe3ZhciBhPWYodGhpcykuZ2V0Q29udGV4dC5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyk7cmV0dXJuIGEmJmcoYSl9fSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSksYS53cmFwcGVycy5IVE1MQ2FudmFzRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPXdpbmRvdy5IVE1MQ29udGVudEVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6YixnZXQgc2VsZWN0KCl7cmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKFwic2VsZWN0XCIpfSxzZXQgc2VsZWN0KGEpe3RoaXMuc2V0QXR0cmlidXRlKFwic2VsZWN0XCIsYSl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGIpe2MucHJvdG90eXBlLnNldEF0dHJpYnV0ZS5jYWxsKHRoaXMsYSxiKSxcInNlbGVjdFwiPT09U3RyaW5nKGEpLnRvTG93ZXJDYXNlKCkmJnRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCEwKX19KSxmJiZlKGYsYiksYS53cmFwcGVycy5IVE1MQ29udGVudEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXBIVE1MQ29sbGVjdGlvbixnPWEudW53cmFwLGg9d2luZG93LkhUTUxGb3JtRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtnZXQgZWxlbWVudHMoKXtyZXR1cm4gZihnKHRoaXMpLmVsZW1lbnRzKX19KSxlKGgsYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKSksYS53cmFwcGVycy5IVE1MRm9ybUVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2QuY2FsbCh0aGlzLGEpfWZ1bmN0aW9uIGMoYSxiKXtpZighKHRoaXMgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRE9NIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO3ZhciBlPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSk7ZC5jYWxsKHRoaXMsZSksZyhlLHRoaXMpLHZvaWQgMCE9PWEmJihlLndpZHRoPWEpLHZvaWQgMCE9PWImJihlLmhlaWdodD1iKX12YXIgZD1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEucmV3cmFwLGg9d2luZG93LkhUTUxJbWFnZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSksYy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsYS53cmFwcGVycy5IVE1MSW1hZ2VFbGVtZW50PWIsYS53cmFwcGVycy5JbWFnZT1jfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5IVE1MRWxlbWVudCxkPShhLm1peGluLGEud3JhcHBlcnMuTm9kZUxpc3QsYS5yZWdpc3RlcldyYXBwZXIpLGU9d2luZG93LkhUTUxTaGFkb3dFbGVtZW50O2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWIsZSYmZChlLGIpLGEud3JhcHBlcnMuSFRNTFNoYWRvd0VsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2lmKCFhLmRlZmF1bHRWaWV3KXJldHVybiBhO3ZhciBiPWwuZ2V0KGEpO2lmKCFiKXtmb3IoYj1hLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKTtiLmxhc3RDaGlsZDspYi5yZW1vdmVDaGlsZChiLmxhc3RDaGlsZCk7bC5zZXQoYSxiKX1yZXR1cm4gYn1mdW5jdGlvbiBjKGEpe2Zvcih2YXIgYyxkPWIoYS5vd25lckRvY3VtZW50KSxlPWkoZC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCkpO2M9YS5maXJzdENoaWxkOyllLmFwcGVuZENoaWxkKGMpO3JldHVybiBlfWZ1bmN0aW9uIGQoYSl7aWYoZS5jYWxsKHRoaXMsYSksIW0pe3ZhciBiPWMoYSk7ay5zZXQodGhpcyxqKGIpKX19dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEudW5zYWZlVW53cmFwLGk9YS51bndyYXAsaj1hLndyYXAsaz1uZXcgV2Vha01hcCxsPW5ldyBXZWFrTWFwLG09d2luZG93LkhUTUxUZW1wbGF0ZUVsZW1lbnQ7ZC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihkLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6ZCxnZXQgY29udGVudCgpe3JldHVybiBtP2ooaCh0aGlzKS5jb250ZW50KTprLmdldCh0aGlzKX19KSxtJiZnKG0sZCksYS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50PWR9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5yZWdpc3RlcldyYXBwZXIsZT13aW5kb3cuSFRNTE1lZGlhRWxlbWVudDtlJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChlLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpKSxhLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQ9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtkLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBjKGEpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGMpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7dmFyIGI9Zihkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIikpO2QuY2FsbCh0aGlzLGIpLGcoYix0aGlzKSxiLnNldEF0dHJpYnV0ZShcInByZWxvYWRcIixcImF1dG9cIiksdm9pZCAwIT09YSYmYi5zZXRBdHRyaWJ1dGUoXCJzcmNcIixhKX12YXIgZD1hLndyYXBwZXJzLkhUTUxNZWRpYUVsZW1lbnQsZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW53cmFwLGc9YS5yZXdyYXAsaD13aW5kb3cuSFRNTEF1ZGlvRWxlbWVudDtoJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShkLnByb3RvdHlwZSksZShoLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpKSxjLnByb3RvdHlwZT1iLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxBdWRpb0VsZW1lbnQ9YixhLndyYXBwZXJzLkF1ZGlvPWMpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxzKy9nLFwiIFwiKS50cmltKCl9ZnVuY3Rpb24gYyhhKXtlLmNhbGwodGhpcyxhKX1mdW5jdGlvbiBkKGEsYixjLGYpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJET00gb2JqZWN0IGNvbnN0cnVjdG9yIGNhbm5vdCBiZSBjYWxsZWQgYXMgYSBmdW5jdGlvbi5cIik7dmFyIGc9aShkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKTtlLmNhbGwodGhpcyxnKSxoKGcsdGhpcyksdm9pZCAwIT09YSYmKGcudGV4dD1hKSx2b2lkIDAhPT1iJiZnLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsYiksYz09PSEwJiZnLnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsXCJcIiksZy5zZWxlY3RlZD1mPT09ITB9dmFyIGU9YS53cmFwcGVycy5IVE1MRWxlbWVudCxmPWEubWl4aW4sZz1hLnJlZ2lzdGVyV3JhcHBlcixoPWEucmV3cmFwLGk9YS51bndyYXAsaj1hLndyYXAsaz13aW5kb3cuSFRNTE9wdGlvbkVsZW1lbnQ7Yy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksZihjLnByb3RvdHlwZSx7Z2V0IHRleHQoKXtyZXR1cm4gYih0aGlzLnRleHRDb250ZW50KX0sc2V0IHRleHQoYSl7dGhpcy50ZXh0Q29udGVudD1iKFN0cmluZyhhKSl9LGdldCBmb3JtKCl7cmV0dXJuIGooaSh0aGlzKS5mb3JtKX19KSxnKGssYyxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpKSxkLnByb3RvdHlwZT1jLnByb3RvdHlwZSxhLndyYXBwZXJzLkhUTUxPcHRpb25FbGVtZW50PWMsYS53cmFwcGVycy5PcHRpb249ZH0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPXdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHthZGQ6ZnVuY3Rpb24oYSxiKXtcIm9iamVjdFwiPT10eXBlb2YgYiYmKGI9ZihiKSksZih0aGlzKS5hZGQoZihhKSxiKX0scmVtb3ZlOmZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3ZvaWQgYy5wcm90b3R5cGUucmVtb3ZlLmNhbGwodGhpcyk6KFwib2JqZWN0XCI9PXR5cGVvZiBhJiYoYT1mKGEpKSx2b2lkIGYodGhpcykucmVtb3ZlKGEpKX0sZ2V0IGZvcm0oKXtyZXR1cm4gZyhmKHRoaXMpLmZvcm0pfX0pLGUoaCxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIikpLGEud3JhcHBlcnMuSFRNTFNlbGVjdEVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLnVud3JhcCxnPWEud3JhcCxoPWEud3JhcEhUTUxDb2xsZWN0aW9uLGk9d2luZG93LkhUTUxUYWJsZUVsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNhcHRpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNhcHRpb24pfSxjcmVhdGVDYXB0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVDYXB0aW9uKCkpfSxnZXQgdEhlYWQoKXtyZXR1cm4gZyhmKHRoaXMpLnRIZWFkKX0sY3JlYXRlVEhlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gZyhmKHRoaXMpLmNyZWF0ZVRIZWFkKCkpfSxjcmVhdGVURm9vdDpmdW5jdGlvbigpe3JldHVybiBnKGYodGhpcykuY3JlYXRlVEZvb3QoKSl9LGdldCB0Rm9vdCgpe3JldHVybiBnKGYodGhpcykudEZvb3QpfSxnZXQgdEJvZGllcygpe3JldHVybiBoKGYodGhpcykudEJvZGllcyl9LGNyZWF0ZVRCb2R5OmZ1bmN0aW9uKCl7cmV0dXJuIGcoZih0aGlzKS5jcmVhdGVUQm9keSgpKX0sZ2V0IHJvd3MoKXtyZXR1cm4gaChmKHRoaXMpLnJvd3MpfSxpbnNlcnRSb3c6ZnVuY3Rpb24oYSl7cmV0dXJuIGcoZih0aGlzKS5pbnNlcnRSb3coYSkpfX0pLGUoaSxiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKSksYS53cmFwcGVycy5IVE1MVGFibGVFbGVtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5taXhpbixlPWEucmVnaXN0ZXJXcmFwcGVyLGY9YS53cmFwSFRNTENvbGxlY3Rpb24sZz1hLnVud3JhcCxoPWEud3JhcCxpPXdpbmRvdy5IVE1MVGFibGVTZWN0aW9uRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxkKGIucHJvdG90eXBlLHtjb25zdHJ1Y3RvcjpiLGdldCByb3dzKCl7cmV0dXJuIGYoZyh0aGlzKS5yb3dzKX0saW5zZXJ0Um93OmZ1bmN0aW9uKGEpe3JldHVybiBoKGcodGhpcykuaW5zZXJ0Um93KGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhlYWRcIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2MuY2FsbCh0aGlzLGEpfXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLm1peGluLGU9YS5yZWdpc3RlcldyYXBwZXIsZj1hLndyYXBIVE1MQ29sbGVjdGlvbixnPWEudW53cmFwLGg9YS53cmFwLGk9d2luZG93LkhUTUxUYWJsZVJvd0VsZW1lbnQ7Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNlbGxzKCl7cmV0dXJuIGYoZyh0aGlzKS5jZWxscyl9LGluc2VydENlbGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZyh0aGlzKS5pbnNlcnRDZWxsKGEpKX19KSxlKGksYixkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIikpLGEud3JhcHBlcnMuSFRNTFRhYmxlUm93RWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7c3dpdGNoKGEubG9jYWxOYW1lKXtjYXNlXCJjb250ZW50XCI6cmV0dXJuIG5ldyBjKGEpO2Nhc2VcInNoYWRvd1wiOnJldHVybiBuZXcgZShhKTtjYXNlXCJ0ZW1wbGF0ZVwiOnJldHVybiBuZXcgZihhKX1kLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkhUTUxDb250ZW50RWxlbWVudCxkPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZT1hLndyYXBwZXJzLkhUTUxTaGFkb3dFbGVtZW50LGY9YS53cmFwcGVycy5IVE1MVGVtcGxhdGVFbGVtZW50LGc9KGEubWl4aW4sYS5yZWdpc3RlcldyYXBwZXIpLGg9d2luZG93LkhUTUxVbmtub3duRWxlbWVudDtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGQucHJvdG90eXBlKSxnKGgsYiksYS53cmFwcGVycy5IVE1MVW5rbm93bkVsZW1lbnQ9Yn0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjt2YXIgYj1hLndyYXBwZXJzLkVsZW1lbnQsYz1hLndyYXBwZXJzLkhUTUxFbGVtZW50LGQ9YS5yZWdpc3Rlck9iamVjdCxlPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhlLFwidGl0bGVcIiksZz1kKGYpLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGcucHJvdG90eXBlKS5jb25zdHJ1Y3RvcjtpZighKFwiY2xhc3NMaXN0XCJpbiBmKSl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiLnByb3RvdHlwZSxcImNsYXNzTGlzdFwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYy5wcm90b3R5cGUsXCJjbGFzc0xpc3RcIixpKSxkZWxldGUgYi5wcm90b3R5cGUuY2xhc3NMaXN0fWEud3JhcHBlcnMuU1ZHRWxlbWVudD1ofSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7bS5jYWxsKHRoaXMsYSl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS51bndyYXAsZj1hLndyYXAsZz13aW5kb3cuU1ZHVXNlRWxlbWVudCxoPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixpPWYoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGgsXCJnXCIpKSxqPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhoLFwidXNlXCIpLGs9aS5jb25zdHJ1Y3RvcixsPU9iamVjdC5nZXRQcm90b3R5cGVPZihrLnByb3RvdHlwZSksbT1sLmNvbnN0cnVjdG9yO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUobCksXCJpbnN0YW5jZVJvb3RcImluIGomJmMoYi5wcm90b3R5cGUse2dldCBpbnN0YW5jZVJvb3QoKXtyZXR1cm4gZihlKHRoaXMpLmluc3RhbmNlUm9vdCl9LGdldCBhbmltYXRlZEluc3RhbmNlUm9vdCgpe3JldHVybiBmKGUodGhpcykuYW5pbWF0ZWRJbnN0YW5jZVJvb3QpfX0pLGQoZyxiLGopLGEud3JhcHBlcnMuU1ZHVXNlRWxlbWVudD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7Yy5jYWxsKHRoaXMsYSl9dmFyIGM9YS53cmFwcGVycy5FdmVudFRhcmdldCxkPWEubWl4aW4sZT1hLnJlZ2lzdGVyV3JhcHBlcixmPWEudW5zYWZlVW53cmFwLGc9YS53cmFwLGg9d2luZG93LlNWR0VsZW1lbnRJbnN0YW5jZTtoJiYoYi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksZChiLnByb3RvdHlwZSx7Z2V0IGNvcnJlc3BvbmRpbmdFbGVtZW50KCl7cmV0dXJuIGcoZih0aGlzKS5jb3JyZXNwb25kaW5nRWxlbWVudClcbn0sZ2V0IGNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KCl7cmV0dXJuIGcoZih0aGlzKS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCl9LGdldCBwYXJlbnROb2RlKCl7cmV0dXJuIGcoZih0aGlzKS5wYXJlbnROb2RlKX0sZ2V0IGNoaWxkTm9kZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIil9LGdldCBmaXJzdENoaWxkKCl7cmV0dXJuIGcoZih0aGlzKS5maXJzdENoaWxkKX0sZ2V0IGxhc3RDaGlsZCgpe3JldHVybiBnKGYodGhpcykubGFzdENoaWxkKX0sZ2V0IHByZXZpb3VzU2libGluZygpe3JldHVybiBnKGYodGhpcykucHJldmlvdXNTaWJsaW5nKX0sZ2V0IG5leHRTaWJsaW5nKCl7cmV0dXJuIGcoZih0aGlzKS5uZXh0U2libGluZyl9fSksZShoLGIpLGEud3JhcHBlcnMuU1ZHRWxlbWVudEluc3RhbmNlPWIpfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7ZShhLHRoaXMpfXZhciBjPWEubWl4aW4sZD1hLnJlZ2lzdGVyV3JhcHBlcixlPWEuc2V0V3JhcHBlcixmPWEudW5zYWZlVW53cmFwLGc9YS51bndyYXAsaD1hLnVud3JhcElmTmVlZGVkLGk9YS53cmFwLGo9d2luZG93LkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGkoZih0aGlzKS5jYW52YXMpfSxkcmF3SW1hZ2U6ZnVuY3Rpb24oKXthcmd1bWVudHNbMF09aChhcmd1bWVudHNbMF0pLGYodGhpcykuZHJhd0ltYWdlLmFwcGx5KGYodGhpcyksYXJndW1lbnRzKX0sY3JlYXRlUGF0dGVybjpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09Zyhhcmd1bWVudHNbMF0pLGYodGhpcykuY3JlYXRlUGF0dGVybi5hcHBseShmKHRoaXMpLGFyZ3VtZW50cyl9fSksZChqLGIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKS5nZXRDb250ZXh0KFwiMmRcIikpLGEud3JhcHBlcnMuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtlKGEsdGhpcyl9dmFyIGM9YS5taXhpbixkPWEucmVnaXN0ZXJXcmFwcGVyLGU9YS5zZXRXcmFwcGVyLGY9YS51bnNhZmVVbndyYXAsZz1hLnVud3JhcElmTmVlZGVkLGg9YS53cmFwLGk9d2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dDtpZihpKXtjKGIucHJvdG90eXBlLHtnZXQgY2FudmFzKCl7cmV0dXJuIGgoZih0aGlzKS5jYW52YXMpfSx0ZXhJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzVdPWcoYXJndW1lbnRzWzVdKSxmKHRoaXMpLnRleEltYWdlMkQuYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpfSx0ZXhTdWJJbWFnZTJEOmZ1bmN0aW9uKCl7YXJndW1lbnRzWzZdPWcoYXJndW1lbnRzWzZdKSxmKHRoaXMpLnRleFN1YkltYWdlMkQuYXBwbHkoZih0aGlzKSxhcmd1bWVudHMpfX0pO3ZhciBqPS9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/e2RyYXdpbmdCdWZmZXJIZWlnaHQ6bnVsbCxkcmF3aW5nQnVmZmVyV2lkdGg6bnVsbH06e307ZChpLGIsaiksYS53cmFwcGVycy5XZWJHTFJlbmRlcmluZ0NvbnRleHQ9Yn19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtkKGEsdGhpcyl9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcCxmPWEudW53cmFwLGc9YS51bndyYXBJZk5lZWRlZCxoPWEud3JhcCxpPXdpbmRvdy5SYW5nZTtiLnByb3RvdHlwZT17Z2V0IHN0YXJ0Q29udGFpbmVyKCl7cmV0dXJuIGgoZSh0aGlzKS5zdGFydENvbnRhaW5lcil9LGdldCBlbmRDb250YWluZXIoKXtyZXR1cm4gaChlKHRoaXMpLmVuZENvbnRhaW5lcil9LGdldCBjb21tb25BbmNlc3RvckNvbnRhaW5lcigpe3JldHVybiBoKGUodGhpcykuY29tbW9uQW5jZXN0b3JDb250YWluZXIpfSxzZXRTdGFydDpmdW5jdGlvbihhLGIpe2UodGhpcykuc2V0U3RhcnQoZyhhKSxiKX0sc2V0RW5kOmZ1bmN0aW9uKGEsYil7ZSh0aGlzKS5zZXRFbmQoZyhhKSxiKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRTdGFydEJlZm9yZShnKGEpKX0sc2V0U3RhcnRBZnRlcjpmdW5jdGlvbihhKXtlKHRoaXMpLnNldFN0YXJ0QWZ0ZXIoZyhhKSl9LHNldEVuZEJlZm9yZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNldEVuZEJlZm9yZShnKGEpKX0sc2V0RW5kQWZ0ZXI6ZnVuY3Rpb24oYSl7ZSh0aGlzKS5zZXRFbmRBZnRlcihnKGEpKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGUoZyhhKSl9LHNlbGVjdE5vZGVDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdE5vZGVDb250ZW50cyhnKGEpKX0sY29tcGFyZUJvdW5kYXJ5UG9pbnRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZUJvdW5kYXJ5UG9pbnRzKGEsZihiKSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbigpe3JldHVybiBoKGUodGhpcykuZXh0cmFjdENvbnRlbnRzKCkpfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIGgoZSh0aGlzKS5jbG9uZUNvbnRlbnRzKCkpfSxpbnNlcnROb2RlOmZ1bmN0aW9uKGEpe2UodGhpcykuaW5zZXJ0Tm9kZShnKGEpKX0sc3Vycm91bmRDb250ZW50czpmdW5jdGlvbihhKXtlKHRoaXMpLnN1cnJvdW5kQ29udGVudHMoZyhhKSl9LGNsb25lUmFuZ2U6ZnVuY3Rpb24oKXtyZXR1cm4gaChlKHRoaXMpLmNsb25lUmFuZ2UoKSl9LGlzUG9pbnRJblJhbmdlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuaXNQb2ludEluUmFuZ2UoZyhhKSxiKX0sY29tcGFyZVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGUodGhpcykuY29tcGFyZVBvaW50KGcoYSksYil9LGludGVyc2VjdHNOb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBlKHRoaXMpLmludGVyc2VjdHNOb2RlKGcoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxpLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQmJihiLnByb3RvdHlwZS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGgoZSh0aGlzKS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoYSkpfSksYyh3aW5kb3cuUmFuZ2UsYixkb2N1bWVudC5jcmVhdGVSYW5nZSgpKSxhLndyYXBwZXJzLlJhbmdlPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9YS5HZXRFbGVtZW50c0J5SW50ZXJmYWNlLGM9YS5QYXJlbnROb2RlSW50ZXJmYWNlLGQ9YS5TZWxlY3RvcnNJbnRlcmZhY2UsZT1hLm1peGluLGY9YS5yZWdpc3Rlck9iamVjdCxnPWYoZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtlKGcucHJvdG90eXBlLGMpLGUoZy5wcm90b3R5cGUsZCksZShnLnByb3RvdHlwZSxiKTt2YXIgaD1mKGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikpO2Eud3JhcHBlcnMuQ29tbWVudD1oLGEud3JhcHBlcnMuRG9jdW1lbnRGcmFnbWVudD1nfSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7dmFyIGI9bChrKGEpLm93bmVyRG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpKTtjLmNhbGwodGhpcyxiKSxpKGIsdGhpcyk7dmFyIGU9YS5zaGFkb3dSb290O24uc2V0KHRoaXMsZSksdGhpcy50cmVlU2NvcGVfPW5ldyBkKHRoaXMsZyhlfHxhKSksbS5zZXQodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkRvY3VtZW50RnJhZ21lbnQsZD1hLlRyZWVTY29wZSxlPWEuZWxlbWVudEZyb21Qb2ludCxmPWEuZ2V0SW5uZXJIVE1MLGc9YS5nZXRUcmVlU2NvcGUsaD1hLm1peGluLGk9YS5yZXdyYXAsaj1hLnNldElubmVySFRNTCxrPWEudW5zYWZlVW53cmFwLGw9YS51bndyYXAsbT1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwLG89L1sgXFx0XFxuXFxyXFxmXS87Yi5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShjLnByb3RvdHlwZSksaChiLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6YixnZXQgaW5uZXJIVE1MKCl7cmV0dXJuIGYodGhpcyl9LHNldCBpbm5lckhUTUwoYSl7aih0aGlzLGEpLHRoaXMuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGdldCBvbGRlclNoYWRvd1Jvb3QoKXtyZXR1cm4gbi5nZXQodGhpcyl8fG51bGx9LGdldCBob3N0KCl7cmV0dXJuIG0uZ2V0KHRoaXMpfHxudWxsfSxpbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbS5nZXQodGhpcykuaW52YWxpZGF0ZVNoYWRvd1JlbmRlcmVyKCl9LGVsZW1lbnRGcm9tUG9pbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzLHRoaXMub3duZXJEb2N1bWVudCxhLGIpfSxnZXRFbGVtZW50QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gby50ZXN0KGEpP251bGw6dGhpcy5xdWVyeVNlbGVjdG9yKCdbaWQ9XCInK2ErJ1wiXScpfX0pLGEud3JhcHBlcnMuU2hhZG93Um9vdD1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYSl7YS5wcmV2aW91c1NpYmxpbmdfPWEucHJldmlvdXNTaWJsaW5nLGEubmV4dFNpYmxpbmdfPWEubmV4dFNpYmxpbmcsYS5wYXJlbnROb2RlXz1hLnBhcmVudE5vZGV9ZnVuY3Rpb24gYyhjLGUsZil7dmFyIGc9SChjKSxoPUgoZSksaT1mP0goZik6bnVsbDtpZihkKGUpLGIoZSksZiljLmZpcnN0Q2hpbGQ9PT1mJiYoYy5maXJzdENoaWxkXz1mKSxmLnByZXZpb3VzU2libGluZ189Zi5wcmV2aW91c1NpYmxpbmc7ZWxzZXtjLmxhc3RDaGlsZF89Yy5sYXN0Q2hpbGQsYy5sYXN0Q2hpbGQ9PT1jLmZpcnN0Q2hpbGQmJihjLmZpcnN0Q2hpbGRfPWMuZmlyc3RDaGlsZCk7dmFyIGo9SShnLmxhc3RDaGlsZCk7aiYmKGoubmV4dFNpYmxpbmdfPWoubmV4dFNpYmxpbmcpfWEub3JpZ2luYWxJbnNlcnRCZWZvcmUuY2FsbChnLGgsaSl9ZnVuY3Rpb24gZChjKXt2YXIgZD1IKGMpLGU9ZC5wYXJlbnROb2RlO2lmKGUpe3ZhciBmPUkoZSk7YihjKSxjLnByZXZpb3VzU2libGluZyYmKGMucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nXz1jKSxjLm5leHRTaWJsaW5nJiYoYy5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmdfPWMpLGYubGFzdENoaWxkPT09YyYmKGYubGFzdENoaWxkXz1jKSxmLmZpcnN0Q2hpbGQ9PT1jJiYoZi5maXJzdENoaWxkXz1jKSxhLm9yaWdpbmFsUmVtb3ZlQ2hpbGQuY2FsbChlLGQpfX1mdW5jdGlvbiBlKGEpe0ouc2V0KGEsW10pfWZ1bmN0aW9uIGYoYSl7dmFyIGI9Si5nZXQoYSk7cmV0dXJuIGJ8fEouc2V0KGEsYj1bXSksYn1mdW5jdGlvbiBnKGEpe2Zvcih2YXIgYj1bXSxjPTAsZD1hLmZpcnN0Q2hpbGQ7ZDtkPWQubmV4dFNpYmxpbmcpYltjKytdPWQ7cmV0dXJuIGJ9ZnVuY3Rpb24gaCgpe2Zvcih2YXIgYT0wO2E8Ti5sZW5ndGg7YSsrKXt2YXIgYj1OW2FdLGM9Yi5wYXJlbnRSZW5kZXJlcjtjJiZjLmRpcnR5fHxiLnJlbmRlcigpfU49W119ZnVuY3Rpb24gaSgpe3k9bnVsbCxoKCl9ZnVuY3Rpb24gaihhKXt2YXIgYj1MLmdldChhKTtyZXR1cm4gYnx8KGI9bmV3IG4oYSksTC5zZXQoYSxiKSksYn1mdW5jdGlvbiBrKGEpe3ZhciBiPUUoYSkucm9vdDtyZXR1cm4gYiBpbnN0YW5jZW9mIEQ/YjpudWxsfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGooYS5ob3N0KX1mdW5jdGlvbiBtKGEpe3RoaXMuc2tpcD0hMSx0aGlzLm5vZGU9YSx0aGlzLmNoaWxkTm9kZXM9W119ZnVuY3Rpb24gbihhKXt0aGlzLmhvc3Q9YSx0aGlzLmRpcnR5PSExLHRoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKSx0aGlzLmFzc29jaWF0ZU5vZGUoYSl9ZnVuY3Rpb24gbyhhKXtmb3IodmFyIGI9W10sYz1hLmZpcnN0Q2hpbGQ7YztjPWMubmV4dFNpYmxpbmcpdihjKT9iLnB1c2guYXBwbHkoYixmKGMpKTpiLnB1c2goYyk7cmV0dXJuIGJ9ZnVuY3Rpb24gcChhKXtpZihhIGluc3RhbmNlb2YgQilyZXR1cm4gYTtpZihhIGluc3RhbmNlb2YgQSlyZXR1cm4gbnVsbDtmb3IodmFyIGI9YS5maXJzdENoaWxkO2I7Yj1iLm5leHRTaWJsaW5nKXt2YXIgYz1wKGIpO2lmKGMpcmV0dXJuIGN9cmV0dXJuIG51bGx9ZnVuY3Rpb24gcShhLGIpe2YoYikucHVzaChhKTt2YXIgYz1LLmdldChhKTtjP2MucHVzaChiKTpLLnNldChhLFtiXSl9ZnVuY3Rpb24gcihhKXtyZXR1cm4gSy5nZXQoYSl9ZnVuY3Rpb24gcyhhKXtLLnNldChhLHZvaWQgMCl9ZnVuY3Rpb24gdChhLGIpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKFwic2VsZWN0XCIpO2lmKCFjKXJldHVybiEwO2lmKGM9Yy50cmltKCksIWMpcmV0dXJuITA7aWYoIShhIGluc3RhbmNlb2YgeikpcmV0dXJuITE7aWYoIVAudGVzdChjKSlyZXR1cm4hMTt0cnl7cmV0dXJuIGEubWF0Y2hlcyhjKX1jYXRjaChkKXtyZXR1cm4hMX19ZnVuY3Rpb24gdShhLGIpe3ZhciBjPXIoYik7cmV0dXJuIGMmJmNbYy5sZW5ndGgtMV09PT1hfWZ1bmN0aW9uIHYoYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiBBfHxhIGluc3RhbmNlb2YgQn1mdW5jdGlvbiB3KGEpe3JldHVybiBhLnNoYWRvd1Jvb3R9ZnVuY3Rpb24geChhKXtmb3IodmFyIGI9W10sYz1hLnNoYWRvd1Jvb3Q7YztjPWMub2xkZXJTaGFkb3dSb290KWIucHVzaChjKTtyZXR1cm4gYn12YXIgeSx6PWEud3JhcHBlcnMuRWxlbWVudCxBPWEud3JhcHBlcnMuSFRNTENvbnRlbnRFbGVtZW50LEI9YS53cmFwcGVycy5IVE1MU2hhZG93RWxlbWVudCxDPWEud3JhcHBlcnMuTm9kZSxEPWEud3JhcHBlcnMuU2hhZG93Um9vdCxFPShhLmFzc2VydCxhLmdldFRyZWVTY29wZSksRj0oYS5taXhpbixhLm9uZU9mKSxHPWEudW5zYWZlVW53cmFwLEg9YS51bndyYXAsST1hLndyYXAsSj1uZXcgV2Vha01hcCxLPW5ldyBXZWFrTWFwLEw9bmV3IFdlYWtNYXAsTT1GKHdpbmRvdyxbXCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIixcIm1velJlcXVlc3RBbmltYXRpb25GcmFtZVwiLFwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXCIsXCJzZXRUaW1lb3V0XCJdKSxOPVtdLE89bmV3IEFycmF5U3BsaWNlO08uZXF1YWxzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEgoYS5ub2RlKT09PWJ9LG0ucHJvdG90eXBlPXthcHBlbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IG0oYSk7cmV0dXJuIHRoaXMuY2hpbGROb2Rlcy5wdXNoKGIpLGJ9LHN5bmM6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuc2tpcCl7Zm9yKHZhciBiPXRoaXMubm9kZSxlPXRoaXMuY2hpbGROb2RlcyxmPWcoSChiKSksaD1hfHxuZXcgV2Vha01hcCxpPU8uY2FsY3VsYXRlU3BsaWNlcyhlLGYpLGo9MCxrPTAsbD0wLG09MDttPGkubGVuZ3RoO20rKyl7Zm9yKHZhciBuPWlbbV07bDxuLmluZGV4O2wrKylrKyssZVtqKytdLnN5bmMoaCk7Zm9yKHZhciBvPW4ucmVtb3ZlZC5sZW5ndGgscD0wO28+cDtwKyspe3ZhciBxPUkoZltrKytdKTtoLmdldChxKXx8ZChxKX1mb3IodmFyIHI9bi5hZGRlZENvdW50LHM9ZltrXSYmSShmW2tdKSxwPTA7cj5wO3ArKyl7dmFyIHQ9ZVtqKytdLHU9dC5ub2RlO2MoYix1LHMpLGguc2V0KHUsITApLHQuc3luYyhoKX1sKz1yfWZvcih2YXIgbT1sO208ZS5sZW5ndGg7bSsrKWVbbV0uc3luYyhoKX19fSxuLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlydHkpe3RoaXMuaW52YWxpZGF0ZUF0dHJpYnV0ZXMoKTt2YXIgYj10aGlzLmhvc3Q7dGhpcy5kaXN0cmlidXRpb24oYik7dmFyIGM9YXx8bmV3IG0oYik7dGhpcy5idWlsZFJlbmRlclRyZWUoYyxiKTt2YXIgZD0hYTtkJiZjLnN5bmMoKSx0aGlzLmRpcnR5PSExfX0sZ2V0IHBhcmVudFJlbmRlcmVyKCl7cmV0dXJuIEUodGhpcy5ob3N0KS5yZW5kZXJlcn0saW52YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmRpcnR5KXt0aGlzLmRpcnR5PSEwO3ZhciBhPXRoaXMucGFyZW50UmVuZGVyZXI7aWYoYSYmYS5pbnZhbGlkYXRlKCksTi5wdXNoKHRoaXMpLHkpcmV0dXJuO3k9d2luZG93W01dKGksMCl9fSxkaXN0cmlidXRpb246ZnVuY3Rpb24oYSl7dGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpLHRoaXMuZGlzdHJpYnV0aW9uUmVzb2x1dGlvbihhKX0scmVzZXRBbGw6ZnVuY3Rpb24oYSl7dihhKT9lKGEpOnMoYSksdGhpcy5yZXNldEFsbFN1YnRyZWVzKGEpfSxyZXNldEFsbFN1YnRyZWVzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hLmZpcnN0Q2hpbGQ7YjtiPWIubmV4dFNpYmxpbmcpdGhpcy5yZXNldEFsbChiKTthLnNoYWRvd1Jvb3QmJnRoaXMucmVzZXRBbGwoYS5zaGFkb3dSb290KSxhLm9sZGVyU2hhZG93Um9vdCYmdGhpcy5yZXNldEFsbChhLm9sZGVyU2hhZG93Um9vdCl9LGRpc3RyaWJ1dGlvblJlc29sdXRpb246ZnVuY3Rpb24oYSl7aWYodyhhKSl7Zm9yKHZhciBiPWEsYz1vKGIpLGQ9eChiKSxlPTA7ZTxkLmxlbmd0aDtlKyspdGhpcy5wb29sRGlzdHJpYnV0aW9uKGRbZV0sYyk7Zm9yKHZhciBlPWQubGVuZ3RoLTE7ZT49MDtlLS0pe3ZhciBmPWRbZV0sZz1wKGYpO2lmKGcpe3ZhciBoPWYub2xkZXJTaGFkb3dSb290O2gmJihjPW8oaCkpO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXEoY1tpXSxnKX10aGlzLmRpc3RyaWJ1dGlvblJlc29sdXRpb24oZil9fWZvcih2YXIgaj1hLmZpcnN0Q2hpbGQ7ajtqPWoubmV4dFNpYmxpbmcpdGhpcy5kaXN0cmlidXRpb25SZXNvbHV0aW9uKGopfSxwb29sRGlzdHJpYnV0aW9uOmZ1bmN0aW9uKGEsYil7aWYoIShhIGluc3RhbmNlb2YgQikpaWYoYSBpbnN0YW5jZW9mIEEpe3ZhciBjPWE7dGhpcy51cGRhdGVEZXBlbmRlbnRBdHRyaWJ1dGVzKGMuZ2V0QXR0cmlidXRlKFwic2VsZWN0XCIpKTtmb3IodmFyIGQ9ITEsZT0wO2U8Yi5sZW5ndGg7ZSsrKXt2YXIgYT1iW2VdO2EmJnQoYSxjKSYmKHEoYSxjKSxiW2VdPXZvaWQgMCxkPSEwKX1pZighZClmb3IodmFyIGY9Yy5maXJzdENoaWxkO2Y7Zj1mLm5leHRTaWJsaW5nKXEoZixjKX1lbHNlIGZvcih2YXIgZj1hLmZpcnN0Q2hpbGQ7ZjtmPWYubmV4dFNpYmxpbmcpdGhpcy5wb29sRGlzdHJpYnV0aW9uKGYsYil9LGJ1aWxkUmVuZGVyVHJlZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLmNvbXBvc2UoYiksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdLGY9YS5hcHBlbmQoZSk7dGhpcy5idWlsZFJlbmRlclRyZWUoZixlKX1pZih3KGIpKXt2YXIgZz1qKGIpO2cuZGlydHk9ITF9fSxjb21wb3NlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPWEuc2hhZG93Um9vdHx8YSxkPWMuZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylpZih2KGQpKXt0aGlzLmFzc29jaWF0ZU5vZGUoYyk7Zm9yKHZhciBlPWYoZCksZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgaD1lW2ddO3UoZCxoKSYmYi5wdXNoKGgpfX1lbHNlIGIucHVzaChkKTtyZXR1cm4gYn0saW52YWxpZGF0ZUF0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLmF0dHJpYnV0ZXM9T2JqZWN0LmNyZWF0ZShudWxsKX0sdXBkYXRlRGVwZW5kZW50QXR0cmlidXRlczpmdW5jdGlvbihhKXtpZihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXM7L1xcLlxcdysvLnRlc3QoYSkmJihiW1wiY2xhc3NcIl09ITApLC8jXFx3Ky8udGVzdChhKSYmKGIuaWQ9ITApLGEucmVwbGFjZSgvXFxbXFxzKihbXlxccz1cXHx+XFxdXSspL2csZnVuY3Rpb24oYSxjKXtiW2NdPSEwfSl9fSxkZXBlbmRzT25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXR0cmlidXRlc1thXX0sYXNzb2NpYXRlTm9kZTpmdW5jdGlvbihhKXtHKGEpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89dGhpc319O3ZhciBQPS9eKDpub3RcXCgpP1sqLiNbYS16QS1aX3xdLztDLnByb3RvdHlwZS5pbnZhbGlkYXRlU2hhZG93UmVuZGVyZXI9ZnVuY3Rpb24oKXt2YXIgYT1HKHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl87cmV0dXJuIGE/KGEuaW52YWxpZGF0ZSgpLCEwKTohMX0sQS5wcm90b3R5cGUuZ2V0RGlzdHJpYnV0ZWROb2Rlcz1CLnByb3RvdHlwZS5nZXREaXN0cmlidXRlZE5vZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGgoKSxmKHRoaXMpfSx6LnByb3RvdHlwZS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1mdW5jdGlvbigpe3JldHVybiBoKCkscih0aGlzKXx8W119LEEucHJvdG90eXBlLm5vZGVJc0luc2VydGVkXz1CLnByb3RvdHlwZS5ub2RlSXNJbnNlcnRlZF89ZnVuY3Rpb24oKXt0aGlzLmludmFsaWRhdGVTaGFkb3dSZW5kZXJlcigpO3ZhciBhLGI9ayh0aGlzKTtiJiYoYT1sKGIpKSxHKHRoaXMpLnBvbHltZXJTaGFkb3dSZW5kZXJlcl89YSxhJiZhLmludmFsaWRhdGUoKX0sYS5nZXRSZW5kZXJlckZvckhvc3Q9aixhLmdldFNoYWRvd1RyZWVzPXgsYS5yZW5kZXJBbGxQZW5kaW5nPWgsYS5nZXREZXN0aW5hdGlvbkluc2VydGlvblBvaW50cz1yLGEudmlzdWFsPXtpbnNlcnRCZWZvcmU6YyxyZW1vdmU6ZH19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihiKXtpZih3aW5kb3dbYl0pe2QoIWEud3JhcHBlcnNbYl0pO3ZhciBpPWZ1bmN0aW9uKGEpe2MuY2FsbCh0aGlzLGEpfTtpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGMucHJvdG90eXBlKSxlKGkucHJvdG90eXBlLHtnZXQgZm9ybSgpe3JldHVybiBoKGcodGhpcykuZm9ybSl9fSksZih3aW5kb3dbYl0saSxkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIuc2xpY2UoNCwtNykpKSxhLndyYXBwZXJzW2JdPWl9fXZhciBjPWEud3JhcHBlcnMuSFRNTEVsZW1lbnQsZD1hLmFzc2VydCxlPWEubWl4aW4sZj1hLnJlZ2lzdGVyV3JhcHBlcixnPWEudW53cmFwLGg9YS53cmFwLGk9W1wiSFRNTEJ1dHRvbkVsZW1lbnRcIixcIkhUTUxGaWVsZFNldEVsZW1lbnRcIixcIkhUTUxJbnB1dEVsZW1lbnRcIixcIkhUTUxLZXlnZW5FbGVtZW50XCIsXCJIVE1MTGFiZWxFbGVtZW50XCIsXCJIVE1MTGVnZW5kRWxlbWVudFwiLFwiSFRNTE9iamVjdEVsZW1lbnRcIixcIkhUTUxPdXRwdXRFbGVtZW50XCIsXCJIVE1MVGV4dEFyZWFFbGVtZW50XCJdO2kuZm9yRWFjaChiKX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe2QoYSx0aGlzKX17dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnNldFdyYXBwZXIsZT1hLnVuc2FmZVVud3JhcCxmPWEudW53cmFwLGc9YS51bndyYXBJZk5lZWRlZCxoPWEud3JhcDt3aW5kb3cuU2VsZWN0aW9ufWIucHJvdG90eXBlPXtnZXQgYW5jaG9yTm9kZSgpe3JldHVybiBoKGUodGhpcykuYW5jaG9yTm9kZSl9LGdldCBmb2N1c05vZGUoKXtyZXR1cm4gaChlKHRoaXMpLmZvY3VzTm9kZSl9LGFkZFJhbmdlOmZ1bmN0aW9uKGEpe2UodGhpcykuYWRkUmFuZ2UoZihhKSl9LGNvbGxhcHNlOmZ1bmN0aW9uKGEsYil7ZSh0aGlzKS5jb2xsYXBzZShnKGEpLGIpfSxjb250YWluc05vZGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZSh0aGlzKS5jb250YWluc05vZGUoZyhhKSxiKX0sZXh0ZW5kOmZ1bmN0aW9uKGEsYil7ZSh0aGlzKS5leHRlbmQoZyhhKSxiKX0sZ2V0UmFuZ2VBdDpmdW5jdGlvbihhKXtyZXR1cm4gaChlKHRoaXMpLmdldFJhbmdlQXQoYSkpfSxyZW1vdmVSYW5nZTpmdW5jdGlvbihhKXtlKHRoaXMpLnJlbW92ZVJhbmdlKGYoYSkpfSxzZWxlY3RBbGxDaGlsZHJlbjpmdW5jdGlvbihhKXtlKHRoaXMpLnNlbGVjdEFsbENoaWxkcmVuKGcoYSkpfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiBlKHRoaXMpLnRvU3RyaW5nKCl9fSxjKHdpbmRvdy5TZWxlY3Rpb24sYix3aW5kb3cuZ2V0U2VsZWN0aW9uKCkpLGEud3JhcHBlcnMuU2VsZWN0aW9uPWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtrLmNhbGwodGhpcyxhKSx0aGlzLnRyZWVTY29wZV89bmV3IHAodGhpcyxudWxsKX1mdW5jdGlvbiBjKGEpe3ZhciBjPWRvY3VtZW50W2FdO2IucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7cmV0dXJuIEMoYy5hcHBseShBKHRoaXMpLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGEsYil7Ri5jYWxsKEEoYiksQihhKSksZShhLGIpfWZ1bmN0aW9uIGUoYSxiKXthLnNoYWRvd1Jvb3QmJmIuYWRvcHROb2RlKGEuc2hhZG93Um9vdCksYSBpbnN0YW5jZW9mIG8mJmYoYSxiKTtmb3IodmFyIGM9YS5maXJzdENoaWxkO2M7Yz1jLm5leHRTaWJsaW5nKWUoYyxiKX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9YS5vbGRlclNoYWRvd1Jvb3Q7YyYmYi5hZG9wdE5vZGUoYyl9ZnVuY3Rpb24gZyhhKXt6KGEsdGhpcyl9ZnVuY3Rpb24gaChhLGIpe3ZhciBjPWRvY3VtZW50LmltcGxlbWVudGF0aW9uW2JdO2EucHJvdG90eXBlW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIEMoYy5hcHBseShBKHRoaXMpLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBpKGEsYil7dmFyIGM9ZG9jdW1lbnQuaW1wbGVtZW50YXRpb25bYl07YS5wcm90b3R5cGVbYl09ZnVuY3Rpb24oKXtyZXR1cm4gYy5hcHBseShBKHRoaXMpLGFyZ3VtZW50cyl9fXZhciBqPWEuR2V0RWxlbWVudHNCeUludGVyZmFjZSxrPWEud3JhcHBlcnMuTm9kZSxsPWEuUGFyZW50Tm9kZUludGVyZmFjZSxtPWEud3JhcHBlcnMuU2VsZWN0aW9uLG49YS5TZWxlY3RvcnNJbnRlcmZhY2Usbz1hLndyYXBwZXJzLlNoYWRvd1Jvb3QscD1hLlRyZWVTY29wZSxxPWEuY2xvbmVOb2RlLHI9YS5kZWZpbmVXcmFwR2V0dGVyLHM9YS5lbGVtZW50RnJvbVBvaW50LHQ9YS5mb3J3YXJkTWV0aG9kc1RvV3JhcHBlcix1PWEubWF0Y2hlc05hbWVzLHY9YS5taXhpbix3PWEucmVnaXN0ZXJXcmFwcGVyLHg9YS5yZW5kZXJBbGxQZW5kaW5nLHk9YS5yZXdyYXAsej1hLnNldFdyYXBwZXIsQT1hLnVuc2FmZVVud3JhcCxCPWEudW53cmFwLEM9YS53cmFwLEQ9YS53cmFwRXZlbnRUYXJnZXRNZXRob2RzLEU9KGEud3JhcE5vZGVMaXN0LG5ldyBXZWFrTWFwKTtiLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKGsucHJvdG90eXBlKSxyKGIsXCJkb2N1bWVudEVsZW1lbnRcIikscihiLFwiYm9keVwiKSxyKGIsXCJoZWFkXCIpLFtcImNyZWF0ZUNvbW1lbnRcIixcImNyZWF0ZURvY3VtZW50RnJhZ21lbnRcIixcImNyZWF0ZUVsZW1lbnRcIixcImNyZWF0ZUVsZW1lbnROU1wiLFwiY3JlYXRlRXZlbnRcIixcImNyZWF0ZUV2ZW50TlNcIixcImNyZWF0ZVJhbmdlXCIsXCJjcmVhdGVUZXh0Tm9kZVwiLFwiZ2V0RWxlbWVudEJ5SWRcIl0uZm9yRWFjaChjKTt2YXIgRj1kb2N1bWVudC5hZG9wdE5vZGUsRz1kb2N1bWVudC5nZXRTZWxlY3Rpb247aWYodihiLnByb3RvdHlwZSx7YWRvcHROb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBhLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKSxkKGEsdGhpcyksYX0sZWxlbWVudEZyb21Qb2ludDpmdW5jdGlvbihhLGIpe3JldHVybiBzKHRoaXMsdGhpcyxhLGIpfSxpbXBvcnROb2RlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHEoYSxiLEEodGhpcykpfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4geCgpLG5ldyBtKEcuY2FsbChCKHRoaXMpKSl9LGdldEVsZW1lbnRzQnlOYW1lOmZ1bmN0aW9uKGEpe3JldHVybiBuLnF1ZXJ5U2VsZWN0b3JBbGwuY2FsbCh0aGlzLFwiW25hbWU9XCIrSlNPTi5zdHJpbmdpZnkoU3RyaW5nKGEpKStcIl1cIil9fSksZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KXt2YXIgSD1kb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ7Yi5wcm90b3R5cGUucmVnaXN0ZXJFbGVtZW50PWZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm4gYT92b2lkIHooYSx0aGlzKTpmP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZixiKTpkb2N1bWVudC5jcmVhdGVFbGVtZW50KGIpfXZhciBlLGY7aWYodm9pZCAwIT09YyYmKGU9Yy5wcm90b3R5cGUsZj1jLmV4dGVuZHMpLGV8fChlPU9iamVjdC5jcmVhdGUoSFRNTEVsZW1lbnQucHJvdG90eXBlKSksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5nZXQoZSkpdGhyb3cgbmV3IEVycm9yKFwiTm90U3VwcG9ydGVkRXJyb3JcIik7Zm9yKHZhciBnLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLGk9W107aCYmIShnPWEubmF0aXZlUHJvdG90eXBlVGFibGUuZ2V0KGgpKTspaS5wdXNoKGgpLGg9T2JqZWN0LmdldFByb3RvdHlwZU9mKGgpO2lmKCFnKXRocm93IG5ldyBFcnJvcihcIk5vdFN1cHBvcnRlZEVycm9yXCIpO2Zvcih2YXIgaj1PYmplY3QuY3JlYXRlKGcpLGs9aS5sZW5ndGgtMTtrPj0wO2stLSlqPU9iamVjdC5jcmVhdGUoaik7W1wiY3JlYXRlZENhbGxiYWNrXCIsXCJhdHRhY2hlZENhbGxiYWNrXCIsXCJkZXRhY2hlZENhbGxiYWNrXCIsXCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2tcIl0uZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1lW2FdO2ImJihqW2FdPWZ1bmN0aW9uKCl7Qyh0aGlzKWluc3RhbmNlb2YgZHx8eSh0aGlzKSxiLmFwcGx5KEModGhpcyksYXJndW1lbnRzKX0pfSk7dmFyIGw9e3Byb3RvdHlwZTpqfTtmJiYobC5leHRlbmRzPWYpLGQucHJvdG90eXBlPWUsZC5wcm90b3R5cGUuY29uc3RydWN0b3I9ZCxhLmNvbnN0cnVjdG9yVGFibGUuc2V0KGosZCksYS5uYXRpdmVQcm90b3R5cGVUYWJsZS5zZXQoZSxqKTtILmNhbGwoQih0aGlzKSxiLGwpO3JldHVybiBkfSx0KFt3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnRdLFtcInJlZ2lzdGVyRWxlbWVudFwiXSl9dChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudCx3aW5kb3cuSFRNTEh0bWxFbGVtZW50XSxbXCJhcHBlbmRDaGlsZFwiLFwiY29tcGFyZURvY3VtZW50UG9zaXRpb25cIixcImNvbnRhaW5zXCIsXCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lXCIsXCJnZXRFbGVtZW50c0J5VGFnTmFtZVwiLFwiZ2V0RWxlbWVudHNCeVRhZ05hbWVOU1wiLFwiaW5zZXJ0QmVmb3JlXCIsXCJxdWVyeVNlbGVjdG9yXCIsXCJxdWVyeVNlbGVjdG9yQWxsXCIsXCJyZW1vdmVDaGlsZFwiLFwicmVwbGFjZUNoaWxkXCJdLmNvbmNhdCh1KSksdChbd2luZG93LkhUTUxEb2N1bWVudHx8d2luZG93LkRvY3VtZW50XSxbXCJhZG9wdE5vZGVcIixcImltcG9ydE5vZGVcIixcImNvbnRhaW5zXCIsXCJjcmVhdGVDb21tZW50XCIsXCJjcmVhdGVEb2N1bWVudEZyYWdtZW50XCIsXCJjcmVhdGVFbGVtZW50XCIsXCJjcmVhdGVFbGVtZW50TlNcIixcImNyZWF0ZUV2ZW50XCIsXCJjcmVhdGVFdmVudE5TXCIsXCJjcmVhdGVSYW5nZVwiLFwiY3JlYXRlVGV4dE5vZGVcIixcImVsZW1lbnRGcm9tUG9pbnRcIixcImdldEVsZW1lbnRCeUlkXCIsXCJnZXRFbGVtZW50c0J5TmFtZVwiLFwiZ2V0U2VsZWN0aW9uXCJdKSx2KGIucHJvdG90eXBlLGopLHYoYi5wcm90b3R5cGUsbCksdihiLnByb3RvdHlwZSxuKSx2KGIucHJvdG90eXBlLHtnZXQgaW1wbGVtZW50YXRpb24oKXt2YXIgYT1FLmdldCh0aGlzKTtyZXR1cm4gYT9hOihhPW5ldyBnKEIodGhpcykuaW1wbGVtZW50YXRpb24pLEUuc2V0KHRoaXMsYSksYSl9LGdldCBkZWZhdWx0Vmlldygpe3JldHVybiBDKEIodGhpcykuZGVmYXVsdFZpZXcpfX0pLHcod2luZG93LkRvY3VtZW50LGIsZG9jdW1lbnQuaW1wbGVtZW50YXRpb24uY3JlYXRlSFRNTERvY3VtZW50KFwiXCIpKSx3aW5kb3cuSFRNTERvY3VtZW50JiZ3KHdpbmRvdy5IVE1MRG9jdW1lbnQsYiksRChbd2luZG93LkhUTUxCb2R5RWxlbWVudCx3aW5kb3cuSFRNTERvY3VtZW50fHx3aW5kb3cuRG9jdW1lbnQsd2luZG93LkhUTUxIZWFkRWxlbWVudF0pLGgoZyxcImNyZWF0ZURvY3VtZW50VHlwZVwiKSxoKGcsXCJjcmVhdGVEb2N1bWVudFwiKSxoKGcsXCJjcmVhdGVIVE1MRG9jdW1lbnRcIiksaShnLFwiaGFzRmVhdHVyZVwiKSx3KHdpbmRvdy5ET01JbXBsZW1lbnRhdGlvbixnKSx0KFt3aW5kb3cuRE9NSW1wbGVtZW50YXRpb25dLFtcImNyZWF0ZURvY3VtZW50VHlwZVwiLFwiY3JlYXRlRG9jdW1lbnRcIixcImNyZWF0ZUhUTUxEb2N1bWVudFwiLFwiaGFzRmVhdHVyZVwiXSksYS5hZG9wdE5vZGVOb1JlbW92ZT1kLGEud3JhcHBlcnMuRE9NSW1wbGVtZW50YXRpb249ZyxhLndyYXBwZXJzLkRvY3VtZW50PWJ9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtjLmNhbGwodGhpcyxhKX12YXIgYz1hLndyYXBwZXJzLkV2ZW50VGFyZ2V0LGQ9YS53cmFwcGVycy5TZWxlY3Rpb24sZT1hLm1peGluLGY9YS5yZWdpc3RlcldyYXBwZXIsZz1hLnJlbmRlckFsbFBlbmRpbmcsaD1hLnVud3JhcCxpPWEudW53cmFwSWZOZWVkZWQsaj1hLndyYXAsaz13aW5kb3cuV2luZG93LGw9d2luZG93LmdldENvbXB1dGVkU3R5bGUsbT13aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUsbj13aW5kb3cuZ2V0U2VsZWN0aW9uO2IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoYy5wcm90b3R5cGUpLGsucHJvdG90eXBlLmdldENvbXB1dGVkU3R5bGU9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gaih0aGlzfHx3aW5kb3cpLmdldENvbXB1dGVkU3R5bGUoaShhKSxiKX0sbSYmKGsucHJvdG90eXBlLmdldERlZmF1bHRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXREZWZhdWx0Q29tcHV0ZWRTdHlsZShpKGEpLGIpfSksay5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGoodGhpc3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKX0sZGVsZXRlIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlLGRlbGV0ZSB3aW5kb3cuZ2V0RGVmYXVsdENvbXB1dGVkU3R5bGUsZGVsZXRlIHdpbmRvdy5nZXRTZWxlY3Rpb24sW1wiYWRkRXZlbnRMaXN0ZW5lclwiLFwicmVtb3ZlRXZlbnRMaXN0ZW5lclwiLFwiZGlzcGF0Y2hFdmVudFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2sucHJvdG90eXBlW2FdPWZ1bmN0aW9uKCl7dmFyIGI9aih0aGlzfHx3aW5kb3cpO3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX0sZGVsZXRlIHdpbmRvd1thXX0pLGUoYi5wcm90b3R5cGUse2dldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZygpLGwuY2FsbChoKHRoaXMpLGkoYSksYil9LGdldFNlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiBnKCksbmV3IGQobi5jYWxsKGgodGhpcykpKX0sZ2V0IGRvY3VtZW50KCl7cmV0dXJuIGooaCh0aGlzKS5kb2N1bWVudCl9fSksbSYmKGIucHJvdG90eXBlLmdldERlZmF1bHRDb21wdXRlZFN0eWxlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoKSxtLmNhbGwoaCh0aGlzKSxpKGEpLGIpfSksZihrLGIsd2luZG93KSxhLndyYXBwZXJzLldpbmRvdz1ifSh3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO3ZhciBiPWEudW53cmFwLGM9d2luZG93LkRhdGFUcmFuc2Zlcnx8d2luZG93LkNsaXBib2FyZCxkPWMucHJvdG90eXBlLnNldERyYWdJbWFnZTtkJiYoYy5wcm90b3R5cGUuc2V0RHJhZ0ltYWdlPWZ1bmN0aW9uKGEsYyxlKXtkLmNhbGwodGhpcyxiKGEpLGMsZSl9KX0od2luZG93LlNoYWRvd0RPTVBvbHlmaWxsKSxmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGEpe3ZhciBiO2I9YSBpbnN0YW5jZW9mIGY/YTpuZXcgZihhJiZlKGEpKSxkKGIsdGhpcyl9dmFyIGM9YS5yZWdpc3RlcldyYXBwZXIsZD1hLnNldFdyYXBwZXIsZT1hLnVud3JhcCxmPXdpbmRvdy5Gb3JtRGF0YTtmJiYoYyhmLGIsbmV3IGYpLGEud3JhcHBlcnMuRm9ybURhdGE9Yil9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGI9YS51bndyYXBJZk5lZWRlZCxjPVhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kO1hNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGEpe3JldHVybiBjLmNhbGwodGhpcyxiKGEpKX19KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXt2YXIgYj1jW2FdLGQ9d2luZG93W2JdO2lmKGQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZj1lLmNvbnN0cnVjdG9yO3dpbmRvd1tiXT1mfX12YXIgYz0oYS5pc1dyYXBwZXJGb3Ise2E6XCJIVE1MQW5jaG9yRWxlbWVudFwiLGFyZWE6XCJIVE1MQXJlYUVsZW1lbnRcIixhdWRpbzpcIkhUTUxBdWRpb0VsZW1lbnRcIixiYXNlOlwiSFRNTEJhc2VFbGVtZW50XCIsYm9keTpcIkhUTUxCb2R5RWxlbWVudFwiLGJyOlwiSFRNTEJSRWxlbWVudFwiLGJ1dHRvbjpcIkhUTUxCdXR0b25FbGVtZW50XCIsY2FudmFzOlwiSFRNTENhbnZhc0VsZW1lbnRcIixjYXB0aW9uOlwiSFRNTFRhYmxlQ2FwdGlvbkVsZW1lbnRcIixjb2w6XCJIVE1MVGFibGVDb2xFbGVtZW50XCIsY29udGVudDpcIkhUTUxDb250ZW50RWxlbWVudFwiLGRhdGE6XCJIVE1MRGF0YUVsZW1lbnRcIixkYXRhbGlzdDpcIkhUTUxEYXRhTGlzdEVsZW1lbnRcIixkZWw6XCJIVE1MTW9kRWxlbWVudFwiLGRpcjpcIkhUTUxEaXJlY3RvcnlFbGVtZW50XCIsZGl2OlwiSFRNTERpdkVsZW1lbnRcIixkbDpcIkhUTUxETGlzdEVsZW1lbnRcIixlbWJlZDpcIkhUTUxFbWJlZEVsZW1lbnRcIixmaWVsZHNldDpcIkhUTUxGaWVsZFNldEVsZW1lbnRcIixmb250OlwiSFRNTEZvbnRFbGVtZW50XCIsZm9ybTpcIkhUTUxGb3JtRWxlbWVudFwiLGZyYW1lOlwiSFRNTEZyYW1lRWxlbWVudFwiLGZyYW1lc2V0OlwiSFRNTEZyYW1lU2V0RWxlbWVudFwiLGgxOlwiSFRNTEhlYWRpbmdFbGVtZW50XCIsaGVhZDpcIkhUTUxIZWFkRWxlbWVudFwiLGhyOlwiSFRNTEhSRWxlbWVudFwiLGh0bWw6XCJIVE1MSHRtbEVsZW1lbnRcIixpZnJhbWU6XCJIVE1MSUZyYW1lRWxlbWVudFwiLGltZzpcIkhUTUxJbWFnZUVsZW1lbnRcIixpbnB1dDpcIkhUTUxJbnB1dEVsZW1lbnRcIixrZXlnZW46XCJIVE1MS2V5Z2VuRWxlbWVudFwiLGxhYmVsOlwiSFRNTExhYmVsRWxlbWVudFwiLGxlZ2VuZDpcIkhUTUxMZWdlbmRFbGVtZW50XCIsbGk6XCJIVE1MTElFbGVtZW50XCIsbGluazpcIkhUTUxMaW5rRWxlbWVudFwiLG1hcDpcIkhUTUxNYXBFbGVtZW50XCIsbWFycXVlZTpcIkhUTUxNYXJxdWVlRWxlbWVudFwiLG1lbnU6XCJIVE1MTWVudUVsZW1lbnRcIixtZW51aXRlbTpcIkhUTUxNZW51SXRlbUVsZW1lbnRcIixtZXRhOlwiSFRNTE1ldGFFbGVtZW50XCIsbWV0ZXI6XCJIVE1MTWV0ZXJFbGVtZW50XCIsb2JqZWN0OlwiSFRNTE9iamVjdEVsZW1lbnRcIixvbDpcIkhUTUxPTGlzdEVsZW1lbnRcIixvcHRncm91cDpcIkhUTUxPcHRHcm91cEVsZW1lbnRcIixvcHRpb246XCJIVE1MT3B0aW9uRWxlbWVudFwiLG91dHB1dDpcIkhUTUxPdXRwdXRFbGVtZW50XCIscDpcIkhUTUxQYXJhZ3JhcGhFbGVtZW50XCIscGFyYW06XCJIVE1MUGFyYW1FbGVtZW50XCIscHJlOlwiSFRNTFByZUVsZW1lbnRcIixwcm9ncmVzczpcIkhUTUxQcm9ncmVzc0VsZW1lbnRcIixxOlwiSFRNTFF1b3RlRWxlbWVudFwiLHNjcmlwdDpcIkhUTUxTY3JpcHRFbGVtZW50XCIsc2VsZWN0OlwiSFRNTFNlbGVjdEVsZW1lbnRcIixzaGFkb3c6XCJIVE1MU2hhZG93RWxlbWVudFwiLHNvdXJjZTpcIkhUTUxTb3VyY2VFbGVtZW50XCIsc3BhbjpcIkhUTUxTcGFuRWxlbWVudFwiLHN0eWxlOlwiSFRNTFN0eWxlRWxlbWVudFwiLHRhYmxlOlwiSFRNTFRhYmxlRWxlbWVudFwiLHRib2R5OlwiSFRNTFRhYmxlU2VjdGlvbkVsZW1lbnRcIix0ZW1wbGF0ZTpcIkhUTUxUZW1wbGF0ZUVsZW1lbnRcIix0ZXh0YXJlYTpcIkhUTUxUZXh0QXJlYUVsZW1lbnRcIix0aGVhZDpcIkhUTUxUYWJsZVNlY3Rpb25FbGVtZW50XCIsdGltZTpcIkhUTUxUaW1lRWxlbWVudFwiLHRpdGxlOlwiSFRNTFRpdGxlRWxlbWVudFwiLHRyOlwiSFRNTFRhYmxlUm93RWxlbWVudFwiLHRyYWNrOlwiSFRNTFRyYWNrRWxlbWVudFwiLHVsOlwiSFRNTFVMaXN0RWxlbWVudFwiLHZpZGVvOlwiSFRNTFZpZGVvRWxlbWVudFwifSk7T2JqZWN0LmtleXMoYykuZm9yRWFjaChiKSxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhLndyYXBwZXJzKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3dpbmRvd1tiXT1hLndyYXBwZXJzW2JdfSl9KHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMpe3ZhciBkLGUsZixnLGg9YS5maXJzdEVsZW1lbnRDaGlsZDtmb3IoZT1bXSxmPWEuc2hhZG93Um9vdDtmOyllLnB1c2goZiksZj1mLm9sZGVyU2hhZG93Um9vdDtmb3IoZz1lLmxlbmd0aC0xO2c+PTA7Zy0tKWlmKGQ9ZVtnXS5xdWVyeVNlbGVjdG9yKGMpKXJldHVybiBkO2Zvcig7aDspe2lmKGQ9YihoLGMpKXJldHVybiBkO2g9aC5uZXh0RWxlbWVudFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIsZCl7dmFyIGUsZixnLGgsaSxqPWEuZmlyc3RFbGVtZW50Q2hpbGQ7Zm9yKGc9W10sZj1hLnNoYWRvd1Jvb3Q7ZjspZy5wdXNoKGYpLGY9Zi5vbGRlclNoYWRvd1Jvb3Q7Zm9yKGg9Zy5sZW5ndGgtMTtoPj0wO2gtLSlmb3IoZT1nW2hdLnF1ZXJ5U2VsZWN0b3JBbGwoYiksaT0wO2k8ZS5sZW5ndGg7aSsrKWQucHVzaChlW2ldKTtmb3IoO2o7KWMoaixiLGQpLGo9ai5uZXh0RWxlbWVudFNpYmxpbmc7cmV0dXJuIGR9d2luZG93LndyYXA9U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkLHdpbmRvdy51bndyYXA9U2hhZG93RE9NUG9seWZpbGwudW53cmFwSWZOZWVkZWQsT2JqZWN0LmRlZmluZVByb3BlcnR5KEVsZW1lbnQucHJvdG90eXBlLFwid2Via2l0U2hhZG93Um9vdFwiLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRWxlbWVudC5wcm90b3R5cGUsXCJzaGFkb3dSb290XCIpKTt2YXIgZD1FbGVtZW50LnByb3RvdHlwZS5jcmVhdGVTaGFkb3dSb290O0VsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q9ZnVuY3Rpb24oKXt2YXIgYT1kLmNhbGwodGhpcyk7cmV0dXJuIEN1c3RvbUVsZW1lbnRzLndhdGNoU2hhZG93KHRoaXMpLGF9LEVsZW1lbnQucHJvdG90eXBlLndlYmtpdENyZWF0ZVNoYWRvd1Jvb3Q9RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdCxhLnF1ZXJ5QWxsU2hhZG93cz1mdW5jdGlvbihhLGQsZSl7cmV0dXJuIGU/YyhhLGQsW10pOmIoYSxkKX19KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGIpe3ZhciBjPVwiXCI7cmV0dXJuIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxmdW5jdGlvbihhKXtjKz1hLnRleHRDb250ZW50K1wiXFxuXFxuXCJ9KSxifHwoYz1jLnJlcGxhY2UobCxcIlwiKSksY31mdW5jdGlvbiBjKGEpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gYi50ZXh0Q29udGVudD1hLGJ9ZnVuY3Rpb24gZChhKXt2YXIgYj1jKGEpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYik7dmFyIGQ9W107aWYoYi5zaGVldCl0cnl7ZD1iLnNoZWV0LmNzc1J1bGVzfWNhdGNoKGUpe31lbHNlIGNvbnNvbGUud2FybihcInNoZWV0IG5vdCBmb3VuZFwiLGIpO3JldHVybiBiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYiksZH1mdW5jdGlvbiBlKCl7di5pbml0aWFsaXplZD0hMCxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHYpO3ZhciBhPXYuY29udGVudERvY3VtZW50LGI9YS5jcmVhdGVFbGVtZW50KFwiYmFzZVwiKTtiLmhyZWY9ZG9jdW1lbnQuYmFzZVVSSSxhLmhlYWQuYXBwZW5kQ2hpbGQoYil9ZnVuY3Rpb24gZihhKXt2LmluaXRpYWxpemVkfHxlKCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh2KSxhKHYuY29udGVudERvY3VtZW50KSxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHYpfWZ1bmN0aW9uIGcoYSxiKXtpZihiKXt2YXIgZTtpZihhLm1hdGNoKFwiQGltcG9ydFwiKSYmeCl7dmFyIGc9YyhhKTtmKGZ1bmN0aW9uKGEpe2EuaGVhZC5hcHBlbmRDaGlsZChnLmltcGwpLGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZy5zaGVldC5jc3NSdWxlcywwKSxiKGUpfSl9ZWxzZSBlPWQoYSksYihlKX19ZnVuY3Rpb24gaChhKXthJiZqKCkuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYSkpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgZD1jKGEpO2Quc2V0QXR0cmlidXRlKGIsXCJcIiksZC5zZXRBdHRyaWJ1dGUoeixcIlwiKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGQpfWZ1bmN0aW9uIGooKXtyZXR1cm4gd3x8KHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLHcuc2V0QXR0cmlidXRlKHosXCJcIiksd1t6XT0hMCksd312YXIgaz17c3RyaWN0U3R5bGluZzohMSxyZWdpc3RyeTp7fSxzaGltU3R5bGluZzpmdW5jdGlvbihhLGMsZCl7dmFyIGU9dGhpcy5wcmVwYXJlUm9vdChhLGMsZCksZj10aGlzLmlzVHlwZUV4dGVuc2lvbihkKSxnPXRoaXMubWFrZVNjb3BlU2VsZWN0b3IoYyxmKSxoPWIoZSwhMCk7aD10aGlzLnNjb3BlQ3NzVGV4dChoLGcpLGEmJihhLnNoaW1tZWRTdHlsZT1oKSx0aGlzLmFkZENzc1RvRG9jdW1lbnQoaCxjKX0sc2hpbVN0eWxlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuc2hpbUNzc1RleHQoYS50ZXh0Q29udGVudCxiKX0sc2hpbUNzc1RleHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT10aGlzLmluc2VydERpcmVjdGl2ZXMoYSksdGhpcy5zY29wZUNzc1RleHQoYSxiKX0sbWFrZVNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT9iP1wiW2lzPVwiK2ErXCJdXCI6YTpcIlwifSxpc1R5cGVFeHRlbnNpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuaW5kZXhPZihcIi1cIik8MH0scHJlcGFyZVJvb3Q6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMucmVnaXN0ZXJSb290KGEsYixjKTtyZXR1cm4gdGhpcy5yZXBsYWNlVGV4dEluU3R5bGVzKGQucm9vdFN0eWxlcyx0aGlzLmluc2VydERpcmVjdGl2ZXMpLHRoaXMucmVtb3ZlU3R5bGVzKGEsZC5yb290U3R5bGVzKSx0aGlzLnN0cmljdFN0eWxpbmcmJnRoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLGIpLGQuc2NvcGVTdHlsZXN9LHJlbW92ZVN0eWxlczpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPTAsZT1iLmxlbmd0aDtlPmQmJihjPWJbZF0pO2QrKyljLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyl9LHJlZ2lzdGVyUm9vdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5yZWdpc3RyeVtiXT17cm9vdDphLG5hbWU6YixleHRlbmRzTmFtZTpjfSxlPXRoaXMuZmluZFN0eWxlcyhhKTtkLnJvb3RTdHlsZXM9ZSxkLnNjb3BlU3R5bGVzPWQucm9vdFN0eWxlczt2YXIgZj10aGlzLnJlZ2lzdHJ5W2QuZXh0ZW5kc05hbWVdO3JldHVybiBmJiYoZC5zY29wZVN0eWxlcz1mLnNjb3BlU3R5bGVzLmNvbmNhdChkLnNjb3BlU3R5bGVzKSksZH0sZmluZFN0eWxlczpmdW5jdGlvbihhKXtpZighYSlyZXR1cm5bXTt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzdHlsZVwiKTtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGIsZnVuY3Rpb24oYSl7cmV0dXJuIWEuaGFzQXR0cmlidXRlKEEpfSl9LGFwcGx5U2NvcGVUb0NvbnRlbnQ6ZnVuY3Rpb24oYSxiKXthJiYoQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpLGZ1bmN0aW9uKGEpe2Euc2V0QXR0cmlidXRlKGIsXCJcIil9KSxBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEucXVlcnlTZWxlY3RvckFsbChcInRlbXBsYXRlXCIpLGZ1bmN0aW9uKGEpe3RoaXMuYXBwbHlTY29wZVRvQ29udGVudChhLmNvbnRlbnQsYil9LHRoaXMpKX0saW5zZXJ0RGlyZWN0aXZlczpmdW5jdGlvbihhKXtyZXR1cm4gYT10aGlzLmluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dChhKSx0aGlzLmluc2VydFBvbHlmaWxsUnVsZXNJbkNzc1RleHQoYSl9LGluc2VydFBvbHlmaWxsRGlyZWN0aXZlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobSxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTIpK1wie1wifSksYS5yZXBsYWNlKG4sZnVuY3Rpb24oYSxiKXtyZXR1cm4gYitcIiB7XCJ9KX0saW5zZXJ0UG9seWZpbGxSdWxlc0luQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYT1hLnJlcGxhY2UobyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnNsaWNlKDAsLTEpfSksYS5yZXBsYWNlKHAsZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS5yZXBsYWNlKGIsXCJcIikucmVwbGFjZShjLFwiXCIpO3JldHVybiBkK2V9KX0sc2NvcGVDc3NUZXh0OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5leHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0KGEpO2lmKGE9dGhpcy5pbnNlcnRQb2x5ZmlsbEhvc3RJbkNzc1RleHQoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3QoYSksYT10aGlzLmNvbnZlcnRDb2xvbkhvc3RDb250ZXh0KGEpLGE9dGhpcy5jb252ZXJ0U2hhZG93RE9NU2VsZWN0b3JzKGEpLGIpe3ZhciBhLGQ9dGhpcztnKGEsZnVuY3Rpb24oYyl7YT1kLnNjb3BlUnVsZXMoYyxiKX0pfXJldHVybiBhPWErXCJcXG5cIitjLGEudHJpbSgpfSxleHRyYWN0VW5zY29wZWRSdWxlc0Zyb21Dc3NUZXh0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYixjPVwiXCI7Yj1xLmV4ZWMoYSk7KWMrPWJbMV0uc2xpY2UoMCwtMSkrXCJcXG5cXG5cIjtmb3IoO2I9ci5leGVjKGEpOyljKz1iWzBdLnJlcGxhY2UoYlsyXSxcIlwiKS5yZXBsYWNlKGJbMV0sYlszXSkrXCJcXG5cXG5cIjtyZXR1cm4gY30sY29udmVydENvbG9uSG9zdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0UmUsdGhpcy5jb2xvbkhvc3RQYXJ0UmVwbGFjZXIpfSxjb252ZXJ0Q29sb25Ib3N0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb252ZXJ0Q29sb25SdWxlKGEsY3NzQ29sb25Ib3N0Q29udGV4dFJlLHRoaXMuY29sb25Ib3N0Q29udGV4dFBhcnRSZXBsYWNlcil9LGNvbnZlcnRDb2xvblJ1bGU6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYixmdW5jdGlvbihhLGIsZCxlKXtpZihiPXBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcixkKXtmb3IodmFyIGYsZz1kLnNwbGl0KFwiLFwiKSxoPVtdLGk9MCxqPWcubGVuZ3RoO2o+aSYmKGY9Z1tpXSk7aSsrKWY9Zi50cmltKCksaC5wdXNoKGMoYixmLGUpKTtyZXR1cm4gaC5qb2luKFwiLFwiKX1yZXR1cm4gYitlfSl9LGNvbG9uSG9zdENvbnRleHRQYXJ0UmVwbGFjZXI6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiLm1hdGNoKHMpP3RoaXMuY29sb25Ib3N0UGFydFJlcGxhY2VyKGEsYixjKTphK2IrYytcIiwgXCIrYitcIiBcIithK2N9LGNvbG9uSG9zdFBhcnRSZXBsYWNlcjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGErYi5yZXBsYWNlKHMsXCJcIikrY30sY29udmVydFNoYWRvd0RPTVNlbGVjdG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9MDtiPHNoYWRvd0RPTVNlbGVjdG9yc1JlLmxlbmd0aDtiKyspYT1hLnJlcGxhY2Uoc2hhZG93RE9NU2VsZWN0b3JzUmVbYl0sXCIgXCIpO3JldHVybiBhfSxzY29wZVJ1bGVzOmZ1bmN0aW9uKGEsYil7dmFyIGM9XCJcIjtyZXR1cm4gYSYmQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2lmKGEuc2VsZWN0b3JUZXh0JiZhLnN0eWxlJiZ2b2lkIDAhPT1hLnN0eWxlLmNzc1RleHQpYys9dGhpcy5zY29wZVNlbGVjdG9yKGEuc2VsZWN0b3JUZXh0LGIsdGhpcy5zdHJpY3RTdHlsaW5nKStcIiB7XFxuXHRcIixjKz10aGlzLnByb3BlcnRpZXNGcm9tUnVsZShhKStcIlxcbn1cXG5cXG5cIjtlbHNlIGlmKGEudHlwZT09PUNTU1J1bGUuTUVESUFfUlVMRSljKz1cIkBtZWRpYSBcIithLm1lZGlhLm1lZGlhVGV4dCtcIiB7XFxuXCIsYys9dGhpcy5zY29wZVJ1bGVzKGEuY3NzUnVsZXMsYiksYys9XCJcXG59XFxuXFxuXCI7ZWxzZSB0cnl7YS5jc3NUZXh0JiYoYys9YS5jc3NUZXh0K1wiXFxuXFxuXCIpfWNhdGNoKGQpe2EudHlwZT09PUNTU1J1bGUuS0VZRlJBTUVTX1JVTEUmJmEuY3NzUnVsZXMmJihjKz10aGlzLmllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlKGEpKX19LHRoaXMpLGN9LGllU2FmZUNzc1RleHRGcm9tS2V5RnJhbWVSdWxlOmZ1bmN0aW9uKGEpe3ZhciBiPVwiQGtleWZyYW1lcyBcIithLm5hbWUrXCIge1wiO3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEuY3NzUnVsZXMsZnVuY3Rpb24oYSl7Yis9XCIgXCIrYS5rZXlUZXh0K1wiIHtcIithLnN0eWxlLmNzc1RleHQrXCJ9XCJ9KSxiKz1cIiB9XCJ9LHNjb3BlU2VsZWN0b3I6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVtdLGU9YS5zcGxpdChcIixcIik7cmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihhKXthPWEudHJpbSgpLHRoaXMuc2VsZWN0b3JOZWVkc1Njb3BpbmcoYSxiKSYmKGE9YyYmIWEubWF0Y2gocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yKT90aGlzLmFwcGx5U3RyaWN0U2VsZWN0b3JTY29wZShhLGIpOnRoaXMuYXBwbHlTZWxlY3RvclNjb3BlKGEsYikpLGQucHVzaChhKX0sdGhpcyksZC5qb2luKFwiLCBcIil9LHNlbGVjdG9yTmVlZHNTY29waW5nOmZ1bmN0aW9uKGEsYil7aWYoQXJyYXkuaXNBcnJheShiKSlyZXR1cm4hMDt2YXIgYz10aGlzLm1ha2VTY29wZU1hdGNoZXIoYik7cmV0dXJuIWEubWF0Y2goYyl9LG1ha2VTY29wZU1hdGNoZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9YS5yZXBsYWNlKC9cXFsvZyxcIlxcXFxbXCIpLnJlcGxhY2UoL1xcWy9nLFwiXFxcXF1cIiksbmV3IFJlZ0V4cChcIl4oXCIrYStcIilcIitzZWxlY3RvclJlU3VmZml4LFwibVwiKX0sYXBwbHlTZWxlY3RvclNjb3BlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIEFycmF5LmlzQXJyYXkoYik/dGhpcy5hcHBseVNlbGVjdG9yU2NvcGVMaXN0KGEsYik6dGhpcy5hcHBseVNpbXBsZVNlbGVjdG9yU2NvcGUoYSxiKX0sYXBwbHlTZWxlY3RvclNjb3BlTGlzdDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYyxkPVtdLGU9MDtjPWJbZV07ZSsrKWQucHVzaCh0aGlzLmFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZShhLGMpKTtyZXR1cm4gZC5qb2luKFwiLCBcIil9LGFwcGx5U2ltcGxlU2VsZWN0b3JTY29wZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm1hdGNoKHBvbHlmaWxsSG9zdFJlKT8oYT1hLnJlcGxhY2UocG9seWZpbGxIb3N0Tm9Db21iaW5hdG9yLGIpLGEucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxiK1wiIFwiKSk6YitcIiBcIithfSxhcHBseVN0cmljdFNlbGVjdG9yU2NvcGU6ZnVuY3Rpb24oYSxiKXtiPWIucmVwbGFjZSgvXFxbaXM9KFteXFxdXSopXFxdL2csXCIkMVwiKTt2YXIgYz1bXCIgXCIsXCI+XCIsXCIrXCIsXCJ+XCJdLGQ9YSxlPVwiW1wiK2IrXCJdXCI7cmV0dXJuIGMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYj1kLnNwbGl0KGEpO2Q9Yi5tYXAoZnVuY3Rpb24oYSl7dmFyIGI9YS50cmltKCkucmVwbGFjZShwb2x5ZmlsbEhvc3RSZSxcIlwiKTtyZXR1cm4gYiYmYy5pbmRleE9mKGIpPDAmJmIuaW5kZXhPZihlKTwwJiYoYT1iLnJlcGxhY2UoLyhbXjpdKikoOiopKC4qKS8sXCIkMVwiK2UrXCIkMiQzXCIpKSxhfSkuam9pbihhKX0pLGR9LGluc2VydFBvbHlmaWxsSG9zdEluQ3NzVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGNvbG9uSG9zdENvbnRleHRSZSx0KS5yZXBsYWNlKGNvbG9uSG9zdFJlLHMpfSxwcm9wZXJ0aWVzRnJvbVJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zdHlsZS5jc3NUZXh0O2Euc3R5bGUuY29udGVudCYmIWEuc3R5bGUuY29udGVudC5tYXRjaCgvWydcIl0rfGF0dHIvKSYmKGI9Yi5yZXBsYWNlKC9jb250ZW50OlteO10qOy9nLFwiY29udGVudDogJ1wiK2Euc3R5bGUuY29udGVudCtcIic7XCIpKTt2YXIgYz1hLnN0eWxlO2Zvcih2YXIgZCBpbiBjKVwiaW5pdGlhbFwiPT09Y1tkXSYmKGIrPWQrXCI6IGluaXRpYWw7IFwiKTtyZXR1cm4gYn0scmVwbGFjZVRleHRJblN0eWxlczpmdW5jdGlvbihhLGIpe2EmJmImJihhIGluc3RhbmNlb2YgQXJyYXl8fChhPVthXSksQXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChhLGZ1bmN0aW9uKGEpe2EudGV4dENvbnRlbnQ9Yi5jYWxsKHRoaXMsYS50ZXh0Q29udGVudCl9LHRoaXMpKX0sYWRkQ3NzVG9Eb2N1bWVudDpmdW5jdGlvbihhLGIpe2EubWF0Y2goXCJAaW1wb3J0XCIpP2koYSxiKTpoKGEpfX0sbD0vXFwvXFwqW14qXSpcXCorKFteLypdW14qXSpcXCorKSpcXC8vZ2ltLG09L1xcL1xcKlxccypAcG9seWZpbGwgKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqXFwvKShbXntdKj8pey9naW0sbj0vcG9seWZpbGwtbmV4dC1zZWxlY3RvcltefV0qY29udGVudFxcOltcXHNdKj9bJ1wiXSguKj8pWydcIl1bO1xcc10qfShbXntdKj8pey9naW0sbz0vXFwvXFwqXFxzQHBvbHlmaWxsLXJ1bGUoW14qXSpcXCorKFteLypdW14qXSpcXCorKSopXFwvL2dpbSxwPS8ocG9seWZpbGwtcnVsZSlbXn1dKihjb250ZW50XFw6W1xcc10qWydcIl0oLio/KVsnXCJdKVs7XFxzXSpbXn1dKn0vZ2ltLHE9L1xcL1xcKlxcc0Bwb2x5ZmlsbC11bnNjb3BlZC1ydWxlKFteKl0qXFwqKyhbXi8qXVteKl0qXFwqKykqKVxcLy9naW0scj0vKHBvbHlmaWxsLXVuc2NvcGVkLXJ1bGUpW159XSooY29udGVudFxcOltcXHNdKlsnXCJdKC4qPylbJ1wiXSlbO1xcc10qW159XSp9L2dpbSxzPVwiLXNoYWRvd2Nzc2hvc3RcIix0PVwiLXNoYWRvd2Nzc2NvbnRleHRcIix1PVwiKSg/OlxcXFwoKCg/OlxcXFwoW14pKF0qXFxcXCl8W14pKF0qKSs/KVxcXFwpKT8oW14se10qKVwiO2Nzc0NvbG9uSG9zdFJlPW5ldyBSZWdFeHAoXCIoXCIrcyt1LFwiZ2ltXCIpLGNzc0NvbG9uSG9zdENvbnRleHRSZT1uZXcgUmVnRXhwKFwiKFwiK3QrdSxcImdpbVwiKSxzZWxlY3RvclJlU3VmZml4PVwiKFs+XFxcXHN+K1suLHs6XVtcXFxcc1xcXFxTXSopPyRcIixjb2xvbkhvc3RSZT0vXFw6aG9zdC9naW0sY29sb25Ib3N0Q29udGV4dFJlPS9cXDpob3N0LWNvbnRleHQvZ2ltLHBvbHlmaWxsSG9zdE5vQ29tYmluYXRvcj1zK1wiLW5vLWNvbWJpbmF0b3JcIixwb2x5ZmlsbEhvc3RSZT1uZXcgUmVnRXhwKHMsXCJnaW1cIikscG9seWZpbGxIb3N0Q29udGV4dFJlPW5ldyBSZWdFeHAodCxcImdpbVwiKSxzaGFkb3dET01TZWxlY3RvcnNSZT1bL1xcXlxcXi9nLC9cXF4vZywvXFwvc2hhZG93XFwvL2csL1xcL3NoYWRvdy1kZWVwXFwvL2csLzo6c2hhZG93L2csL1xcL2RlZXBcXC8vZywvOjpjb250ZW50L2ddO3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7di5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO3ZhciB3LHg9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChcIkNocm9tZVwiKSx5PVwic2hpbS1zaGFkb3dkb21cIix6PVwic2hpbS1zaGFkb3dkb20tY3NzXCIsQT1cIm5vLXNoaW1cIjtpZih3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwpe2goXCJzdHlsZSB7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudDsgfVxcblwiKTt2YXIgQj13cmFwKGRvY3VtZW50KSxDPUIucXVlcnlTZWxlY3RvcihcImhlYWRcIik7Qy5pbnNlcnRCZWZvcmUoaigpLEMuY2hpbGROb2Rlc1swXSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixmdW5jdGlvbigpe2EudXJsUmVzb2x2ZXI7aWYod2luZG93LkhUTUxJbXBvcnRzJiYhSFRNTEltcG9ydHMudXNlTmF0aXZlKXt2YXIgYj1cImxpbmtbcmVsPXN0eWxlc2hlZXRdW1wiK3krXCJdXCIsYz1cInN0eWxlW1wiK3krXCJdXCI7SFRNTEltcG9ydHMuaW1wb3J0ZXIuZG9jdW1lbnRQcmVsb2FkU2VsZWN0b3JzKz1cIixcIitiLEhUTUxJbXBvcnRzLmltcG9ydGVyLmltcG9ydHNQcmVsb2FkU2VsZWN0b3JzKz1cIixcIitiLEhUTUxJbXBvcnRzLnBhcnNlci5kb2N1bWVudFNlbGVjdG9ycz1bSFRNTEltcG9ydHMucGFyc2VyLmRvY3VtZW50U2VsZWN0b3JzLGIsY10uam9pbihcIixcIik7dmFyIGQ9SFRNTEltcG9ydHMucGFyc2VyLnBhcnNlR2VuZXJpYztIVE1MSW1wb3J0cy5wYXJzZXIucGFyc2VHZW5lcmljPWZ1bmN0aW9uKGEpe2lmKCFhW3pdKXt2YXIgYj1hLl9faW1wb3J0RWxlbWVudHx8YTtpZighYi5oYXNBdHRyaWJ1dGUoeSkpcmV0dXJuIHZvaWQgZC5jYWxsKHRoaXMsYSk7YS5fX3Jlc291cmNlJiYoYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpLGIudGV4dENvbnRlbnQ9YS5fX3Jlc291cmNlKSxIVE1MSW1wb3J0cy5wYXRoLnJlc29sdmVVcmxzSW5TdHlsZShiKSxiLnRleHRDb250ZW50PWsuc2hpbVN0eWxlKGIpLGIucmVtb3ZlQXR0cmlidXRlKHksXCJcIiksYi5zZXRBdHRyaWJ1dGUoeixcIlwiKSxiW3pdPSEwLGIucGFyZW50Tm9kZSE9PUMmJihhLnBhcmVudE5vZGU9PT1DP0MucmVwbGFjZUNoaWxkKGIsYSk6dGhpcy5hZGRFbGVtZW50VG9Eb2N1bWVudChiKSksYi5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksdGhpcy5wYXJzZU5leHQoKX19O3ZhciBlPUhUTUxJbXBvcnRzLnBhcnNlci5oYXNSZXNvdXJjZTtIVE1MSW1wb3J0cy5wYXJzZXIuaGFzUmVzb3VyY2U9ZnVuY3Rpb24oYSl7cmV0dXJuXCJsaW5rXCI9PT1hLmxvY2FsTmFtZSYmXCJzdHlsZXNoZWV0XCI9PT1hLnJlbCYmYS5oYXNBdHRyaWJ1dGUoeSk/YS5fX3Jlc291cmNlOmUuY2FsbCh0aGlzLGEpfX19KX1hLlNoYWRvd0NTUz1rfSh3aW5kb3cuUGxhdGZvcm0pKTohZnVuY3Rpb24oKXt3aW5kb3cud3JhcD13aW5kb3cudW53cmFwPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxhZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7aWYoQ3VzdG9tRWxlbWVudHMudXNlTmF0aXZlPT09ITEpe3ZhciBhPUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVNoYWRvd1Jvb3Q7RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhZG93Um9vdD1mdW5jdGlvbigpe3ZhciBiPWEuY2FsbCh0aGlzKTtyZXR1cm4gQ3VzdG9tRWxlbWVudHMud2F0Y2hTaGFkb3codGhpcyksYn19fSl9KHdpbmRvdy5QbGF0Zm9ybSksZnVuY3Rpb24oYSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gYihhKXtyZXR1cm4gdm9pZCAwIT09bVthXX1mdW5jdGlvbiBjKCl7aC5jYWxsKHRoaXMpLHRoaXMuX2lzSW52YWxpZD0hMH1mdW5jdGlvbiBkKGEpe3JldHVyblwiXCI9PWEmJmMuY2FsbCh0aGlzKSxhLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuIGI+MzImJjEyNz5iJiYtMT09WzM0LDM1LDYwLDYyLDYzLDk2XS5pbmRleE9mKGIpP2E6ZW5jb2RlVVJJQ29tcG9uZW50KGEpfWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5jaGFyQ29kZUF0KDApO3JldHVybiBiPjMyJiYxMjc+YiYmLTE9PVszNCwzNSw2MCw2Miw5Nl0uaW5kZXhPZihiKT9hOmVuY29kZVVSSUNvbXBvbmVudChhKX1mdW5jdGlvbiBnKGEsZyxoKXtmdW5jdGlvbiBpKGEpe3QucHVzaChhKX12YXIgaj1nfHxcInNjaGVtZSBzdGFydFwiLGs9MCxsPVwiXCIscj0hMSxzPSExLHQ9W107YTpmb3IoOyhhW2stMV0hPW98fDA9PWspJiYhdGhpcy5faXNJbnZhbGlkOyl7dmFyIHU9YVtrXTtzd2l0Y2goail7Y2FzZVwic2NoZW1lIHN0YXJ0XCI6aWYoIXV8fCFwLnRlc3QodSkpe2lmKGcpe2koXCJJbnZhbGlkIHNjaGVtZS5cIik7YnJlYWsgYX1sPVwiXCIsaj1cIm5vIHNjaGVtZVwiO2NvbnRpbnVlfWwrPXUudG9Mb3dlckNhc2UoKSxqPVwic2NoZW1lXCI7YnJlYWs7Y2FzZVwic2NoZW1lXCI6aWYodSYmcS50ZXN0KHUpKWwrPXUudG9Mb3dlckNhc2UoKTtlbHNle2lmKFwiOlwiIT11KXtpZihnKXtpZihvPT11KWJyZWFrIGE7aShcIkNvZGUgcG9pbnQgbm90IGFsbG93ZWQgaW4gc2NoZW1lOiBcIit1KTticmVhayBhfWw9XCJcIixrPTAsaj1cIm5vIHNjaGVtZVwiO2NvbnRpbnVlfWlmKHRoaXMuX3NjaGVtZT1sLGw9XCJcIixnKWJyZWFrIGE7Yih0aGlzLl9zY2hlbWUpJiYodGhpcy5faXNSZWxhdGl2ZT0hMCksaj1cImZpbGVcIj09dGhpcy5fc2NoZW1lP1wicmVsYXRpdmVcIjp0aGlzLl9pc1JlbGF0aXZlJiZoJiZoLl9zY2hlbWU9PXRoaXMuX3NjaGVtZT9cInJlbGF0aXZlIG9yIGF1dGhvcml0eVwiOnRoaXMuX2lzUmVsYXRpdmU/XCJhdXRob3JpdHkgZmlyc3Qgc2xhc2hcIjpcInNjaGVtZSBkYXRhXCJ9YnJlYWs7Y2FzZVwic2NoZW1lIGRhdGFcIjpcIj9cIj09dT8ocXVlcnk9XCI/XCIsaj1cInF1ZXJ5XCIpOlwiI1wiPT11Pyh0aGlzLl9mcmFnbWVudD1cIiNcIixqPVwiZnJhZ21lbnRcIik6byE9dSYmXCJcdFwiIT11JiZcIlxcblwiIT11JiZcIlxcclwiIT11JiYodGhpcy5fc2NoZW1lRGF0YSs9ZSh1KSk7YnJlYWs7Y2FzZVwibm8gc2NoZW1lXCI6aWYoaCYmYihoLl9zY2hlbWUpKXtqPVwicmVsYXRpdmVcIjtjb250aW51ZX1pKFwiTWlzc2luZyBzY2hlbWUuXCIpLGMuY2FsbCh0aGlzKTticmVhaztjYXNlXCJyZWxhdGl2ZSBvciBhdXRob3JpdHlcIjppZihcIi9cIiE9dXx8XCIvXCIhPWFbaysxXSl7aShcIkV4cGVjdGVkIC8sIGdvdDogXCIrdSksaj1cInJlbGF0aXZlXCI7Y29udGludWV9aj1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2JyZWFrO2Nhc2VcInJlbGF0aXZlXCI6aWYodGhpcy5faXNSZWxhdGl2ZT0hMCxcImZpbGVcIiE9dGhpcy5fc2NoZW1lJiYodGhpcy5fc2NoZW1lPWguX3NjaGVtZSksbz09dSl7dGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9xdWVyeT1oLl9xdWVyeTticmVhayBhfWlmKFwiL1wiPT11fHxcIlxcXFxcIj09dSlcIlxcXFxcIj09dSYmaShcIlxcXFwgaXMgYW4gaW52YWxpZCBjb2RlIHBvaW50LlwiKSxqPVwicmVsYXRpdmUgc2xhc2hcIjtlbHNlIGlmKFwiP1wiPT11KXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9XCI/XCIsaj1cInF1ZXJ5XCI7XG5lbHNle2lmKFwiI1wiIT11KXt2YXIgdj1hW2srMV0sdz1hW2srMl07KFwiZmlsZVwiIT10aGlzLl9zY2hlbWV8fCFwLnRlc3QodSl8fFwiOlwiIT12JiZcInxcIiE9dnx8byE9dyYmXCIvXCIhPXcmJlwiXFxcXFwiIT13JiZcIj9cIiE9dyYmXCIjXCIhPXcpJiYodGhpcy5faG9zdD1oLl9ob3N0LHRoaXMuX3BvcnQ9aC5fcG9ydCx0aGlzLl9wYXRoPWguX3BhdGguc2xpY2UoKSx0aGlzLl9wYXRoLnBvcCgpKSxqPVwicmVsYXRpdmUgcGF0aFwiO2NvbnRpbnVlfXRoaXMuX2hvc3Q9aC5faG9zdCx0aGlzLl9wb3J0PWguX3BvcnQsdGhpcy5fcGF0aD1oLl9wYXRoLnNsaWNlKCksdGhpcy5fcXVlcnk9aC5fcXVlcnksdGhpcy5fZnJhZ21lbnQ9XCIjXCIsaj1cImZyYWdtZW50XCJ9YnJlYWs7Y2FzZVwicmVsYXRpdmUgc2xhc2hcIjppZihcIi9cIiE9dSYmXCJcXFxcXCIhPXUpe1wiZmlsZVwiIT10aGlzLl9zY2hlbWUmJih0aGlzLl9ob3N0PWguX2hvc3QsdGhpcy5fcG9ydD1oLl9wb3J0KSxqPVwicmVsYXRpdmUgcGF0aFwiO2NvbnRpbnVlfVwiXFxcXFwiPT11JiZpKFwiXFxcXCBpcyBhbiBpbnZhbGlkIGNvZGUgcG9pbnQuXCIpLGo9XCJmaWxlXCI9PXRoaXMuX3NjaGVtZT9cImZpbGUgaG9zdFwiOlwiYXV0aG9yaXR5IGlnbm9yZSBzbGFzaGVzXCI7YnJlYWs7Y2FzZVwiYXV0aG9yaXR5IGZpcnN0IHNsYXNoXCI6aWYoXCIvXCIhPXUpe2koXCJFeHBlY3RlZCAnLycsIGdvdDogXCIrdSksaj1cImF1dGhvcml0eSBpZ25vcmUgc2xhc2hlc1wiO2NvbnRpbnVlfWo9XCJhdXRob3JpdHkgc2Vjb25kIHNsYXNoXCI7YnJlYWs7Y2FzZVwiYXV0aG9yaXR5IHNlY29uZCBzbGFzaFwiOmlmKGo9XCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIixcIi9cIiE9dSl7aShcIkV4cGVjdGVkICcvJywgZ290OiBcIit1KTtjb250aW51ZX1icmVhaztjYXNlXCJhdXRob3JpdHkgaWdub3JlIHNsYXNoZXNcIjppZihcIi9cIiE9dSYmXCJcXFxcXCIhPXUpe2o9XCJhdXRob3JpdHlcIjtjb250aW51ZX1pKFwiRXhwZWN0ZWQgYXV0aG9yaXR5LCBnb3Q6IFwiK3UpO2JyZWFrO2Nhc2VcImF1dGhvcml0eVwiOmlmKFwiQFwiPT11KXtyJiYoaShcIkAgYWxyZWFkeSBzZWVuLlwiKSxsKz1cIiU0MFwiKSxyPSEwO2Zvcih2YXIgeD0wO3g8bC5sZW5ndGg7eCsrKXt2YXIgeT1sW3hdO2lmKFwiXHRcIiE9eSYmXCJcXG5cIiE9eSYmXCJcXHJcIiE9eSlpZihcIjpcIiE9eXx8bnVsbCE9PXRoaXMuX3Bhc3N3b3JkKXt2YXIgej1lKHkpO251bGwhPT10aGlzLl9wYXNzd29yZD90aGlzLl9wYXNzd29yZCs9ejp0aGlzLl91c2VybmFtZSs9en1lbHNlIHRoaXMuX3Bhc3N3b3JkPVwiXCI7ZWxzZSBpKFwiSW52YWxpZCB3aGl0ZXNwYWNlIGluIGF1dGhvcml0eS5cIil9bD1cIlwifWVsc2V7aWYobz09dXx8XCIvXCI9PXV8fFwiXFxcXFwiPT11fHxcIj9cIj09dXx8XCIjXCI9PXUpe2stPWwubGVuZ3RoLGw9XCJcIixqPVwiaG9zdFwiO2NvbnRpbnVlfWwrPXV9YnJlYWs7Y2FzZVwiZmlsZSBob3N0XCI6aWYobz09dXx8XCIvXCI9PXV8fFwiXFxcXFwiPT11fHxcIj9cIj09dXx8XCIjXCI9PXUpezIhPWwubGVuZ3RofHwhcC50ZXN0KGxbMF0pfHxcIjpcIiE9bFsxXSYmXCJ8XCIhPWxbMV0/MD09bC5sZW5ndGg/aj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIjoodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPVwiXCIsaj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIik6aj1cInJlbGF0aXZlIHBhdGhcIjtjb250aW51ZX1cIlx0XCI9PXV8fFwiXFxuXCI9PXV8fFwiXFxyXCI9PXU/aShcIkludmFsaWQgd2hpdGVzcGFjZSBpbiBmaWxlIGhvc3QuXCIpOmwrPXU7YnJlYWs7Y2FzZVwiaG9zdFwiOmNhc2VcImhvc3RuYW1lXCI6aWYoXCI6XCIhPXV8fHMpe2lmKG89PXV8fFwiL1wiPT11fHxcIlxcXFxcIj09dXx8XCI/XCI9PXV8fFwiI1wiPT11KXtpZih0aGlzLl9ob3N0PWQuY2FsbCh0aGlzLGwpLGw9XCJcIixqPVwicmVsYXRpdmUgcGF0aCBzdGFydFwiLGcpYnJlYWsgYTtjb250aW51ZX1cIlx0XCIhPXUmJlwiXFxuXCIhPXUmJlwiXFxyXCIhPXU/KFwiW1wiPT11P3M9ITA6XCJdXCI9PXUmJihzPSExKSxsKz11KTppKFwiSW52YWxpZCBjb2RlIHBvaW50IGluIGhvc3QvaG9zdG5hbWU6IFwiK3UpfWVsc2UgaWYodGhpcy5faG9zdD1kLmNhbGwodGhpcyxsKSxsPVwiXCIsaj1cInBvcnRcIixcImhvc3RuYW1lXCI9PWcpYnJlYWsgYTticmVhaztjYXNlXCJwb3J0XCI6aWYoL1swLTldLy50ZXN0KHUpKWwrPXU7ZWxzZXtpZihvPT11fHxcIi9cIj09dXx8XCJcXFxcXCI9PXV8fFwiP1wiPT11fHxcIiNcIj09dXx8Zyl7aWYoXCJcIiE9bCl7dmFyIEE9cGFyc2VJbnQobCwxMCk7QSE9bVt0aGlzLl9zY2hlbWVdJiYodGhpcy5fcG9ydD1BK1wiXCIpLGw9XCJcIn1pZihnKWJyZWFrIGE7aj1cInJlbGF0aXZlIHBhdGggc3RhcnRcIjtjb250aW51ZX1cIlx0XCI9PXV8fFwiXFxuXCI9PXV8fFwiXFxyXCI9PXU/aShcIkludmFsaWQgY29kZSBwb2ludCBpbiBwb3J0OiBcIit1KTpjLmNhbGwodGhpcyl9YnJlYWs7Y2FzZVwicmVsYXRpdmUgcGF0aCBzdGFydFwiOmlmKFwiXFxcXFwiPT11JiZpKFwiJ1xcXFwnIG5vdCBhbGxvd2VkIGluIHBhdGguXCIpLGo9XCJyZWxhdGl2ZSBwYXRoXCIsXCIvXCIhPXUmJlwiXFxcXFwiIT11KWNvbnRpbnVlO2JyZWFrO2Nhc2VcInJlbGF0aXZlIHBhdGhcIjppZihvIT11JiZcIi9cIiE9dSYmXCJcXFxcXCIhPXUmJihnfHxcIj9cIiE9dSYmXCIjXCIhPXUpKVwiXHRcIiE9dSYmXCJcXG5cIiE9dSYmXCJcXHJcIiE9dSYmKGwrPWUodSkpO2Vsc2V7XCJcXFxcXCI9PXUmJmkoXCJcXFxcIG5vdCBhbGxvd2VkIGluIHJlbGF0aXZlIHBhdGguXCIpO3ZhciBCOyhCPW5bbC50b0xvd2VyQ2FzZSgpXSkmJihsPUIpLFwiLi5cIj09bD8odGhpcy5fcGF0aC5wb3AoKSxcIi9cIiE9dSYmXCJcXFxcXCIhPXUmJnRoaXMuX3BhdGgucHVzaChcIlwiKSk6XCIuXCI9PWwmJlwiL1wiIT11JiZcIlxcXFxcIiE9dT90aGlzLl9wYXRoLnB1c2goXCJcIik6XCIuXCIhPWwmJihcImZpbGVcIj09dGhpcy5fc2NoZW1lJiYwPT10aGlzLl9wYXRoLmxlbmd0aCYmMj09bC5sZW5ndGgmJnAudGVzdChsWzBdKSYmXCJ8XCI9PWxbMV0mJihsPWxbMF0rXCI6XCIpLHRoaXMuX3BhdGgucHVzaChsKSksbD1cIlwiLFwiP1wiPT11Pyh0aGlzLl9xdWVyeT1cIj9cIixqPVwicXVlcnlcIik6XCIjXCI9PXUmJih0aGlzLl9mcmFnbWVudD1cIiNcIixqPVwiZnJhZ21lbnRcIil9YnJlYWs7Y2FzZVwicXVlcnlcIjpnfHxcIiNcIiE9dT9vIT11JiZcIlx0XCIhPXUmJlwiXFxuXCIhPXUmJlwiXFxyXCIhPXUmJih0aGlzLl9xdWVyeSs9Zih1KSk6KHRoaXMuX2ZyYWdtZW50PVwiI1wiLGo9XCJmcmFnbWVudFwiKTticmVhaztjYXNlXCJmcmFnbWVudFwiOm8hPXUmJlwiXHRcIiE9dSYmXCJcXG5cIiE9dSYmXCJcXHJcIiE9dSYmKHRoaXMuX2ZyYWdtZW50Kz11KX1rKyt9fWZ1bmN0aW9uIGgoKXt0aGlzLl9zY2hlbWU9XCJcIix0aGlzLl9zY2hlbWVEYXRhPVwiXCIsdGhpcy5fdXNlcm5hbWU9XCJcIix0aGlzLl9wYXNzd29yZD1udWxsLHRoaXMuX2hvc3Q9XCJcIix0aGlzLl9wb3J0PVwiXCIsdGhpcy5fcGF0aD1bXSx0aGlzLl9xdWVyeT1cIlwiLHRoaXMuX2ZyYWdtZW50PVwiXCIsdGhpcy5faXNJbnZhbGlkPSExLHRoaXMuX2lzUmVsYXRpdmU9ITF9ZnVuY3Rpb24gaShhLGIpe3ZvaWQgMD09PWJ8fGIgaW5zdGFuY2VvZiBpfHwoYj1uZXcgaShTdHJpbmcoYikpKSx0aGlzLl91cmw9YSxoLmNhbGwodGhpcyk7dmFyIGM9YS5yZXBsYWNlKC9eWyBcXHRcXHJcXG5cXGZdK3xbIFxcdFxcclxcblxcZl0rJC9nLFwiXCIpO2cuY2FsbCh0aGlzLGMsbnVsbCxiKX12YXIgaj0hMTtpZighYS5mb3JjZUpVUkwpdHJ5e3ZhciBrPW5ldyBVUkwoXCJiXCIsXCJodHRwOi8vYVwiKTtqPVwiaHR0cDovL2EvYlwiPT09ay5ocmVmfWNhdGNoKGwpe31pZighail7dmFyIG09T2JqZWN0LmNyZWF0ZShudWxsKTttLmZ0cD0yMSxtLmZpbGU9MCxtLmdvcGhlcj03MCxtLmh0dHA9ODAsbS5odHRwcz00NDMsbS53cz04MCxtLndzcz00NDM7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtuW1wiJTJlXCJdPVwiLlwiLG5bXCIuJTJlXCJdPVwiLi5cIixuW1wiJTJlLlwiXT1cIi4uXCIsbltcIiUyZSUyZVwiXT1cIi4uXCI7dmFyIG89dm9pZCAwLHA9L1thLXpBLVpdLyxxPS9bYS16QS1aMC05XFwrXFwtXFwuXS87aS5wcm90b3R5cGU9e2dldCBocmVmKCl7aWYodGhpcy5faXNJbnZhbGlkKXJldHVybiB0aGlzLl91cmw7dmFyIGE9XCJcIjtyZXR1cm4oXCJcIiE9dGhpcy5fdXNlcm5hbWV8fG51bGwhPXRoaXMuX3Bhc3N3b3JkKSYmKGE9dGhpcy5fdXNlcm5hbWUrKG51bGwhPXRoaXMuX3Bhc3N3b3JkP1wiOlwiK3RoaXMuX3Bhc3N3b3JkOlwiXCIpK1wiQFwiKSx0aGlzLnByb3RvY29sKyh0aGlzLl9pc1JlbGF0aXZlP1wiLy9cIithK3RoaXMuaG9zdDpcIlwiKSt0aGlzLnBhdGhuYW1lK3RoaXMuX3F1ZXJ5K3RoaXMuX2ZyYWdtZW50fSxzZXQgaHJlZihhKXtoLmNhbGwodGhpcyksZy5jYWxsKHRoaXMsYSl9LGdldCBwcm90b2NvbCgpe3JldHVybiB0aGlzLl9zY2hlbWUrXCI6XCJ9LHNldCBwcm90b2NvbChhKXt0aGlzLl9pc0ludmFsaWR8fGcuY2FsbCh0aGlzLGErXCI6XCIsXCJzY2hlbWUgc3RhcnRcIil9LGdldCBob3N0KCl7cmV0dXJuIHRoaXMuX2lzSW52YWxpZD9cIlwiOnRoaXMuX3BvcnQ/dGhpcy5faG9zdCtcIjpcIit0aGlzLl9wb3J0OnRoaXMuX2hvc3R9LHNldCBob3N0KGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsXCJob3N0XCIpfSxnZXQgaG9zdG5hbWUoKXtyZXR1cm4gdGhpcy5faG9zdH0sc2V0IGhvc3RuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJmcuY2FsbCh0aGlzLGEsXCJob3N0bmFtZVwiKX0sZ2V0IHBvcnQoKXtyZXR1cm4gdGhpcy5fcG9ydH0sc2V0IHBvcnQoYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmZy5jYWxsKHRoaXMsYSxcInBvcnRcIil9LGdldCBwYXRobmFtZSgpe3JldHVybiB0aGlzLl9pc0ludmFsaWQ/XCJcIjp0aGlzLl9pc1JlbGF0aXZlP1wiL1wiK3RoaXMuX3BhdGguam9pbihcIi9cIik6dGhpcy5fc2NoZW1lRGF0YX0sc2V0IHBhdGhuYW1lKGEpeyF0aGlzLl9pc0ludmFsaWQmJnRoaXMuX2lzUmVsYXRpdmUmJih0aGlzLl9wYXRoPVtdLGcuY2FsbCh0aGlzLGEsXCJyZWxhdGl2ZSBwYXRoIHN0YXJ0XCIpKX0sZ2V0IHNlYXJjaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9xdWVyeXx8XCI/XCI9PXRoaXMuX3F1ZXJ5P1wiXCI6dGhpcy5fcXVlcnl9LHNldCBzZWFyY2goYSl7IXRoaXMuX2lzSW52YWxpZCYmdGhpcy5faXNSZWxhdGl2ZSYmKHRoaXMuX3F1ZXJ5PVwiP1wiLFwiP1wiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLFwicXVlcnlcIikpfSxnZXQgaGFzaCgpe3JldHVybiB0aGlzLl9pc0ludmFsaWR8fCF0aGlzLl9mcmFnbWVudHx8XCIjXCI9PXRoaXMuX2ZyYWdtZW50P1wiXCI6dGhpcy5fZnJhZ21lbnR9LHNldCBoYXNoKGEpe3RoaXMuX2lzSW52YWxpZHx8KHRoaXMuX2ZyYWdtZW50PVwiI1wiLFwiI1wiPT1hWzBdJiYoYT1hLnNsaWNlKDEpKSxnLmNhbGwodGhpcyxhLFwiZnJhZ21lbnRcIikpfSxnZXQgb3JpZ2luKCl7dmFyIGE7aWYodGhpcy5faXNJbnZhbGlkfHwhdGhpcy5fc2NoZW1lKXJldHVyblwiXCI7c3dpdGNoKHRoaXMuX3NjaGVtZSl7Y2FzZVwiZGF0YVwiOmNhc2VcImZpbGVcIjpjYXNlXCJqYXZhc2NyaXB0XCI6Y2FzZVwibWFpbHRvXCI6cmV0dXJuXCJudWxsXCJ9cmV0dXJuIGE9dGhpcy5ob3N0LGE/dGhpcy5fc2NoZW1lK1wiOi8vXCIrYTpcIlwifX07dmFyIHI9YS5VUkw7ciYmKGkuY3JlYXRlT2JqZWN0VVJMPWZ1bmN0aW9uKCl7cmV0dXJuIHIuY3JlYXRlT2JqZWN0VVJMLmFwcGx5KHIsYXJndW1lbnRzKX0saS5yZXZva2VPYmplY3RVUkw9ZnVuY3Rpb24oYSl7ci5yZXZva2VPYmplY3RVUkwoYSl9KSxhLlVSTD1pfX0odGhpcyksZnVuY3Rpb24oKXtGdW5jdGlvbi5wcm90b3R5cGUuYmluZHx8KEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5zbGljZSgpO3JldHVybiBkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpLGIuYXBwbHkoYSxkKX19KX0od2luZG93LlBsYXRmb3JtKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3UucHVzaChhKSx0fHwodD0hMCxxKGQpKX1mdW5jdGlvbiBjKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGwmJndpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSl8fGF9ZnVuY3Rpb24gZCgpe3Q9ITE7dmFyIGE9dTt1PVtdLGEuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLnVpZF8tYi51aWRffSk7dmFyIGI9ITE7YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBjPWEudGFrZVJlY29yZHMoKTtlKGEpLGMubGVuZ3RoJiYoYS5jYWxsYmFja18oYyxhKSxiPSEwKX0pLGImJmQoKX1mdW5jdGlvbiBlKGEpe2Eubm9kZXNfLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9cC5nZXQoYik7YyYmYy5mb3JFYWNoKGZ1bmN0aW9uKGIpe2Iub2JzZXJ2ZXI9PT1hJiZiLnJlbW92ZVRyYW5zaWVudE9ic2VydmVycygpfSl9KX1mdW5jdGlvbiBmKGEsYil7Zm9yKHZhciBjPWE7YztjPWMucGFyZW50Tm9kZSl7dmFyIGQ9cC5nZXQoYyk7aWYoZClmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXSxnPWYub3B0aW9ucztpZihjPT09YXx8Zy5zdWJ0cmVlKXt2YXIgaD1iKGcpO2gmJmYuZW5xdWV1ZShoKX19fX1mdW5jdGlvbiBnKGEpe3RoaXMuY2FsbGJhY2tfPWEsdGhpcy5ub2Rlc189W10sdGhpcy5yZWNvcmRzXz1bXSx0aGlzLnVpZF89Kyt2fWZ1bmN0aW9uIGgoYSxiKXt0aGlzLnR5cGU9YSx0aGlzLnRhcmdldD1iLHRoaXMuYWRkZWROb2Rlcz1bXSx0aGlzLnJlbW92ZWROb2Rlcz1bXSx0aGlzLnByZXZpb3VzU2libGluZz1udWxsLHRoaXMubmV4dFNpYmxpbmc9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWU9bnVsbCx0aGlzLmF0dHJpYnV0ZU5hbWVzcGFjZT1udWxsLHRoaXMub2xkVmFsdWU9bnVsbH1mdW5jdGlvbiBpKGEpe3ZhciBiPW5ldyBoKGEudHlwZSxhLnRhcmdldCk7cmV0dXJuIGIuYWRkZWROb2Rlcz1hLmFkZGVkTm9kZXMuc2xpY2UoKSxiLnJlbW92ZWROb2Rlcz1hLnJlbW92ZWROb2Rlcy5zbGljZSgpLGIucHJldmlvdXNTaWJsaW5nPWEucHJldmlvdXNTaWJsaW5nLGIubmV4dFNpYmxpbmc9YS5uZXh0U2libGluZyxiLmF0dHJpYnV0ZU5hbWU9YS5hdHRyaWJ1dGVOYW1lLGIuYXR0cmlidXRlTmFtZXNwYWNlPWEuYXR0cmlidXRlTmFtZXNwYWNlLGIub2xkVmFsdWU9YS5vbGRWYWx1ZSxifWZ1bmN0aW9uIGooYSxiKXtyZXR1cm4gdz1uZXcgaChhLGIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuIHg/eDooeD1pKHcpLHgub2xkVmFsdWU9YSx4KX1mdW5jdGlvbiBsKCl7dz14PXZvaWQgMH1mdW5jdGlvbiBtKGEpe3JldHVybiBhPT09eHx8YT09PXd9ZnVuY3Rpb24gbihhLGIpe3JldHVybiBhPT09Yj9hOngmJm0oYSk/eDpudWxsfWZ1bmN0aW9uIG8oYSxiLGMpe3RoaXMub2JzZXJ2ZXI9YSx0aGlzLnRhcmdldD1iLHRoaXMub3B0aW9ucz1jLHRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlcz1bXX12YXIgcD1uZXcgV2Vha01hcCxxPXdpbmRvdy5tc1NldEltbWVkaWF0ZTtpZighcSl7dmFyIHI9W10scz1TdHJpbmcoTWF0aC5yYW5kb20oKSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsZnVuY3Rpb24oYSl7aWYoYS5kYXRhPT09cyl7dmFyIGI9cjtyPVtdLGIuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX19KSxxPWZ1bmN0aW9uKGEpe3IucHVzaChhKSx3aW5kb3cucG9zdE1lc3NhZ2UocyxcIipcIil9fXZhciB0PSExLHU9W10sdj0wO2cucHJvdG90eXBlPXtvYnNlcnZlOmZ1bmN0aW9uKGEsYil7aWYoYT1jKGEpLCFiLmNoaWxkTGlzdCYmIWIuYXR0cmlidXRlcyYmIWIuY2hhcmFjdGVyRGF0YXx8Yi5hdHRyaWJ1dGVPbGRWYWx1ZSYmIWIuYXR0cmlidXRlc3x8Yi5hdHRyaWJ1dGVGaWx0ZXImJmIuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmIWIuYXR0cmlidXRlc3x8Yi5jaGFyYWN0ZXJEYXRhT2xkVmFsdWUmJiFiLmNoYXJhY3RlckRhdGEpdGhyb3cgbmV3IFN5bnRheEVycm9yO3ZhciBkPXAuZ2V0KGEpO2R8fHAuc2V0KGEsZD1bXSk7Zm9yKHZhciBlLGY9MDtmPGQubGVuZ3RoO2YrKylpZihkW2ZdLm9ic2VydmVyPT09dGhpcyl7ZT1kW2ZdLGUucmVtb3ZlTGlzdGVuZXJzKCksZS5vcHRpb25zPWI7YnJlYWt9ZXx8KGU9bmV3IG8odGhpcyxhLGIpLGQucHVzaChlKSx0aGlzLm5vZGVzXy5wdXNoKGEpKSxlLmFkZExpc3RlbmVycygpfSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dGhpcy5ub2Rlc18uZm9yRWFjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2lmKGQub2JzZXJ2ZXI9PT10aGlzKXtkLnJlbW92ZUxpc3RlbmVycygpLGIuc3BsaWNlKGMsMSk7YnJlYWt9fX0sdGhpcyksdGhpcy5yZWNvcmRzXz1bXX0sdGFrZVJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnJlY29yZHNfO3JldHVybiB0aGlzLnJlY29yZHNfPVtdLGF9fTt2YXIgdyx4O28ucHJvdG90eXBlPXtlbnF1ZXVlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMub2JzZXJ2ZXIucmVjb3Jkc18sZD1jLmxlbmd0aDtpZihjLmxlbmd0aD4wKXt2YXIgZT1jW2QtMV0sZj1uKGUsYSk7aWYoZilyZXR1cm4gdm9pZChjW2QtMV09Zil9ZWxzZSBiKHRoaXMub2JzZXJ2ZXIpO2NbZF09YX0sYWRkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5hZGRMaXN0ZW5lcnNfKHRoaXMudGFyZ2V0KX0sYWRkTGlzdGVuZXJzXzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm9wdGlvbnM7Yi5hdHRyaWJ1dGVzJiZhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01BdHRyTW9kaWZpZWRcIix0aGlzLCEwKSxiLmNoYXJhY3RlckRhdGEmJmEuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLHRoaXMsITApLGIuY2hpbGRMaXN0JiZhLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Ob2RlSW5zZXJ0ZWRcIix0aGlzLCEwKSwoYi5jaGlsZExpc3R8fGIuc3VidHJlZSkmJmEuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTU5vZGVSZW1vdmVkXCIsdGhpcywhMCl9LHJlbW92ZUxpc3RlbmVyczpmdW5jdGlvbigpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyh0aGlzLnRhcmdldCl9LHJlbW92ZUxpc3RlbmVyc186ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5vcHRpb25zO2IuYXR0cmlidXRlcyYmYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQXR0ck1vZGlmaWVkXCIsdGhpcywhMCksYi5jaGFyYWN0ZXJEYXRhJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIix0aGlzLCEwKSxiLmNoaWxkTGlzdCYmYS5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTm9kZUluc2VydGVkXCIsdGhpcywhMCksKGIuY2hpbGRMaXN0fHxiLnN1YnRyZWUpJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Ob2RlUmVtb3ZlZFwiLHRoaXMsITApfSxhZGRUcmFuc2llbnRPYnNlcnZlcjpmdW5jdGlvbihhKXtpZihhIT09dGhpcy50YXJnZXQpe3RoaXMuYWRkTGlzdGVuZXJzXyhhKSx0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXMucHVzaChhKTt2YXIgYj1wLmdldChhKTtifHxwLnNldChhLGI9W10pLGIucHVzaCh0aGlzKX19LHJlbW92ZVRyYW5zaWVudE9ic2VydmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudHJhbnNpZW50T2JzZXJ2ZWROb2Rlczt0aGlzLnRyYW5zaWVudE9ic2VydmVkTm9kZXM9W10sYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe3RoaXMucmVtb3ZlTGlzdGVuZXJzXyhhKTtmb3IodmFyIGI9cC5nZXQoYSksYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGJbY109PT10aGlzKXtiLnNwbGljZShjLDEpO2JyZWFrfX0sdGhpcyl9LGhhbmRsZUV2ZW50OmZ1bmN0aW9uKGEpe3N3aXRjaChhLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpLGEudHlwZSl7Y2FzZVwiRE9NQXR0ck1vZGlmaWVkXCI6dmFyIGI9YS5hdHRyTmFtZSxjPWEucmVsYXRlZE5vZGUubmFtZXNwYWNlVVJJLGQ9YS50YXJnZXQsZT1uZXcgaihcImF0dHJpYnV0ZXNcIixkKTtlLmF0dHJpYnV0ZU5hbWU9YixlLmF0dHJpYnV0ZU5hbWVzcGFjZT1jO3ZhciBnPWEuYXR0ckNoYW5nZT09PU11dGF0aW9uRXZlbnQuQURESVRJT04/bnVsbDphLnByZXZWYWx1ZTtmKGQsZnVuY3Rpb24oYSl7cmV0dXJuIWEuYXR0cmlidXRlc3x8YS5hdHRyaWJ1dGVGaWx0ZXImJmEuYXR0cmlidXRlRmlsdGVyLmxlbmd0aCYmLTE9PT1hLmF0dHJpYnV0ZUZpbHRlci5pbmRleE9mKGIpJiYtMT09PWEuYXR0cmlidXRlRmlsdGVyLmluZGV4T2YoYyk/dm9pZCAwOmEuYXR0cmlidXRlT2xkVmFsdWU/ayhnKTplfSk7YnJlYWs7Y2FzZVwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCI6dmFyIGQ9YS50YXJnZXQsZT1qKFwiY2hhcmFjdGVyRGF0YVwiLGQpLGc9YS5wcmV2VmFsdWU7ZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoYXJhY3RlckRhdGE/YS5jaGFyYWN0ZXJEYXRhT2xkVmFsdWU/ayhnKTplOnZvaWQgMH0pO2JyZWFrO2Nhc2VcIkRPTU5vZGVSZW1vdmVkXCI6dGhpcy5hZGRUcmFuc2llbnRPYnNlcnZlcihhLnRhcmdldCk7Y2FzZVwiRE9NTm9kZUluc2VydGVkXCI6dmFyIGgsaSxkPWEucmVsYXRlZE5vZGUsbT1hLnRhcmdldDtcIkRPTU5vZGVJbnNlcnRlZFwiPT09YS50eXBlPyhoPVttXSxpPVtdKTooaD1bXSxpPVttXSk7dmFyIG49bS5wcmV2aW91c1NpYmxpbmcsbz1tLm5leHRTaWJsaW5nLGU9aihcImNoaWxkTGlzdFwiLGQpO2UuYWRkZWROb2Rlcz1oLGUucmVtb3ZlZE5vZGVzPWksZS5wcmV2aW91c1NpYmxpbmc9bixlLm5leHRTaWJsaW5nPW8sZihkLGZ1bmN0aW9uKGEpe3JldHVybiBhLmNoaWxkTGlzdD9lOnZvaWQgMH0pfWwoKX19LGEuSnNNdXRhdGlvbk9ic2VydmVyPWcsYS5NdXRhdGlvbk9ic2VydmVyfHwoYS5NdXRhdGlvbk9ic2VydmVyPWcpfSh0aGlzKSx3aW5kb3cuSFRNTEltcG9ydHM9d2luZG93LkhUTUxJbXBvcnRzfHx7ZmxhZ3M6e319LGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtiPWJ8fHEsZChmdW5jdGlvbigpe2YoYSxiKX0sYil9ZnVuY3Rpb24gYyhhKXtyZXR1cm5cImNvbXBsZXRlXCI9PT1hLnJlYWR5U3RhdGV8fGEucmVhZHlTdGF0ZT09PXN9ZnVuY3Rpb24gZChhLGIpe2lmKGMoYikpYSYmYSgpO2Vsc2V7dmFyIGU9ZnVuY3Rpb24oKXsoXCJjb21wbGV0ZVwiPT09Yi5yZWFkeVN0YXRlfHxiLnJlYWR5U3RhdGU9PT1zKSYmKGIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpLGQoYSxiKSl9O2IuYWRkRXZlbnRMaXN0ZW5lcih0LGUpfX1mdW5jdGlvbiBlKGEpe2EudGFyZ2V0Ll9fbG9hZGVkPSEwfWZ1bmN0aW9uIGYoYSxiKXtmdW5jdGlvbiBjKCl7aD09aSYmYSYmYSgpfWZ1bmN0aW9uIGQoYSl7ZShhKSxoKyssYygpfXZhciBmPWIucXVlcnlTZWxlY3RvckFsbChcImxpbmtbcmVsPWltcG9ydF1cIiksaD0wLGk9Zi5sZW5ndGg7aWYoaSlmb3IodmFyIGosaz0wO2k+ayYmKGo9ZltrXSk7aysrKWcoaik/ZC5jYWxsKGose3RhcmdldDpqfSk6KGouYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixkKSxqLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGQpKTtlbHNlIGMoKX1mdW5jdGlvbiBnKGEpe3JldHVybiBtP2EuX19sb2FkZWR8fGEuaW1wb3J0JiZcImxvYWRpbmdcIiE9PWEuaW1wb3J0LnJlYWR5U3RhdGU6YS5fX2ltcG9ydFBhcnNlZH1mdW5jdGlvbiBoKGEpe2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKylpKGIpJiZqKGIpfWZ1bmN0aW9uIGkoYSl7cmV0dXJuXCJsaW5rXCI9PT1hLmxvY2FsTmFtZSYmXCJpbXBvcnRcIj09PWEucmVsfWZ1bmN0aW9uIGooYSl7dmFyIGI9YS5pbXBvcnQ7Yj9lKHt0YXJnZXQ6YX0pOihhLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsZSksYS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixlKSl9dmFyIGs9XCJpbXBvcnRcIixsPWsgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIiksbT1sLG49L1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbz1Cb29sZWFuKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCkscD1mdW5jdGlvbihhKXtyZXR1cm4gbz9TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoYSk6YX0scT1wKGRvY3VtZW50KSxyPXtnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1IVE1MSW1wb3J0cy5jdXJyZW50U2NyaXB0fHxkb2N1bWVudC5jdXJyZW50U2NyaXB0fHwoXCJjb21wbGV0ZVwiIT09ZG9jdW1lbnQucmVhZHlTdGF0ZT9kb2N1bWVudC5zY3JpcHRzW2RvY3VtZW50LnNjcmlwdHMubGVuZ3RoLTFdOm51bGwpO3JldHVybiBwKGEpfSxjb25maWd1cmFibGU6ITB9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShkb2N1bWVudCxcIl9jdXJyZW50U2NyaXB0XCIsciksT2JqZWN0LmRlZmluZVByb3BlcnR5KHEsXCJfY3VycmVudFNjcmlwdFwiLHIpO3ZhciBzPW4/XCJjb21wbGV0ZVwiOlwiaW50ZXJhY3RpdmVcIix0PVwicmVhZHlzdGF0ZWNoYW5nZVwiO20mJihuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihhKXtmb3IodmFyIGIsYz0wLGQ9YS5sZW5ndGg7ZD5jJiYoYj1hW2NdKTtjKyspYi5hZGRlZE5vZGVzJiZoKGIuYWRkZWROb2Rlcyl9KS5vYnNlcnZlKGRvY3VtZW50LmhlYWQse2NoaWxkTGlzdDohMH0pLGZ1bmN0aW9uKCl7aWYoXCJsb2FkaW5nXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKWZvcih2YXIgYSxiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaW5rW3JlbD1pbXBvcnRdXCIpLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWooYSl9KCkpLGIoZnVuY3Rpb24oKXtIVE1MSW1wb3J0cy5yZWFkeT0hMCxIVE1MSW1wb3J0cy5yZWFkeVRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCkscS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcIkhUTUxJbXBvcnRzTG9hZGVkXCIse2J1YmJsZXM6ITB9KSl9KSxhLnVzZU5hdGl2ZT1tLGEuaXNJbXBvcnRMb2FkZWQ9ZyxhLndoZW5SZWFkeT1iLGEucm9vdERvY3VtZW50PXEsYS5JTVBPUlRfTElOS19UWVBFPWssYS5pc0lFPW59KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7dmFyIGI9KGEucGF0aCxhLnhociksYz1hLmZsYWdzLGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmNhY2hlPXt9LHRoaXMub25sb2FkPWEsdGhpcy5vbmNvbXBsZXRlPWIsdGhpcy5pbmZsaWdodD0wLHRoaXMucGVuZGluZz17fX07ZC5wcm90b3R5cGU9e2FkZE5vZGVzOmZ1bmN0aW9uKGEpe3RoaXMuaW5mbGlnaHQrPWEubGVuZ3RoO2Zvcih2YXIgYixjPTAsZD1hLmxlbmd0aDtkPmMmJihiPWFbY10pO2MrKyl0aGlzLnJlcXVpcmUoYik7dGhpcy5jaGVja0RvbmUoKX0sYWRkTm9kZTpmdW5jdGlvbihhKXt0aGlzLmluZmxpZ2h0KyssdGhpcy5yZXF1aXJlKGEpLHRoaXMuY2hlY2tEb25lKCl9LHJlcXVpcmU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zcmN8fGEuaHJlZjthLl9fbm9kZVVybD1iLHRoaXMuZGVkdXBlKGIsYSl8fHRoaXMuZmV0Y2goYixhKX0sZGVkdXBlOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5wZW5kaW5nW2FdKXJldHVybiB0aGlzLnBlbmRpbmdbYV0ucHVzaChiKSwhMDtyZXR1cm4gdGhpcy5jYWNoZVthXT8odGhpcy5vbmxvYWQoYSxiLHRoaXMuY2FjaGVbYV0pLHRoaXMudGFpbCgpLCEwKToodGhpcy5wZW5kaW5nW2FdPVtiXSwhMSl9LGZldGNoOmZ1bmN0aW9uKGEsZCl7aWYoYy5sb2FkJiZjb25zb2xlLmxvZyhcImZldGNoXCIsYSxkKSxhLm1hdGNoKC9eZGF0YTovKSl7dmFyIGU9YS5zcGxpdChcIixcIiksZj1lWzBdLGc9ZVsxXTtnPWYuaW5kZXhPZihcIjtiYXNlNjRcIik+LTE/YXRvYihnKTpkZWNvZGVVUklDb21wb25lbnQoZyksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMucmVjZWl2ZShhLGQsbnVsbCxnKX0uYmluZCh0aGlzKSwwKX1lbHNle3ZhciBoPWZ1bmN0aW9uKGIsYyxlKXt0aGlzLnJlY2VpdmUoYSxkLGIsYyxlKX0uYmluZCh0aGlzKTtiLmxvYWQoYSxoKX19LHJlY2VpdmU6ZnVuY3Rpb24oYSxiLGMsZCxlKXt0aGlzLmNhY2hlW2FdPWQ7Zm9yKHZhciBmLGc9dGhpcy5wZW5kaW5nW2FdLGg9MCxpPWcubGVuZ3RoO2k+aCYmKGY9Z1toXSk7aCsrKXRoaXMub25sb2FkKGEsZixkLGMsZSksdGhpcy50YWlsKCk7dGhpcy5wZW5kaW5nW2FdPW51bGx9LHRhaWw6ZnVuY3Rpb24oKXstLXRoaXMuaW5mbGlnaHQsdGhpcy5jaGVja0RvbmUoKX0sY2hlY2tEb25lOmZ1bmN0aW9uKCl7dGhpcy5pbmZsaWdodHx8dGhpcy5vbmNvbXBsZXRlKCl9fSxiPWJ8fHthc3luYzohMCxvazpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdGF0dXM+PTIwMCYmYS5zdGF0dXM8MzAwfHwzMDQ9PT1hLnN0YXR1c3x8MD09PWEuc3RhdHVzfSxsb2FkOmZ1bmN0aW9uKGMsZCxlKXt2YXIgZj1uZXcgWE1MSHR0cFJlcXVlc3Q7cmV0dXJuKGEuZmxhZ3MuZGVidWd8fGEuZmxhZ3MuYnVzdCkmJihjKz1cIj9cIitNYXRoLnJhbmRvbSgpKSxmLm9wZW4oXCJHRVRcIixjLGIuYXN5bmMpLGYuYWRkRXZlbnRMaXN0ZW5lcihcInJlYWR5c3RhdGVjaGFuZ2VcIixmdW5jdGlvbigpe2lmKDQ9PT1mLnJlYWR5U3RhdGUpe3ZhciBhPWYuZ2V0UmVzcG9uc2VIZWFkZXIoXCJMb2NhdGlvblwiKSxjPW51bGw7aWYoYSl2YXIgYz1cIi9cIj09PWEuc3Vic3RyKDAsMSk/bG9jYXRpb24ub3JpZ2luK2E6YTtkLmNhbGwoZSwhYi5vayhmKSYmZixmLnJlc3BvbnNlfHxmLnJlc3BvbnNlVGV4dCxjKX19KSxmLnNlbmQoKSxmfSxsb2FkRG9jdW1lbnQ6ZnVuY3Rpb24oYSxiLGMpe3RoaXMubG9hZChhLGIsYykucmVzcG9uc2VUeXBlPVwiZG9jdW1lbnRcIn19LGEueGhyPWIsYS5Mb2FkZXI9ZH0od2luZG93LkhUTUxJbXBvcnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVyblwibGlua1wiPT09YS5sb2NhbE5hbWUmJmEucmVsPT09an1mdW5jdGlvbiBjKGEpe3ZhciBiPWQoYSk7cmV0dXJuXCJkYXRhOnRleHQvamF2YXNjcmlwdDtjaGFyc2V0PXV0Zi04LFwiK2VuY29kZVVSSUNvbXBvbmVudChiKX1mdW5jdGlvbiBkKGEpe3JldHVybiBhLnRleHRDb250ZW50K2UoYSl9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLl9fbm9kZVVybDtpZighYil7Yj1hLm93bmVyRG9jdW1lbnQuYmFzZVVSSTt2YXIgYz1cIltcIitNYXRoLmZsb29yKDFlMyooTWF0aC5yYW5kb20oKSsxKSkrXCJdXCIsZD1hLnRleHRDb250ZW50Lm1hdGNoKC9Qb2x5bWVyXFwoWydcIl0oW14nXCJdKikvKTtjPWQmJmRbMV18fGMsYis9XCIvXCIrYytcIi5qc1wifXJldHVyblwiXFxuLy8jIHNvdXJjZVVSTD1cIitiK1wiXFxuXCJ9ZnVuY3Rpb24gZihhKXt2YXIgYj1hLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3JldHVybiBiLnRleHRDb250ZW50PWEudGV4dENvbnRlbnQsbi5yZXNvbHZlVXJsc0luU3R5bGUoYiksYn12YXIgZz1hLnJvb3REb2N1bWVudCxoPWEuZmxhZ3MsaT1hLmlzSUUsaj1hLklNUE9SVF9MSU5LX1RZUEUsaz17ZG9jdW1lbnRTZWxlY3RvcnM6XCJsaW5rW3JlbD1cIitqK1wiXVwiLGltcG9ydHNTZWxlY3RvcnM6W1wibGlua1tyZWw9XCIraitcIl1cIixcImxpbmtbcmVsPXN0eWxlc2hlZXRdXCIsXCJzdHlsZVwiLFwic2NyaXB0Om5vdChbdHlwZV0pXCIsJ3NjcmlwdFt0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCJdJ10uam9pbihcIixcIiksbWFwOntsaW5rOlwicGFyc2VMaW5rXCIsc2NyaXB0OlwicGFyc2VTY3JpcHRcIixzdHlsZTpcInBhcnNlU3R5bGVcIn0sZHluYW1pY0VsZW1lbnRzOltdLHBhcnNlTmV4dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubmV4dFRvUGFyc2UoKTthJiZ0aGlzLnBhcnNlKGEpfSxwYXJzZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzUGFyc2VkKGEpKXJldHVybiB2b2lkKGgucGFyc2UmJmNvbnNvbGUubG9nKFwiWyVzXSBpcyBhbHJlYWR5IHBhcnNlZFwiLGEubG9jYWxOYW1lKSk7dmFyIGI9dGhpc1t0aGlzLm1hcFthLmxvY2FsTmFtZV1dO2ImJih0aGlzLm1hcmtQYXJzaW5nKGEpLGIuY2FsbCh0aGlzLGEpKX0scGFyc2VEeW5hbWljOmZ1bmN0aW9uKGEsYil7dGhpcy5keW5hbWljRWxlbWVudHMucHVzaChhKSxifHx0aGlzLnBhcnNlTmV4dCgpfSxtYXJrUGFyc2luZzpmdW5jdGlvbihhKXtoLnBhcnNlJiZjb25zb2xlLmxvZyhcInBhcnNpbmdcIixhKSx0aGlzLnBhcnNpbmdFbGVtZW50PWF9LG1hcmtQYXJzaW5nQ29tcGxldGU6ZnVuY3Rpb24oYSl7YS5fX2ltcG9ydFBhcnNlZD0hMCx0aGlzLm1hcmtEeW5hbWljUGFyc2luZ0NvbXBsZXRlKGEpLGEuX19pbXBvcnRFbGVtZW50JiYoYS5fX2ltcG9ydEVsZW1lbnQuX19pbXBvcnRQYXJzZWQ9ITAsdGhpcy5tYXJrRHluYW1pY1BhcnNpbmdDb21wbGV0ZShhLl9faW1wb3J0RWxlbWVudCkpLHRoaXMucGFyc2luZ0VsZW1lbnQ9bnVsbCxoLnBhcnNlJiZjb25zb2xlLmxvZyhcImNvbXBsZXRlZFwiLGEpfSxtYXJrRHluYW1pY1BhcnNpbmdDb21wbGV0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmR5bmFtaWNFbGVtZW50cy5pbmRleE9mKGEpO2I+PTAmJnRoaXMuZHluYW1pY0VsZW1lbnRzLnNwbGljZShiLDEpfSxwYXJzZUltcG9ydDpmdW5jdGlvbihhKXtpZihIVE1MSW1wb3J0cy5fX2ltcG9ydHNQYXJzaW5nSG9vayYmSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2soYSksYS5pbXBvcnQmJihhLmltcG9ydC5fX2ltcG9ydFBhcnNlZD0hMCksdGhpcy5tYXJrUGFyc2luZ0NvbXBsZXRlKGEpLGEuZGlzcGF0Y2hFdmVudChhLl9fcmVzb3VyY2UmJiFhLl9fZXJyb3I/bmV3IEN1c3RvbUV2ZW50KFwibG9hZFwiLHtidWJibGVzOiExfSk6bmV3IEN1c3RvbUV2ZW50KFwiZXJyb3JcIix7YnViYmxlczohMX0pKSxhLl9fcGVuZGluZylmb3IodmFyIGI7YS5fX3BlbmRpbmcubGVuZ3RoOyliPWEuX19wZW5kaW5nLnNoaWZ0KCksYiYmYih7dGFyZ2V0OmF9KTt0aGlzLnBhcnNlTmV4dCgpfSxwYXJzZUxpbms6ZnVuY3Rpb24oYSl7YihhKT90aGlzLnBhcnNlSW1wb3J0KGEpOihhLmhyZWY9YS5ocmVmLHRoaXMucGFyc2VHZW5lcmljKGEpKX0scGFyc2VTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj1hO2E9ZihhKSxhLl9faW1wb3J0RWxlbWVudD1iLHRoaXMucGFyc2VHZW5lcmljKGEpfSxwYXJzZUdlbmVyaWM6ZnVuY3Rpb24oYSl7dGhpcy50cmFja0VsZW1lbnQoYSksdGhpcy5hZGRFbGVtZW50VG9Eb2N1bWVudChhKX0scm9vdEltcG9ydEZvckVsZW1lbnQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPWE7Yi5vd25lckRvY3VtZW50Ll9faW1wb3J0TGluazspYj1iLm93bmVyRG9jdW1lbnQuX19pbXBvcnRMaW5rO3JldHVybiBifSxhZGRFbGVtZW50VG9Eb2N1bWVudDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5yb290SW1wb3J0Rm9yRWxlbWVudChhLl9faW1wb3J0RWxlbWVudHx8YSksYz1iLl9faW5zZXJ0ZWRFbGVtZW50cz1iLl9faW5zZXJ0ZWRFbGVtZW50c3x8MCxkPWIubmV4dEVsZW1lbnRTaWJsaW5nLGU9MDtjPmU7ZSsrKWQ9ZCYmZC5uZXh0RWxlbWVudFNpYmxpbmc7Yi5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGQpfSx0cmFja0VsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9ZnVuY3Rpb24oZCl7YiYmYihkKSxjLm1hcmtQYXJzaW5nQ29tcGxldGUoYSksYy5wYXJzZU5leHQoKX07aWYoYS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGQpLGEuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZCksaSYmXCJzdHlsZVwiPT09YS5sb2NhbE5hbWUpe3ZhciBlPSExO2lmKC0xPT1hLnRleHRDb250ZW50LmluZGV4T2YoXCJAaW1wb3J0XCIpKWU9ITA7ZWxzZSBpZihhLnNoZWV0KXtlPSEwO2Zvcih2YXIgZixnPWEuc2hlZXQuY3NzUnVsZXMsaD1nP2cubGVuZ3RoOjAsaj0wO2g+aiYmKGY9Z1tqXSk7aisrKWYudHlwZT09PUNTU1J1bGUuSU1QT1JUX1JVTEUmJihlPWUmJkJvb2xlYW4oZi5zdHlsZVNoZWV0KSl9ZSYmYS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcImxvYWRcIix7YnViYmxlczohMX0pKX19LHBhcnNlU2NyaXB0OmZ1bmN0aW9uKGIpe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7ZC5fX2ltcG9ydEVsZW1lbnQ9YixkLnNyYz1iLnNyYz9iLnNyYzpjKGIpLGEuY3VycmVudFNjcmlwdD1iLHRoaXMudHJhY2tFbGVtZW50KGQsZnVuY3Rpb24oKXtkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYS5jdXJyZW50U2NyaXB0PW51bGx9KSx0aGlzLmFkZEVsZW1lbnRUb0RvY3VtZW50KGQpfSxuZXh0VG9QYXJzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXlQYXJzZT1bXSwhdGhpcy5wYXJzaW5nRWxlbWVudCYmKHRoaXMubmV4dFRvUGFyc2VJbkRvYyhnKXx8dGhpcy5uZXh0VG9QYXJzZUR5bmFtaWMoKSl9LG5leHRUb1BhcnNlSW5Eb2M6ZnVuY3Rpb24oYSxjKXtpZihhJiZ0aGlzLl9tYXlQYXJzZS5pbmRleE9mKGEpPDApe3RoaXMuX21heVBhcnNlLnB1c2goYSk7Zm9yKHZhciBkLGU9YS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMucGFyc2VTZWxlY3RvcnNGb3JOb2RlKGEpKSxmPTAsZz1lLmxlbmd0aDtnPmYmJihkPWVbZl0pO2YrKylpZighdGhpcy5pc1BhcnNlZChkKSlyZXR1cm4gdGhpcy5oYXNSZXNvdXJjZShkKT9iKGQpP3RoaXMubmV4dFRvUGFyc2VJbkRvYyhkLmltcG9ydCxkKTpkOnZvaWQgMH1yZXR1cm4gY30sbmV4dFRvUGFyc2VEeW5hbWljOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHluYW1pY0VsZW1lbnRzWzBdfSxwYXJzZVNlbGVjdG9yc0Zvck5vZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50fHxhO3JldHVybiBiPT09Zz90aGlzLmRvY3VtZW50U2VsZWN0b3JzOnRoaXMuaW1wb3J0c1NlbGVjdG9yc30saXNQYXJzZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuX19pbXBvcnRQYXJzZWR9LG5lZWRzRHluYW1pY1BhcnNpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZHluYW1pY0VsZW1lbnRzLmluZGV4T2YoYSk+PTB9LGhhc1Jlc291cmNlOmZ1bmN0aW9uKGEpe3JldHVybiBiKGEpJiZ2b2lkIDA9PT1hLmltcG9ydD8hMTohMH19LGw9Lyh1cmxcXCgpKFteKV0qKShcXCkpL2csbT0vKEBpbXBvcnRbXFxzXSsoPyF1cmxcXCgpKShbXjtdKikoOykvZyxuPXtyZXNvbHZlVXJsc0luU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vd25lckRvY3VtZW50LGM9Yi5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gYS50ZXh0Q29udGVudD10aGlzLnJlc29sdmVVcmxzSW5Dc3NUZXh0KGEudGV4dENvbnRlbnQsYyksYX0scmVzb2x2ZVVybHNJbkNzc1RleHQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJlcGxhY2VVcmxzKGEsYixsKTtyZXR1cm4gYz10aGlzLnJlcGxhY2VVcmxzKGMsYixtKX0scmVwbGFjZVVybHM6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBhLnJlcGxhY2UoYyxmdW5jdGlvbihhLGMsZCxlKXt2YXIgZj1kLnJlcGxhY2UoL1tcIiddL2csXCJcIik7cmV0dXJuIGIuaHJlZj1mLGY9Yi5ocmVmLGMrXCInXCIrZitcIidcIitlfSl9fTthLnBhcnNlcj1rLGEucGF0aD1ufShIVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhLGcpfWZ1bmN0aW9uIGMoYSxiKXtyZXR1cm5cImxpbmtcIj09PWEubG9jYWxOYW1lJiZhLmdldEF0dHJpYnV0ZShcInJlbFwiKT09PWJ9ZnVuY3Rpb24gZChhLGIpe3ZhciBjPWE7YyBpbnN0YW5jZW9mIERvY3VtZW50fHwoYz1kb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoZykpLGMuX1VSTD1iO3ZhciBkPWMuY3JlYXRlRWxlbWVudChcImJhc2VcIik7ZC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYiksYy5iYXNlVVJJfHwoYy5iYXNlVVJJPWIpO3ZhciBlPWMuY3JlYXRlRWxlbWVudChcIm1ldGFcIik7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwiY2hhcnNldFwiLFwidXRmLThcIiksYy5oZWFkLmFwcGVuZENoaWxkKGUpLGMuaGVhZC5hcHBlbmRDaGlsZChkKSxhIGluc3RhbmNlb2YgRG9jdW1lbnR8fChjLmJvZHkuaW5uZXJIVE1MPWEpLHdpbmRvdy5IVE1MVGVtcGxhdGVFbGVtZW50JiZIVE1MVGVtcGxhdGVFbGVtZW50LmJvb3RzdHJhcCYmSFRNTFRlbXBsYXRlRWxlbWVudC5ib290c3RyYXAoYyksY312YXIgZT1hLnVzZU5hdGl2ZSxmPWEuZmxhZ3MsZz1hLklNUE9SVF9MSU5LX1RZUEU7aWYoZSl2YXIgaD17fTtlbHNle3ZhciBpPWEucm9vdERvY3VtZW50LGo9KGEueGhyLGEuTG9hZGVyKSxrPWEucGFyc2VyLGg9e2RvY3VtZW50czp7fSxkb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6XCJsaW5rW3JlbD1cIitnK1wiXVwiLGltcG9ydHNQcmVsb2FkU2VsZWN0b3JzOltcImxpbmtbcmVsPVwiK2crXCJdXCJdLmpvaW4oXCIsXCIpLGxvYWROb2RlOmZ1bmN0aW9uKGEpe2wuYWRkTm9kZShhKX0sbG9hZFN1YnRyZWU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5tYXJzaGFsTm9kZXMoYSk7bC5hZGROb2RlcyhiKX0sbWFyc2hhbE5vZGVzOmZ1bmN0aW9uKGEpe3JldHVybiBhLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5sb2FkU2VsZWN0b3JzRm9yTm9kZShhKSl9LGxvYWRTZWxlY3RvcnNGb3JOb2RlOmZ1bmN0aW9uKGEpe3ZhciBiPWEub3duZXJEb2N1bWVudHx8YTtyZXR1cm4gYj09PWk/dGhpcy5kb2N1bWVudFByZWxvYWRTZWxlY3RvcnM6dGhpcy5pbXBvcnRzUHJlbG9hZFNlbGVjdG9yc30sbG9hZGVkOmZ1bmN0aW9uKGEsYyxlLGcsaCl7aWYoZi5sb2FkJiZjb25zb2xlLmxvZyhcImxvYWRlZFwiLGEsYyksYy5fX3Jlc291cmNlPWUsYy5fX2Vycm9yPWcsYihjKSl7dmFyIGk9dGhpcy5kb2N1bWVudHNbYV07dm9pZCAwPT09aSYmKGk9Zz9udWxsOmQoZSxofHxhKSxpJiYoaS5fX2ltcG9ydExpbms9Yyx0aGlzLmJvb3REb2N1bWVudChpKSksdGhpcy5kb2N1bWVudHNbYV09aSksYy5pbXBvcnQ9aX1rLnBhcnNlTmV4dCgpfSxib290RG9jdW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkU3VidHJlZShhKSx0aGlzLm9ic2VydmUoYSksay5wYXJzZU5leHQoKX0sbG9hZGVkQWxsOmZ1bmN0aW9uKCl7ay5wYXJzZU5leHQoKX19LGw9bmV3IGooaC5sb2FkZWQuYmluZChoKSxoLmxvYWRlZEFsbC5iaW5kKGgpKTtpZighZG9jdW1lbnQuYmFzZVVSSSl7dmFyIG09e2dldDpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpO3JldHVybiBhP2EuaHJlZjp3aW5kb3cubG9jYXRpb24uaHJlZn0sY29uZmlndXJhYmxlOiEwfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZG9jdW1lbnQsXCJiYXNlVVJJXCIsbSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksXCJiYXNlVVJJXCIsbSl9XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50JiYod2luZG93LkN1c3RvbUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpO3JldHVybiBjLmluaXRFdmVudChhLGIuYnViYmxlcz09PSExPyExOiEwLGIuY2FuY2VsYWJsZT09PSExPyExOiEwLGIuZGV0YWlsKSxjfSl9YS5pbXBvcnRlcj1oLGEuSU1QT1JUX0xJTktfVFlQRT1nLGEuaW1wb3J0TG9hZGVyPWx9KHdpbmRvdy5IVE1MSW1wb3J0cyksZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtmb3IodmFyIGIsZD0wLGU9YS5sZW5ndGg7ZT5kJiYoYj1hW2RdKTtkKyspXCJjaGlsZExpc3RcIj09PWIudHlwZSYmYi5hZGRlZE5vZGVzLmxlbmd0aCYmYyhiLmFkZGVkTm9kZXMpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiLGYsaSxqLGs9MCxsPWEubGVuZ3RoO2w+ayYmKGk9YVtrXSk7aysrKWJ8fChiPWkub3duZXJEb2N1bWVudCxmPWguaXNQYXJzZWQoYikpLGo9ZChpKSxqJiZnLmxvYWROb2RlKGkpLGUoaSkmJmYmJmgucGFyc2VEeW5hbWljKGksaiksaS5jaGlsZHJlbiYmaS5jaGlsZHJlbi5sZW5ndGgmJmMoaS5jaGlsZHJlbil9ZnVuY3Rpb24gZChhKXtyZXR1cm4gMT09PWEubm9kZVR5cGUmJmkuY2FsbChhLGcubG9hZFNlbGVjdG9yc0Zvck5vZGUoYSkpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIDE9PT1hLm5vZGVUeXBlJiZpLmNhbGwoYSxoLnBhcnNlU2VsZWN0b3JzRm9yTm9kZShhKSl9ZnVuY3Rpb24gZihhKXtqLm9ic2VydmUoYSx7Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX12YXIgZz0oYS5JTVBPUlRfTElOS19UWVBFLGEuaW1wb3J0ZXIpLGg9YS5wYXJzZXIsaT1IVE1MRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc3x8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3Rvcnx8SFRNTEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yLGo9bmV3IE11dGF0aW9uT2JzZXJ2ZXIoYik7YS5vYnNlcnZlPWYsZy5vYnNlcnZlPWZ9KEhUTUxJbXBvcnRzKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtIVE1MSW1wb3J0cy5pbXBvcnRlci5ib290RG9jdW1lbnQoYil9dmFyIGI9d2luZG93LlNoYWRvd0RPTVBvbHlmaWxsP3dpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbC53cmFwSWZOZWVkZWQoZG9jdW1lbnQpOmRvY3VtZW50O0hUTUxJbXBvcnRzLnVzZU5hdGl2ZXx8KFwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGV8fFwiaW50ZXJhY3RpdmVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJiF3aW5kb3cuYXR0YWNoRXZlbnQ/YSgpOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsYSkpfSgpLHdpbmRvdy5DdXN0b21FbGVtZW50cz13aW5kb3cuQ3VzdG9tRWxlbWVudHN8fHtmbGFnczp7fX0sZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7dmFyIGU9YS5maXJzdEVsZW1lbnRDaGlsZDtpZighZSlmb3IoZT1hLmZpcnN0Q2hpbGQ7ZSYmZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFOyllPWUubmV4dFNpYmxpbmc7Zm9yKDtlOyljKGUsZCkhPT0hMCYmYihlLGMsZCksZT1lLm5leHRFbGVtZW50U2libGluZztyZXR1cm4gbnVsbH1mdW5jdGlvbiBjKGEsYil7Zm9yKHZhciBjPWEuc2hhZG93Um9vdDtjOylkKGMsYiksYz1jLm9sZGVyU2hhZG93Um9vdH1mdW5jdGlvbiBkKGEsZCl7YihhLGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpPyEwOnZvaWQgYyhhLGQpfSksYyhhLGQpfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGgoYSk/KGkoYSksITApOnZvaWQgbChhKX1mdW5jdGlvbiBmKGEpe2QoYSxmdW5jdGlvbihhKXtyZXR1cm4gZShhKT8hMDp2b2lkIDB9KX1mdW5jdGlvbiBnKGEpe3JldHVybiBlKGEpfHxmKGEpfWZ1bmN0aW9uIGgoYil7aWYoIWIuX191cGdyYWRlZF9fJiZiLm5vZGVUeXBlPT09Tm9kZS5FTEVNRU5UX05PREUpe3ZhciBjPWIuZ2V0QXR0cmlidXRlKFwiaXNcIil8fGIubG9jYWxOYW1lLGQ9YS5yZWdpc3RyeVtjXTtpZihkKXJldHVybiBCLmRvbSYmY29uc29sZS5ncm91cChcInVwZ3JhZGU6XCIsYi5sb2NhbE5hbWUpLGEudXBncmFkZShiKSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpLCEwfX1mdW5jdGlvbiBpKGEpe2woYSkscihhKSYmZChhLGZ1bmN0aW9uKGEpe2woYSl9KX1mdW5jdGlvbiBqKGEpe2lmKEcucHVzaChhKSwhRil7Rj0hMDt2YXIgYj13aW5kb3cuUGxhdGZvcm0mJndpbmRvdy5QbGF0Zm9ybS5lbmRPZk1pY3JvdGFza3x8c2V0VGltZW91dDtiKGspfX1mdW5jdGlvbiBrKCl7Rj0hMTtmb3IodmFyIGEsYj1HLGM9MCxkPWIubGVuZ3RoO2Q+YyYmKGE9YltjXSk7YysrKWEoKTtHPVtdfWZ1bmN0aW9uIGwoYSl7RD9qKGZ1bmN0aW9uKCl7bShhKX0pOm0oYSl9ZnVuY3Rpb24gbShhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZCLmRvbSkmJihCLmRvbSYmY29uc29sZS5ncm91cChcImluc2VydGVkOlwiLGEubG9jYWxOYW1lKSxyKGEpJiYoYS5fX2luc2VydGVkPShhLl9faW5zZXJ0ZWR8fDApKzEsYS5fX2luc2VydGVkPDEmJihhLl9faW5zZXJ0ZWQ9MSksYS5fX2luc2VydGVkPjE/Qi5kb20mJmNvbnNvbGUud2FybihcImluc2VydGVkOlwiLGEubG9jYWxOYW1lLFwiaW5zZXJ0L3JlbW92ZSBjb3VudDpcIixhLl9faW5zZXJ0ZWQpOmEuYXR0YWNoZWRDYWxsYmFjayYmKEIuZG9tJiZjb25zb2xlLmxvZyhcImluc2VydGVkOlwiLGEubG9jYWxOYW1lKSxhLmF0dGFjaGVkQ2FsbGJhY2soKSkpLEIuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCkpfWZ1bmN0aW9uIG4oYSl7byhhKSxkKGEsZnVuY3Rpb24oYSl7byhhKX0pfWZ1bmN0aW9uIG8oYSl7RD9qKGZ1bmN0aW9uKCl7cChhKX0pOnAoYSl9ZnVuY3Rpb24gcChhKXsoYS5hdHRhY2hlZENhbGxiYWNrfHxhLmRldGFjaGVkQ2FsbGJhY2t8fGEuX191cGdyYWRlZF9fJiZCLmRvbSkmJihCLmRvbSYmY29uc29sZS5ncm91cChcInJlbW92ZWQ6XCIsYS5sb2NhbE5hbWUpLHIoYSl8fChhLl9faW5zZXJ0ZWQ9KGEuX19pbnNlcnRlZHx8MCktMSxhLl9faW5zZXJ0ZWQ+MCYmKGEuX19pbnNlcnRlZD0wKSxhLl9faW5zZXJ0ZWQ8MD9CLmRvbSYmY29uc29sZS53YXJuKFwicmVtb3ZlZDpcIixhLmxvY2FsTmFtZSxcImluc2VydC9yZW1vdmUgY291bnQ6XCIsYS5fX2luc2VydGVkKTphLmRldGFjaGVkQ2FsbGJhY2smJmEuZGV0YWNoZWRDYWxsYmFjaygpKSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpKX1mdW5jdGlvbiBxKGEpe3JldHVybiB3aW5kb3cuU2hhZG93RE9NUG9seWZpbGw/U2hhZG93RE9NUG9seWZpbGwud3JhcElmTmVlZGVkKGEpOmF9ZnVuY3Rpb24gcihhKXtmb3IodmFyIGI9YSxjPXEoZG9jdW1lbnQpO2I7KXtpZihiPT1jKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfHxiLmhvc3R9fWZ1bmN0aW9uIHMoYSl7aWYoYS5zaGFkb3dSb290JiYhYS5zaGFkb3dSb290Ll9fd2F0Y2hlZCl7Qi5kb20mJmNvbnNvbGUubG9nKFwid2F0Y2hpbmcgc2hhZG93LXJvb3QgZm9yOiBcIixhLmxvY2FsTmFtZSk7Zm9yKHZhciBiPWEuc2hhZG93Um9vdDtiOyl0KGIpLGI9Yi5vbGRlclNoYWRvd1Jvb3R9fWZ1bmN0aW9uIHQoYSl7dyhhKX1mdW5jdGlvbiB1KGEpe2lmKEIuZG9tKXt2YXIgYj1hWzBdO2lmKGImJlwiY2hpbGRMaXN0XCI9PT1iLnR5cGUmJmIuYWRkZWROb2RlcyYmYi5hZGRlZE5vZGVzKXtmb3IodmFyIGM9Yi5hZGRlZE5vZGVzWzBdO2MmJmMhPT1kb2N1bWVudCYmIWMuaG9zdDspYz1jLnBhcmVudE5vZGU7dmFyIGQ9YyYmKGMuVVJMfHxjLl9VUkx8fGMuaG9zdCYmYy5ob3N0LmxvY2FsTmFtZSl8fFwiXCI7ZD1kLnNwbGl0KFwiLz9cIikuc2hpZnQoKS5zcGxpdChcIi9cIikucG9wKCl9Y29uc29sZS5ncm91cChcIm11dGF0aW9ucyAoJWQpIFslc11cIixhLmxlbmd0aCxkfHxcIlwiKX1hLmZvckVhY2goZnVuY3Rpb24oYSl7XCJjaGlsZExpc3RcIj09PWEudHlwZSYmKEgoYS5hZGRlZE5vZGVzLGZ1bmN0aW9uKGEpe2EubG9jYWxOYW1lJiZnKGEpfSksSChhLnJlbW92ZWROb2RlcyxmdW5jdGlvbihhKXthLmxvY2FsTmFtZSYmbihhKX0pKX0pLEIuZG9tJiZjb25zb2xlLmdyb3VwRW5kKCl9ZnVuY3Rpb24gdihhKXtmb3IoYXx8KGE9cShkb2N1bWVudCkpO2EucGFyZW50Tm9kZTspYT1hLnBhcmVudE5vZGU7dmFyIGI9YS5fX29ic2VydmVyO2ImJih1KGIudGFrZVJlY29yZHMoKSksaygpKX1mdW5jdGlvbiB3KGEpe2lmKCFhLl9fb2JzZXJ2ZXIpe3ZhciBiPW5ldyBNdXRhdGlvbk9ic2VydmVyKHUpO2Iub2JzZXJ2ZShhLHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0pLGEuX19vYnNlcnZlcj1ifX1mdW5jdGlvbiB4KGEpe3coYSl9ZnVuY3Rpb24geShhKXtCLmRvbSYmY29uc29sZS5ncm91cChcInVwZ3JhZGVEb2N1bWVudDogXCIsYS5iYXNlVVJJLnNwbGl0KFwiL1wiKS5wb3AoKSksZyhhKSxCLmRvbSYmY29uc29sZS5ncm91cEVuZCgpfWZ1bmN0aW9uIHooYSl7RT1bXSxBKGEpLEU9bnVsbH1mdW5jdGlvbiBBKGEpe2lmKGE9cShhKSwhKEUuaW5kZXhPZihhKT49MCkpe0UucHVzaChhKTtmb3IodmFyIGIsYz1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJsaW5rW3JlbD1cIitDK1wiXVwiKSxkPTAsZT1jLmxlbmd0aDtlPmQmJihiPWNbZF0pO2QrKyliLmltcG9ydCYmYi5pbXBvcnQuX19wYXJzZWQmJkEoYi5pbXBvcnQpO3koYSl9fXZhciBCPXdpbmRvdy5sb2dGbGFnc3x8e30sQz13aW5kb3cuSFRNTEltcG9ydHM/SFRNTEltcG9ydHMuSU1QT1JUX0xJTktfVFlQRTpcIm5vbmVcIixEPSF3aW5kb3cuTXV0YXRpb25PYnNlcnZlcnx8d2luZG93Lk11dGF0aW9uT2JzZXJ2ZXI9PT13aW5kb3cuSnNNdXRhdGlvbk9ic2VydmVyO2EuaGFzUG9seWZpbGxNdXRhdGlvbnM9RDt2YXIgRSxGPSExLEc9W10sSD1BcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsLmJpbmQoQXJyYXkucHJvdG90eXBlLmZvckVhY2gpO2EuSU1QT1JUX0xJTktfVFlQRT1DLGEud2F0Y2hTaGFkb3c9cyxhLnVwZ3JhZGVEb2N1bWVudFRyZWU9eixhLnVwZ3JhZGVBbGw9ZyxhLnVwZ3JhZGVTdWJ0cmVlPWYsYS5pbnNlcnRlZE5vZGU9aSxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXksYS50YWtlUmVjb3Jkcz12fSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYixnKXt2YXIgaD1nfHx7fTtpZighYil0aHJvdyBuZXcgRXJyb3IoXCJkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ6IGZpcnN0IGFyZ3VtZW50IGBuYW1lYCBtdXN0IG5vdCBiZSBlbXB0eVwiKTtpZihiLmluZGV4T2YoXCItXCIpPDApdGhyb3cgbmV3IEVycm9yKFwiZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50OiBmaXJzdCBhcmd1bWVudCAoJ25hbWUnKSBtdXN0IGNvbnRhaW4gYSBkYXNoICgnLScpLiBBcmd1bWVudCBwcm92aWRlZCB3YXMgJ1wiK1N0cmluZyhiKStcIicuXCIpO2lmKGMoYikpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3JlZ2lzdGVyRWxlbWVudCcgb24gJ0RvY3VtZW50JzogUmVnaXN0cmF0aW9uIGZhaWxlZCBmb3IgdHlwZSAnXCIrU3RyaW5nKGIpK1wiJy4gVGhlIHR5cGUgbmFtZSBpcyBpbnZhbGlkLlwiKTtpZihuKGIpKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZURlZmluaXRpb25FcnJvcjogYSB0eXBlIHdpdGggbmFtZSAnXCIrU3RyaW5nKGIpK1wiJyBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIik7aWYoIWgucHJvdG90eXBlKXRocm93IG5ldyBFcnJvcihcIk9wdGlvbnMgbWlzc2luZyByZXF1aXJlZCBwcm90b3R5cGUgcHJvcGVydHlcIik7cmV0dXJuIGguX19uYW1lPWIudG9Mb3dlckNhc2UoKSxoLmxpZmVjeWNsZT1oLmxpZmVjeWNsZXx8e30saC5hbmNlc3RyeT1kKGguZXh0ZW5kcyksZShoKSxmKGgpLGwoaC5wcm90b3R5cGUpLG8oaC5fX25hbWUsaCksaC5jdG9yPXAoaCksaC5jdG9yLnByb3RvdHlwZT1oLnByb3RvdHlwZSxoLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1oLmN0b3IsYS5yZWFkeSYmYS51cGdyYWRlRG9jdW1lbnRUcmVlKGRvY3VtZW50KSxoLmN0b3J9ZnVuY3Rpb24gYyhhKXtmb3IodmFyIGI9MDtiPHkubGVuZ3RoO2IrKylpZihhPT09eVtiXSlyZXR1cm4hMH1mdW5jdGlvbiBkKGEpe3ZhciBiPW4oYSk7cmV0dXJuIGI/ZChiLmV4dGVuZHMpLmNvbmNhdChbYl0pOltdfWZ1bmN0aW9uIGUoYSl7Zm9yKHZhciBiLGM9YS5leHRlbmRzLGQ9MDtiPWEuYW5jZXN0cnlbZF07ZCsrKWM9Yi5pcyYmYi50YWc7YS50YWc9Y3x8YS5fX25hbWUsYyYmKGEuaXM9YS5fX25hbWUpfWZ1bmN0aW9uIGYoYSl7aWYoIU9iamVjdC5fX3Byb3RvX18pe3ZhciBiPUhUTUxFbGVtZW50LnByb3RvdHlwZTtpZihhLmlzKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEudGFnKSxkPU9iamVjdC5nZXRQcm90b3R5cGVPZihjKTtkPT09YS5wcm90b3R5cGUmJihiPWQpfWZvcih2YXIgZSxmPWEucHJvdG90eXBlO2YmJmYhPT1iOyllPU9iamVjdC5nZXRQcm90b3R5cGVPZihmKSxmLl9fcHJvdG9fXz1lLGY9ZTthLm5hdGl2ZT1ifX1mdW5jdGlvbiBnKGEpe3JldHVybiBoKEIoYS50YWcpLGEpfWZ1bmN0aW9uIGgoYixjKXtyZXR1cm4gYy5pcyYmYi5zZXRBdHRyaWJ1dGUoXCJpc1wiLGMuaXMpLGkoYixjKSxiLl9fdXBncmFkZWRfXz0hMCxrKGIpLGEuaW5zZXJ0ZWROb2RlKGIpLGEudXBncmFkZVN1YnRyZWUoYiksYn1mdW5jdGlvbiBpKGEsYil7T2JqZWN0Ll9fcHJvdG9fXz9hLl9fcHJvdG9fXz1iLnByb3RvdHlwZTooaihhLGIucHJvdG90eXBlLGIubmF0aXZlKSxhLl9fcHJvdG9fXz1iLnByb3RvdHlwZSl9ZnVuY3Rpb24gaihhLGIsYyl7Zm9yKHZhciBkPXt9LGU9YjtlIT09YyYmZSE9PUhUTUxFbGVtZW50LnByb3RvdHlwZTspe2Zvcih2YXIgZixnPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLGg9MDtmPWdbaF07aCsrKWRbZl18fChPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxmLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxmKSksZFtmXT0xKTtlPU9iamVjdC5nZXRQcm90b3R5cGVPZihlKX19ZnVuY3Rpb24gayhhKXthLmNyZWF0ZWRDYWxsYmFjayYmYS5jcmVhdGVkQ2FsbGJhY2soKX1mdW5jdGlvbiBsKGEpe2lmKCFhLnNldEF0dHJpYnV0ZS5fcG9seWZpbGxlZCl7dmFyIGI9YS5zZXRBdHRyaWJ1dGU7YS5zZXRBdHRyaWJ1dGU9ZnVuY3Rpb24oYSxjKXttLmNhbGwodGhpcyxhLGMsYil9O3ZhciBjPWEucmVtb3ZlQXR0cmlidXRlO2EucmVtb3ZlQXR0cmlidXRlPWZ1bmN0aW9uKGEpe20uY2FsbCh0aGlzLGEsbnVsbCxjKX0sYS5zZXRBdHRyaWJ1dGUuX3BvbHlmaWxsZWQ9ITB9fWZ1bmN0aW9uIG0oYSxiLGMpe2E9YS50b0xvd2VyQ2FzZSgpO3ZhciBkPXRoaXMuZ2V0QXR0cmlidXRlKGEpO2MuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBlPXRoaXMuZ2V0QXR0cmlidXRlKGEpO3RoaXMuYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrJiZlIT09ZCYmdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYSxkLGUpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGE/elthLnRvTG93ZXJDYXNlKCldOnZvaWQgMH1mdW5jdGlvbiBvKGEsYil7elthXT1ifWZ1bmN0aW9uIHAoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGcoYSl9fWZ1bmN0aW9uIHEoYSxiLGMpe3JldHVybiBhPT09QT9yKGIsYyk6QyhhLGIpfWZ1bmN0aW9uIHIoYSxiKXt2YXIgYz1uKGJ8fGEpO2lmKGMpe2lmKGE9PWMudGFnJiZiPT1jLmlzKXJldHVybiBuZXcgYy5jdG9yO2lmKCFiJiYhYy5pcylyZXR1cm4gbmV3IGMuY3Rvcn1pZihiKXt2YXIgZD1yKGEpO3JldHVybiBkLnNldEF0dHJpYnV0ZShcImlzXCIsYiksZH12YXIgZD1CKGEpO3JldHVybiBhLmluZGV4T2YoXCItXCIpPj0wJiZpKGQsSFRNTEVsZW1lbnQpLGR9ZnVuY3Rpb24gcyhhKXtpZighYS5fX3VwZ3JhZGVkX18mJmEubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJpc1wiKSxjPW4oYnx8YS5sb2NhbE5hbWUpO2lmKGMpe2lmKGImJmMudGFnPT1hLmxvY2FsTmFtZSlyZXR1cm4gaChhLGMpO2lmKCFiJiYhYy5leHRlbmRzKXJldHVybiBoKGEsYyl9fX1mdW5jdGlvbiB0KGIpe3ZhciBjPUQuY2FsbCh0aGlzLGIpO3JldHVybiBhLnVwZ3JhZGVBbGwoYyksY31hfHwoYT13aW5kb3cuQ3VzdG9tRWxlbWVudHM9e2ZsYWdzOnt9fSk7dmFyIHU9YS5mbGFncyx2PUJvb2xlYW4oZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50KSx3PSF1LnJlZ2lzdGVyJiZ2JiYhd2luZG93LlNoYWRvd0RPTVBvbHlmaWxsJiYoIXdpbmRvdy5IVE1MSW1wb3J0c3x8SFRNTEltcG9ydHMudXNlTmF0aXZlKTtpZih3KXt2YXIgeD1mdW5jdGlvbigpe307YS5yZWdpc3RyeT17fSxhLnVwZ3JhZGVFbGVtZW50PXgsYS53YXRjaFNoYWRvdz14LGEudXBncmFkZT14LGEudXBncmFkZUFsbD14LGEudXBncmFkZVN1YnRyZWU9eCxhLm9ic2VydmVEb2N1bWVudD14LGEudXBncmFkZURvY3VtZW50PXgsYS51cGdyYWRlRG9jdW1lbnRUcmVlPXgsYS50YWtlUmVjb3Jkcz14LGEucmVzZXJ2ZWRUYWdMaXN0PVtdfWVsc2V7dmFyIHk9W1wiYW5ub3RhdGlvbi14bWxcIixcImNvbG9yLXByb2ZpbGVcIixcImZvbnQtZmFjZVwiLFwiZm9udC1mYWNlLXNyY1wiLFwiZm9udC1mYWNlLXVyaVwiLFwiZm9udC1mYWNlLWZvcm1hdFwiLFwiZm9udC1mYWNlLW5hbWVcIixcIm1pc3NpbmctZ2x5cGhcIl0sej17fSxBPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLEI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudC5iaW5kKGRvY3VtZW50KSxDPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUy5iaW5kKGRvY3VtZW50KSxEPU5vZGUucHJvdG90eXBlLmNsb25lTm9kZTtkb2N1bWVudC5yZWdpc3RlckVsZW1lbnQ9Yixkb2N1bWVudC5jcmVhdGVFbGVtZW50PXIsZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TPXEsTm9kZS5wcm90b3R5cGUuY2xvbmVOb2RlPXQsYS5yZWdpc3RyeT16LGEudXBncmFkZT1zfXZhciBFO0U9T2JqZWN0Ll9fcHJvdG9fX3x8dz9mdW5jdGlvbihhLGIpe3JldHVybiBhIGluc3RhbmNlb2YgYn06ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9YTtjOyl7aWYoYz09PWIucHJvdG90eXBlKXJldHVybiEwO2M9Yy5fX3Byb3RvX199cmV0dXJuITF9LGEuaW5zdGFuY2VvZj1FLGEucmVzZXJ2ZWRUYWdMaXN0PXksZG9jdW1lbnQucmVnaXN0ZXI9ZG9jdW1lbnQucmVnaXN0ZXJFbGVtZW50LGEuaGFzTmF0aXZlPXYsYS51c2VOYXRpdmU9d30od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe3JldHVyblwibGlua1wiPT09YS5sb2NhbE5hbWUmJmEuZ2V0QXR0cmlidXRlKFwicmVsXCIpPT09Y312YXIgYz1hLklNUE9SVF9MSU5LX1RZUEUsZD17c2VsZWN0b3JzOltcImxpbmtbcmVsPVwiK2MrXCJdXCJdLG1hcDp7bGluazpcInBhcnNlTGlua1wifSxwYXJzZTpmdW5jdGlvbihhKXtpZighYS5fX3BhcnNlZCl7YS5fX3BhcnNlZD0hMDt2YXIgYj1hLnF1ZXJ5U2VsZWN0b3JBbGwoZC5zZWxlY3RvcnMpO2UoYixmdW5jdGlvbihhKXtkW2QubWFwW2EubG9jYWxOYW1lXV0oYSl9KSxDdXN0b21FbGVtZW50cy51cGdyYWRlRG9jdW1lbnQoYSksQ3VzdG9tRWxlbWVudHMub2JzZXJ2ZURvY3VtZW50KGEpfX0scGFyc2VMaW5rOmZ1bmN0aW9uKGEpe2IoYSkmJnRoaXMucGFyc2VJbXBvcnQoYSl9LHBhcnNlSW1wb3J0OmZ1bmN0aW9uKGEpe2EuaW1wb3J0JiZkLnBhcnNlKGEuaW1wb3J0KX19LGU9QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbC5iaW5kKEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKTthLnBhcnNlcj1kLGEuSU1QT1JUX0xJTktfVFlQRT1jfSh3aW5kb3cuQ3VzdG9tRWxlbWVudHMpLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoKXtDdXN0b21FbGVtZW50cy5wYXJzZXIucGFyc2UoZG9jdW1lbnQpLEN1c3RvbUVsZW1lbnRzLnVwZ3JhZGVEb2N1bWVudChkb2N1bWVudCksd2luZG93LkhUTUxJbXBvcnRzJiYoSFRNTEltcG9ydHMuX19pbXBvcnRzUGFyc2luZ0hvb2s9ZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHMucGFyc2VyLnBhcnNlKGEuaW1wb3J0KX0pLEN1c3RvbUVsZW1lbnRzLnJlYWR5PSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtDdXN0b21FbGVtZW50cy5yZWFkeVRpbWU9RGF0ZS5ub3coKSx3aW5kb3cuSFRNTEltcG9ydHMmJihDdXN0b21FbGVtZW50cy5lbGFwc2VkPUN1c3RvbUVsZW1lbnRzLnJlYWR5VGltZS1IVE1MSW1wb3J0cy5yZWFkeVRpbWUpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwiV2ViQ29tcG9uZW50c1JlYWR5XCIse2J1YmJsZXM6ITB9KSl9KX1pZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQmJih3aW5kb3cuQ3VzdG9tRXZlbnQ9ZnVuY3Rpb24oYSxiKXtiPWJ8fHt9O3ZhciBjPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIik7cmV0dXJuIGMuaW5pdEN1c3RvbUV2ZW50KGEsQm9vbGVhbihiLmJ1YmJsZXMpLEJvb2xlYW4oYi5jYW5jZWxhYmxlKSxiLmRldGFpbCksY30sd2luZG93LkN1c3RvbUV2ZW50LnByb3RvdHlwZT13aW5kb3cuRXZlbnQucHJvdG90eXBlKSxcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlfHxhLmZsYWdzLmVhZ2VyKWIoKTtlbHNlIGlmKFwiaW50ZXJhY3RpdmVcIiE9PWRvY3VtZW50LnJlYWR5U3RhdGV8fHdpbmRvdy5hdHRhY2hFdmVudHx8d2luZG93LkhUTUxJbXBvcnRzJiYhd2luZG93LkhUTUxJbXBvcnRzLnJlYWR5KXt2YXIgYz13aW5kb3cuSFRNTEltcG9ydHMmJiFIVE1MSW1wb3J0cy5yZWFkeT9cIkhUTUxJbXBvcnRzTG9hZGVkXCI6XCJET01Db250ZW50TG9hZGVkXCI7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoYyxiKX1lbHNlIGIoKX0od2luZG93LkN1c3RvbUVsZW1lbnRzKSxmdW5jdGlvbigpe2lmKHdpbmRvdy5TaGFkb3dET01Qb2x5ZmlsbCl7dmFyIGE9W1widXBncmFkZUFsbFwiLFwidXBncmFkZVN1YnRyZWVcIixcIm9ic2VydmVEb2N1bWVudFwiLFwidXBncmFkZURvY3VtZW50XCJdLGI9e307YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2JbYV09Q3VzdG9tRWxlbWVudHNbYV19KSxhLmZvckVhY2goZnVuY3Rpb24oYSl7Q3VzdG9tRWxlbWVudHNbYV09ZnVuY3Rpb24oYyl7cmV0dXJuIGJbYV0od3JhcChjKSl9fSl9fSgpLGZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoKXt3aW5kb3cuUG9seW1lcj09PWUmJih3aW5kb3cuUG9seW1lcj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcignWW91IHRyaWVkIHRvIHVzZSBwb2x5bWVyIHdpdGhvdXQgbG9hZGluZyBpdCBmaXJzdC4gVG8gbG9hZCBwb2x5bWVyLCA8bGluayByZWw9XCJpbXBvcnRcIiBocmVmPVwiY29tcG9uZW50cy9wb2x5bWVyL3BvbHltZXIuaHRtbFwiPicpfSl9aWYoIXdpbmRvdy5wZXJmb3JtYW5jZSl7dmFyIGM9RGF0ZS5ub3coKTt3aW5kb3cucGVyZm9ybWFuY2U9e25vdzpmdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdygpLWNcbn19fXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZTtyZXR1cm4gYT9mdW5jdGlvbihiKXtyZXR1cm4gYShmdW5jdGlvbigpe2IocGVyZm9ybWFuY2Uubm93KCkpfSl9OmZ1bmN0aW9uKGEpe3JldHVybiB3aW5kb3cuc2V0VGltZW91dChhLDFlMy82MCl9fSgpKSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lfHx3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dChhKX19KCkpO3ZhciBkPVtdLGU9ZnVuY3Rpb24oYSl7XCJzdHJpbmdcIiE9dHlwZW9mIGEmJjE9PT1hcmd1bWVudHMubGVuZ3RoJiZBcnJheS5wcm90b3R5cGUucHVzaC5jYWxsKGFyZ3VtZW50cyxkb2N1bWVudC5fY3VycmVudFNjcmlwdCksZC5wdXNoKGFyZ3VtZW50cyl9O3dpbmRvdy5Qb2x5bWVyPWUsYS5jb25zdW1lRGVjbGFyYXRpb25zPWZ1bmN0aW9uKGIpe2EuY29uc3VtZURlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3Rocm93XCJQb3NzaWJsZSBhdHRlbXB0IHRvIGxvYWQgUG9seW1lciB0d2ljZVwifSxiJiZiKGQpLGQ9bnVsbH0sSFRNTEltcG9ydHMudXNlTmF0aXZlP2IoKTphZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGIpfSh3aW5kb3cuUGxhdGZvcm0pLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO2EudGV4dENvbnRlbnQ9XCJib2R5IHt0cmFuc2l0aW9uOiBvcGFjaXR5IGVhc2UtaW4gMC4yczsgfSBcXG5ib2R5W3VucmVzb2x2ZWRdIHtvcGFjaXR5OiAwOyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IGhpZGRlbjsgcG9zaXRpb246IHJlbGF0aXZlOyB9IFxcblwiO3ZhciBiPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpO2IuaW5zZXJ0QmVmb3JlKGEsYi5maXJzdENoaWxkKX0oUGxhdGZvcm0pLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxiKXtyZXR1cm4gYj1ifHxbXSxiLm1hcHx8KGI9W2JdKSxhLmFwcGx5KHRoaXMsYi5tYXAoZCkpfWZ1bmN0aW9uIGMoYSxjLGQpe3ZhciBlO3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuO2Nhc2UgMTplPW51bGw7YnJlYWs7Y2FzZSAyOmU9Yy5hcHBseSh0aGlzKTticmVhaztkZWZhdWx0OmU9YihkLGMpfWZbYV09ZX1mdW5jdGlvbiBkKGEpe3JldHVybiBmW2FdfWZ1bmN0aW9uIGUoYSxjKXtIVE1MSW1wb3J0cy53aGVuSW1wb3J0c1JlYWR5KGZ1bmN0aW9uKCl7YihjLGEpfSl9dmFyIGY9e307YS5tYXJzaGFsPWQsYS5tb2R1bGFyaXplPWMsYS51c2luZz1lfSh3aW5kb3cpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViY29tcG9uZW50cy5qcy5tYXBcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pIiwiJ3VzZSBzdHJpY3QnO1xuXG5yZXF1aXJlKFwiLi8uLi8uLi9ib3dlcl9jb21wb25lbnRzL2VzNi1wcm9taXNlL3Byb21pc2UuanNcIik7XG5yZXF1aXJlKFwiLi8uLi8uLi9ib3dlcl9jb21wb25lbnRzL2ZldGNoL2ZldGNoLmpzXCIpO1xucmVxdWlyZShcIi4vLi4vLi4vYm93ZXJfY29tcG9uZW50cy93ZWJjb21wb25lbnRzLmpzL3dlYmNvbXBvbmVudHMuanNcIik7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcblxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5wcm9jZXNzLm5leHRUaWNrID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2FuU2V0SW1tZWRpYXRlID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cuc2V0SW1tZWRpYXRlO1xuICAgIHZhciBjYW5Qb3N0ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAmJiB3aW5kb3cucG9zdE1lc3NhZ2UgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXJcbiAgICA7XG5cbiAgICBpZiAoY2FuU2V0SW1tZWRpYXRlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZikgeyByZXR1cm4gd2luZG93LnNldEltbWVkaWF0ZShmKSB9O1xuICAgIH1cblxuICAgIGlmIChjYW5Qb3N0KSB7XG4gICAgICAgIHZhciBxdWV1ZSA9IFtdO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGV2LnNvdXJjZTtcbiAgICAgICAgICAgIGlmICgoc291cmNlID09PSB3aW5kb3cgfHwgc291cmNlID09PSBudWxsKSAmJiBldi5kYXRhID09PSAncHJvY2Vzcy10aWNrJykge1xuICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmbiA9IHF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmV4dFRpY2soZm4pIHtcbiAgICAgICAgICAgIHF1ZXVlLnB1c2goZm4pO1xuICAgICAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKCdwcm9jZXNzLXRpY2snLCAnKicpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0VGljayhmbikge1xuICAgICAgICBzZXRUaW1lb3V0KGZuLCAwKTtcbiAgICB9O1xufSkoKTtcblxucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59XG5cbi8vIFRPRE8oc2h0eWxtYW4pXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbiJdfQ==
